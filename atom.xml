<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>MerryJingle</title>
  <icon>https://blog.pengfeima.cn/img/portrait.png</icon>
  <subtitle>快乐的铃铛 | Beautiful Mess</subtitle>
  <link href="https://blog.pengfeima.cn/atom.xml" rel="self"/>
  
  <link href="https://blog.pengfeima.cn/"/>
  <updated>2023-01-14T04:31:12.269Z</updated>
  <id>https://blog.pengfeima.cn/</id>
  
  <author>
    <name>MerryJingle</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>红烧带鱼</title>
    <link href="https://blog.pengfeima.cn/posts/40934/"/>
    <id>https://blog.pengfeima.cn/posts/40934/</id>
    <published>2023-01-01T10:46:02.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p> </p><span id="more"></span><div class="tag-plugin note" ><div class="body"><h3 id="调料"><a class="markdownIt-Anchor" href="#调料"></a> 调料</h3><ul><li>盐、黄酒、胡椒粉</li><li>猪油、葱、姜、蒜</li><li>黄酒、醋、糖、生抽、老抽</li></ul><blockquote><p>实际上，我没找到胡椒粉、猪油、葱，味道也不差。</p></blockquote><h3 id="处理食材"><a class="markdownIt-Anchor" href="#处理食材"></a> 处理食材</h3><ul><li>带鱼切成段，洗净骨血，用盐、黄酒、胡椒粉腌制十分钟</li><li>蒜、姜拍碎，切成小粒，大葱斜切成片</li></ul><h3 id="做法"><a class="markdownIt-Anchor" href="#做法"></a> 做法</h3><ul><li>热锅凉油，小火，将带鱼块煎至定型</li><li>新锅，猪油炒葱、姜、蒜</li><li>倒入带鱼块，烹酒点醋，加入生抽、少量老抽</li><li>加入热水、盐、糖，收汁</li></ul><h3 id="成品"><a class="markdownIt-Anchor" href="#成品"></a> 成品</h3><p>焦糖色，内部白嫩，带鱼腥味基本去净，味鲜，微微酸甜</p><p><img src="https://githubimages.pengfeima.cn/images/202301011938760.png" alt="image-20230101193801545" /></p><h3 id="视频教程"><a class="markdownIt-Anchor" href="#视频教程"></a> 视频教程</h3><iframe src="//player.bilibili.com/player.html?aid=942449450&bvid=BV1HW4y1t7yo&cid=814182038&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></div> ]]></content>
    
    
    <summary type="html">&lt;p&gt; &lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>青铜骑士</title>
    <link href="https://blog.pengfeima.cn/posts/47683/"/>
    <id>https://blog.pengfeima.cn/posts/47683/</id>
    <published>2023-01-01T05:32:11.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>前记：这篇故事所叙述的事件是以事实为根据的。洪水泛滥的详情引自当时报刊的记载。好奇的读者可以参看B .H.伯尔赫的记事便知其详。</p><span id="more"></span><div class="tag-plugin poetry"><div class="content"><div class="title">青铜骑士</div><div class="meta"><span>普希金著 查良铮译</span></div><div class="body"><p>楔 子</p><p>那里，在寥廓的海波之旁<br />　　 他站着，充满了伟大的思想，<br />　　 向远方凝视。在他前面<br />　　 河水广阔地奔流；独木船<br />　　 在波涛上摇荡，凄凉而孤单。<br />　　 在铺满青苔的潮湿的岸沿，<br />　　 黝黑的茅屋东一处，西一处，<br />　　 贫苦的芬兰人在那里栖身。<br />　　 太阳躲进了一片浓雾。<br />　　 从没有见过阳光的森林<br />　　 在四周喧哗。<br />　　 而他想道：<br />　　 我们就要从这里威胁瑞典。<br />　　 在这里就要建立起城堡，<br />　　 使傲慢的邻邦感到难堪。<br />　　 大自然在这里设好了窗口，<br />　　 我们打开它便通向欧洲。<br />　　 就在海边，我们要站稳脚步。<br />　　 各国的船帆将要来汇集，<br />　　 在这新的海程上游历，<br />　　 而我们将在海空里欢舞。<br />　　<br />　　<br />　　 一百年过去了，年轻的城<br />　　 成了北国的明珠和奇迹，<br />　　 从幽暗的树林，从沼泽中，<br />　　 它把灿烂的，傲岸的头高耸；<br />　　 这里原只有芬兰的渔民，<br />　　 像是自然的继子，郁郁寡欢，<br />　　 孤单的，靠近低湿的河岸<br />　　 把他那破旧的鱼网投进<br />　　 幽深莫测的水里。可是如今<br />　　 海岸上却充满了生气，<br />　　 匀称整齐的宫殿和高阁<br />　　 拥聚在一起，成群的<br />　　 大船，从世界每个角落<br />　　 奔向这豪富的港口停泊。<br />　　 涅瓦河披上大理石的外衣，<br />　　 高大的桥梁横跨过水波,<br />　　 河心的小岛遮遮掩掩， ‘<br />　　 遮进了一片浓绿的花园,<br />　　 而在这年轻的都城旁边<br />　　 古老的莫斯科日趋暗淡，<br />　　 有如寡居的太后站在<br />　　 刚刚加冕的女皇前面。<br />　　<br />　　<br />　　<br />　　 我爱你，彼得兴建的城，<br />　　 我爱你严肃整齐的面容，<br />　　 涅瓦河的水流多么庄严，<br />　　 大理石铺在它的两岸；<br />　　 我爱你铁栏杆的花纹，<br />　　 你沉思的没有月光的夜晚,<br />　　 那透明而又闪耀的幽暗。<br />　　 常常，我独自坐在屋子里,<br />　　 不用点灯，写作或读书，<br />　　 我清楚地看见条条街路<br />　　 在静静地安睡。我看见<br />　　 海军部的塔尖多么明亮。<br />　　 在金光灿烂的天空，当黑夜<br />　　 还来不及把帐幕拉上，<br />　　 曙光却已一线接着一线，<br />　　 让黑夜只停留半个钟点。<br />　　 我爱你的冷酷的冬天，<br />　　 你的冰霜和凝结的空气，<br />　　 多少雪橇奔驰在涅瓦河边，<br />　　 少女的脸比玫瑰更为艳丽；<br />　　 还有舞会的笑闹和窃窃私语，<br />　　 单身汉在深夜的豪饮狂欢，<br />　　 酒杯冒着泡沫，丝丝地响,<br />　　 彭式酒流着蓝色的火焰。<br />　　 我爱你的战神的操场<br />　　 青年军人的英武的演习,<br />　　 步兵和骑兵列阵成行，<br />　　 单调中另有一种壮丽.<br />　　 呵，在栉比的行列中，飘扬着<br />　　 多少碎裂的，胜利的军旗，<br />　　 还有在战斗中打穿的钢盔，<br />　　 也给行列带来耀目的光辉。<br />　　 我爱你，俄罗斯的军事重镇，<br />　　 我爱你的堡垒巨炮轰鸣，<br />　　 当北国的皇后传来喜讯：<br />　　 一个太子在宫廷里诞生；<br />　　 或者俄罗斯战败了敌人，<br />　　 又一次庆祝她的光荣；<br />　　 或者是涅瓦河冰冻崩裂，<br />　　 蓝色的冰块向大海倾泻，<br />　　 因为感到春意，欢声雷动。<br />　　 巍然矗立吧，彼得的城!<br />　　 像俄罗斯一样的屹立不动；<br />　　 总有一天，连自然的威力<br />　　 也将要对你俯首屈膝。<br />　　 让芬兰的海波永远忘记<br />　　 它古代的屈服和敌意，<br />　　 再不要挑动枉然的刀兵<br />　　 惊扰彼得的永恒的梦。<br />　　<br />　　 然而，有过一个可怕的时辰，<br />　　 人们还能够清晰地记忆……<br />　　关于这；亲爱的读者，我将对你<br />　　叙述如下的一段事情,<br />　　我的故事可是异常的忧郁.</p><p>第一部<br />在幽暗的彼得堡的天空<br />吹着十一月的寒冷的秋风<br />涅瓦河涌起轰响的巨浪<br />冲击着整齐的石铺的岸墙<br />河水激动着旋转着像是病人<br />在她的床上不断地翻腾<br />这时候天色已晚在昏黑中<br />雨点急骤地敲打窗户而风<br />愁惨地吹扫吼吼地嘶鸣<br />这时候刚刚做客归来回到家门<br />有一个青年名叫欧根<br />我们要用这个名字称呼<br />故事的主人公因为我喜欢<br />它的音调并且曾有一度<br />它和我的笔结过不解的因缘<br />他姓什么我们不想再钻研<br />尽管这姓氏也许在过去<br />一度出现在显赫的门第<br />甚至于史家克拉姆金<br />也许在笔下使这一族扬名<br />但是如今上流社会和传闻<br />却早把它忘得干干净净<br />我们的主角在某一处任职<br />住在科隆那一个要人也不认识<br />他既不向往死去的祖先<br />也没有叹息已逝的流年<br />好了既回到了家欧根<br />扔开外套脱下衣服上了床<br />但是睡眠他却不能<br />他的脑海里翻腾着不少事情<br />他想什么呢原来在盘算<br />他是多么微贱和贫寒<br />他必须辛辛苦苦才能期望<br />一个安定的生活一点荣誉<br />但愿上帝仁慈多给他<br />一些金钱和智慧他想起<br />也有些花天酒地的富翁<br />那些头脑并不高明的懒虫<br />他们的生活却多么适意<br />而他任职总共才只两年<br />他的思虑又转向天气风雨<br />还没有停息傍近河沿<br />波涛不断地上涨几乎冲去<br />涅瓦河的桥使交通中断<br />他想到巴娜莎那怎么办<br />和她就要两天或三天不见<br />想到这里欧根衷心地痛惜<br />并且像诗人一样幻想下去<br />我能结婚吗为什么不<br />自然这可能是非常艰苦<br />我准备操劳日夜不停<br />总会有个办法安置个家<br />使它简单安恬并不奢华<br />在那里安置下我的巴娜莎<br />也许过那么一年两载<br />就会找到差使把家事<br />交给巴娜莎管理和主持<br />并且教育我们的小孩<br />就这样我们活着手拉着手<br />生死相共到死也不分离<br />教子孙把我们埋在一起<br />他想着一夜想个不停<br />他忧郁并且衷心地期望<br />秋风不要嚎得这样愁人<br />雨点也不要打在窗上<br />这样无情<br />但是睡眠<br />终于合上他的眼睛呵看<br />幽暗的风雨夜已渐渐消逝<br />让惨淡的白日接着统治<br />悲惨的白日<br />涅瓦河一整夜<br />抗拒着风暴向大海倾泻<br />但终于敌不过它的暴力<br />和它搏斗已用尽了力气<br />次日清早在河水的两岸<br />成群的居民汇集举目遥望<br />他们观赏着水花的泼溅<br />和汹涌的排山倒海的巨浪<br />但是从海湾吹来猛烈的风<br />顶住了水流不能前行<br />她翻来覆去愤怒咆哮<br />她退回淹没河心的小岛<br />这时候天时更为凶险<br />咆哮的涅瓦不断上升<br />她沸腾得像是一壶滚水<br />像是野兽猛然发了疯<br />突地向城市扑去在她面前<br />一切让开路她的周围<br />立刻是死寂和荒凉洪水<br />灌进了地窖爬过门槛<br />运河也涌上了它的铁栏<br />看彼得堡像传说的人鱼<br />她的半截身子浸在水里<br />呵围攻偷袭邪恶的波浪<br />像盗贼似地爬进门窗<br />小船一摆船尾把玻璃撞碎<br />摊贩的木板上裹着布帷<br />残破的草房木片屋檐<br />小本生意的什物杂件<br />贫穷人家的所有资财<br />雷雨摧毁的桥梁的碎片<br />和从坟墓冲出的棺材<br />一切都飘浮在街上<br />人民 眼见上苍的愤怒等待死亡<br />唉一切都完了衣食和房间<br />哪儿去找<br />那是悲惨的一年<br />我们的沙皇还正光芒万丈<br />统治着俄罗斯他出现<br />在凉台上忧郁迷惆<br />他说沙皇可不能管辖<br />冥冥中的自然力他坐下<br />他以悲伤的眼睛沉思地<br />遥望那险恶危殆的灾区<br />以前的广场已变为湖泽<br />条条大河是以前的街衢<br />而皇宫像是阴沉的岛国<br />处在大水中沙皇只开口<br />说了句话请看他的将军<br />他们便东西南北遍及全城<br />有的走向大街有的穿过小弄<br />在波涛里出入奋不顾身<br />搭救那被洪水吓呆的游魂<br />那等着淹没在家门的居民<br />那时候在彼得广场的一角<br />一所新的巨厦刚刚盖好<br />在高大的阶台上一对石狮<br />像活的一样张牙舞爪<br />在门口把守可怜的欧根<br />他的两手在胸前十字交叉<br />没戴帽子苍白得可怕<br />正静静地坐在石狮背上<br />动也不动然而这可怜人<br />并没有为自己恐惧任波浪<br />怎样贪婪地拍打溅到脚跟<br />他并没有听见没有留心<br />任雨点怎样淋湿着脸<br />怒吼的风怎样摆出威严<br />并且把他的帽子吹到天空<br />他只把自己忧郁的眼睛<br />凝固在一个遥远的方向<br />在那里山峰似的波浪<br />仿佛是从汹涌的海底<br />翻腾上来把一切冲掉<br />那里暴风雨在怒号<br />那里房屋的碎片在浮荡<br />而就在巨浪近处呵天天<br />就在那海湾的旁边<br />一棵垂柳一道简陋的篱墙<br />墙里有破旧的小屋住着一家<br />母女两人住着他的巴娜莎<br />他的美梦难道是在梦里<br />他看见这一切难道人生<br />只是一场空一个春梦<br />或是上天对我们的嘲弄<br />这时候他好像是中了魔魅<br />好像是和石狮结为一体<br />不能够下来在他周围<br />再没有别的只是水水<br />而上面在那稳固的高空<br />超然于河水的旋流急浪<br />背对着欧根以手挥向<br />无际的远方坚定肃静<br />是骑着青铜巨马的人像</p><p>第二部<br />但如今涅瓦河发够了脾气<br />暴虐和破坏已使她厌腻<br />终于回转来却一路欣赏<br />自己的横暴造成的情景<br />并且把虏获随处抛扬<br />这好像是盗匪的首领<br />带着一队人马突入村镇<br />他们凶残地打家劫舍<br />杀烧和虏掠哭号愤恨<br />詈骂和扭打天大的灾祸<br />一切做完强盗迅速撤退<br />害怕追兵又因为满载而归<br />不胜疲劳便在一路<br />抛下他们劫来的财物<br />洪水撤退了石铺的路<br />已经呈现而我的欧根<br />心怀着忧思希望和恐怖<br />一路奔跑着像失了魂<br />跑向那尚未平伏的河身<br />那里像在得意刚才的胜利<br />怒吼的波浪仍旧在翻腾<br />水面上仍旧滚满了汽泡<br />像是有炉火在下面燃烧<br />像是战马刚刚回归阵地<br />涅瓦河是这样急促地喘息<br />欧根远望着看见一只船<br />仿佛获得了意外的发现<br />他一面追去一面叫喊<br />摆渡的船夫正自悠闲<br />情愿只要几个铜板<br />把他渡过波涛的彼岸<br />和波涛搏斗了很长时间<br />看那小船老是没入浪里<br />一连串的波浪就要打翻<br />大胆的搭客但终于<br />他来到对岸<br />这不幸的人<br />跑过所有熟悉的街巷<br />去到他熟悉的地方举目四望<br />却再也不认识呵可怕的景象<br />在他眼前一切都很零乱<br />这里一片荒凉那里一堆破烂<br />房屋变了形状有的<br />完全倾圮了另外一些<br />被洪水搬了地方而且<br />像是战场上横陈着尸身<br />他一眼看见周围的死人<br />一阵昏眩他什么也没想<br />尽管苦难的折磨已使他疲弱<br />却飞快地跑去到那地方<br />那里不可知的命运正在期待<br />像是密封的信函等他拆开<br />看这里他跑过城郊这里<br />是海湾附近便是他熟悉的<br />房子它怎样了<br />他站住<br />他转来转去又走回原处<br />看一看转过身仔细观察<br />就在这里应该是她的家<br />这里是柳树原来有篱墙<br />显然洪水已经把它扫光<br />但哪里有房子他迷惘<br />他踱来踱去想了又想<br />自言自语高声说个不住<br />而突然用手拍着前额<br />他大笑起来<br />夜的帷幕<br />向战栗的城轻轻垂落<br />但它的居民却在谈论<br />白天所发生的一切不幸<br />久久不能安睡<br />破晓的光<br />透过疲惫而苍白的云彩<br />流入安静的都城这光亮<br />已不能找到昨天的灾害<br />留下的痕迹一片紫红遮盖了<br />丑恶的形象一切事情<br />和从前一样有条理地进行<br />在那畅达无阻的街心<br />人们依旧带着漠然的表情<br />面对面走过去那些官员<br />也放弃了昨夜隐蔽的桃源<br />到衙门正式办公勇敢的小贩<br />丝毫没有丧气把地窖<br />又从涅瓦河的手里接管<br />并且希望以邻居的钱包<br />填补自己重大的亏空小船<br />一只只从院子搬出去<br />末了<br />瓦斯托夫男爵天宠的诗人<br />也已吟唱了不朽的诗章<br />对涅瓦河的灾难表示哀伤<br />但是我可怜的可怜的欧根<br />唉他的脆弱而迷乱的神经<br />却经不住这可怕的打击<br />那涅瓦河的吼吼的风声<br />和翻天巨浪还在他的耳际<br />不断地轰鸣有什么恶梦<br />撕裂他的神志恐怖的思想<br />紧抓着他他只无言地游荡<br />一礼拜一个月转瞬已过<br />他从来没有回到家稍坐<br />他那幽僻的小屋既然<br />租期已满又没付租钱<br />一个穷诗人便来做了房客<br />欧根从此没有回来连衣物<br />也不要了整天地流浪<br />很快的世界便把他遗忘<br />夜晚他睡在码头从窗户<br />扔出的面包就是他的食物<br />他所穿的衣服原已破旧<br />这时更是稀烂一些顽童<br />朝他的背影扔着石头<br />更常常的马车夫的皮鞭<br />抽在他身上因为显然<br />他一点也不辨认路径<br />茫然无感内心的风暴<br />使他听不见外界的闹声<br />就这样他拖着一个躯壳<br />度过悲惨的岁月既不像人<br />又不像野兽既不像生灵<br />又不像阴间的鬼魂<br />有一晚<br />他睡在涅瓦河的码头上<br />夏令正渐渐地转为秋天<br />吹起了冷风黝黑的波浪<br />扑向码头打着光滑的阶沿<br />那声音像是幽诉和低怨<br />像是含冤的人在哀求法官<br />靠在他紧闭不动的门前<br />欧根惊醒来周围异常黑暗<br />雨在淋漓风吹得非常凄惨<br />在阴暗的远处一个岗哨<br />正远隔着夜雾朝他高呼<br />欧根吃了一惊过去的恐怖<br />重又在眼前浮现他连忙<br />爬起来到街上流浪<br />忽然他站住了睁大眼睛<br />静静扫视着四周的情景<br />脸上露着失魂的惊惶<br />他到了哪里眼前又是<br />巨厦的石柱和一对石狮<br />张牙舞爪和活的一样<br />把守在高大的阶台之上<br />而笔直的在幽暗的高空<br />在石栏里面纹丝不动<br />正是骑着铜马的巨人<br />以手挥向无际的远方<br />欧根不由得战栗他脑中<br />有些思想可怕的分明<br />他知道就在这里洪水泛滥<br />就在这里贪婪的波浪<br />包围他向他恶意地侵凌<br />包围着他石狮和广场<br />和那坚定的矗立的人<br />以铜的头颅伸向苍穹<br />就是这个人按照他的意志<br />在海岸上建立了一个城<br />看在幽暗里他是多么可怕<br />他的额际飘浮着怎样的思想<br />他掌握着怎样的力量<br />那匹马燃烧着怎样的烈焰<br />呵高傲的马你将奔向何方<br />你的蹄子将往哪里飞扬<br />呵你命运的有力的主宰<br />不正是这样一手握着铁缰<br />你勒住俄罗斯在悬崖上面<br />使她扬起前蹄站在高岗<br />这可怜的发疯的欧根<br />尽绕着铜像的脚边环行<br />他以惶惑的眼睛注视着<br />那统治半个世界的国君<br />但他的目光忽然昏暗<br />胸口感到窒息他把额角<br />贴靠着冰冷的栏杆<br />他的心里奔腾着火焰<br />他的血滚沸而突然沉郁地<br />他站在高傲的铜像前面<br />咬紧牙齿握着拳头<br />像突然有什么魔鬼附体<br />他全身战栗地低声诅咒<br />好呵建设家你创造的奇迹<br />等着我的说罢转过头<br />便飞快地逃去因为这时候<br />他似乎看见威严的皇帝<br />突然间怒气冲冲无声地<br />把他的脸转向欧根<br />而当他穿过广场逃奔<br />在空旷的广场上他却听见<br />仿佛背后霹雳一声雷鸣<br />仿佛有匹快马向他追赶<br />石路上响着清脆的蹄声<br />在他身后在苍白的月色下<br />看青铜骑士骑着快马<br />一面以手挥向高空<br />一面赶他这可怜的疯人<br />这一夜无论跑到什么地方<br />他总听见骑马的铜像<br />追赶他响着清脆的蹄声<br />从那时候起只要欧根<br />由于偶然的机会路过广场<br />他的脸上便显出慌张<br />惶惑的神情他会把手<br />迅速地放在自己的胸口<br />好像去抚摸那里的创伤<br />并且脱下破旧的小帽<br />低着头露着困窘的目光<br />绕一条小道溜去<br />在海滨<br />有一个小岛迟归的渔人<br />有时候把船在那里停泊<br />一面晾着鱼网一面烧着<br />他们简陋的晚餐或者<br />礼拜天一些官员划着小船<br />游经这里便到岛上休憩<br />它非常荒凉甚至没有一根草<br />在那里滋生洪水的泛滥<br />游戏似的把一间旧茅屋<br />冲流在那里在那水边<br />它便停留着像一丛灌木<br />去年春天来了一只大船<br />把破烂的茅屋移去那里面<br />一无所有但是在门口<br />我们的疯人却被人发现<br />自然人们看在上帝的面上<br />把这僵冷的尸体赶快就地埋葬</p></div><div class="footer">(写于1833年，来自互联网)</div></div></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;前记：这篇故事所叙述的事件是以事实为根据的。洪水泛滥的详情引自当时报刊的记载。好奇的读者可以参看B .H.伯尔赫的记事便知其详。&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>🏃留下跑步的脚印</title>
    <link href="https://blog.pengfeima.cn/posts/5481/"/>
    <id>https://blog.pengfeima.cn/posts/5481/</id>
    <published>2022-12-29T15:15:51.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>    有一个GitHub项目叫做<a href="https://github.com/yihong0618/running_page">Run Page</a>，它可以将你运动App中的跑步数据导出，在博客中展示出来，支持的App有Keep、Nike等。</p><div class="tag-plugin grid" ><div class="cell" index="0"><div class="tag-plugin image"><div class="image-bg"><img src="https://githubimages.pengfeima.cn/images/202212292331203.svg" alt="跑步打卡" fancybox="true" style="height:300px;"/></div><div class="image-meta"><span class="image-caption center">跑步打卡</span></div></div></div><div class="cell" index="1"><div class="tag-plugin image"><div class="image-bg"><img src="https://githubimages.pengfeima.cn/images/202212292314891.svg" alt="跑步路线图" fancybox="true" style="height:300px;"/></div><div class="image-meta"><span class="image-caption center">跑步路线图</span></div></div></div></div><span id="more"></span><h2 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h2><p>    原仓库中含有作者的跑步数据，可以用来调试程序。克隆仓库到本地，运行后面的命令。运行成功后，可以打开网页 <a href="http://localhost:8000/">http://localhost:8000/</a> 浏览。此时网页的内容与 <a href="https://running-page.vercel.app">https://running-page.vercel.app</a> 一致。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/yihong0618/running_page.git</span><br><span class="line">pip3 install -r requirements.txt</span><br><span class="line">yarn install</span><br><span class="line">yarn develop</span><br></pre></td></tr></table></figure><p>    与个人跑步数据相关的文件为<code>src/static/activities.json</code>和<code>scripts/data.db</code>，可以删除，下载并生成自己的跑步数据。如果使用的是Keep，运行python脚本文件<code>scripts/keep_sync.py</code>更新数据。通过命令<code>yarn develop</code>重新部署网站即可预览我们自己的跑步数据了。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3 scripts/keep_sync.py [注册keep账号的手机号] [keep账号的密码]</span><br></pre></td></tr></table></figure><p>    通过GitHub Action定时更新跑步数据。<code>yml</code>文件中需要修改的地方我已经列出来了。</p><figure class="highlight yaml"><figcaption><span>.github/workflows/run_data_sync.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># 省略...</span></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="comment"># please change to your own config.</span></span><br><span class="line">  <span class="attr">RUN_TYPE:</span> <span class="string">keep</span> <span class="comment"># 运动App</span></span><br><span class="line">  <span class="attr">ATHLETE:</span> <span class="string">shaoyaoqian</span> <span class="comment"># 名字</span></span><br><span class="line">  <span class="attr">TITLE:</span> <span class="string">shaoyaoqian</span> <span class="string">Running</span></span><br><span class="line">  <span class="attr">MIN_GRID_DISTANCE:</span> <span class="number">1</span> <span class="comment"># change min distance here</span></span><br><span class="line">  <span class="attr">TITLE_GRID:</span> <span class="string">Over</span> <span class="string">1km</span> <span class="string">Runs</span> <span class="comment"># also here</span></span><br><span class="line">  <span class="attr">GITHUB_NAME:</span> <span class="string">shaoyaoqian</span></span><br><span class="line">  <span class="attr">GITHUB_EMAIL:</span> <span class="string">mpf_npu@icloud.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 省略...</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Run</span> <span class="string">sync</span> <span class="string">Keep</span> <span class="string">script</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">env.RUN_TYPE</span> <span class="string">==</span> <span class="string">&#x27;keep&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">python</span> <span class="string">scripts/keep_sync.py</span> [<span class="string">注册keep账号的手机号</span>] [<span class="string">keep账号的密码</span>] <span class="string">--with-gpx</span></span><br></pre></td></tr></table></figure><p>    跑步打卡和跑步路线图是svg格式的，在assets目录下，随跑步数据更新而更新。这两个文件可直接在GitHub仓库中查看，将它们放在自己博客中就行。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">![](https://raw.githubusercontent.com/shaoyaoqian/running_page/master/assets/github.svg)</span><br><span class="line">![](https://raw.githubusercontent.com/shaoyaoqian/running_page/master/assets/grid.svg)</span><br></pre></td></tr></table></figure><h4 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h4><p>Run Page 可以作为独立的网站通过vercel部署，需修改文件<code>gatsby-config.js</code>中的相关设置。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;    有一个GitHub项目叫做&lt;a href=&quot;https://github.com/yihong0618/running_page&quot;&gt;Run Page&lt;/a&gt;，它可以将你运动App中的跑步数据导出，在博客中展示出来，支持的App有Keep、Nike等。&lt;/p&gt;
&lt;div class=&quot;tag-plugin grid&quot; &gt;&lt;div class=&quot;cell&quot; index=&quot;0&quot;&gt;&lt;div class=&quot;tag-plugin image&quot;&gt;&lt;div class=&quot;image-bg&quot;&gt;&lt;img src=&quot;https://githubimages.pengfeima.cn/images/202212292331203.svg&quot; alt=&quot;跑步打卡&quot; fancybox=&quot;true&quot; style=&quot;height:300px;&quot;/&gt;&lt;/div&gt;&lt;div class=&quot;image-meta&quot;&gt;&lt;span class=&quot;image-caption center&quot;&gt;跑步打卡&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;cell&quot; index=&quot;1&quot;&gt;&lt;div class=&quot;tag-plugin image&quot;&gt;&lt;div class=&quot;image-bg&quot;&gt;&lt;img src=&quot;https://githubimages.pengfeima.cn/images/202212292314891.svg&quot; alt=&quot;跑步路线图&quot; fancybox=&quot;true&quot; style=&quot;height:300px;&quot;/&gt;&lt;/div&gt;&lt;div class=&quot;image-meta&quot;&gt;&lt;span class=&quot;image-caption center&quot;&gt;跑步路线图&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>无症状感染者</title>
    <link href="https://blog.pengfeima.cn/posts/28076/"/>
    <id>https://blog.pengfeima.cn/posts/28076/</id>
    <published>2022-12-20T08:35:59.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>什么是无症状感染者？</p><span id="more"></span><p>我是在那次上海疫情中听说这个词的，后面听得越来越多。在全员核酸的背景下，我一直以为无症状感染者是那些核酸阳性，但是没有发热咳嗽的那些人。现在放开以后，通过观察我身边的人，大部分人感染了新冠病毒后都会发烧咳嗽，家里一个人感染了，那么几乎全家人都会有发烧咳嗽，真正无症状的人是少数的。反正我觉得自己被那些数据骗了，怎么可能大部分人无症状。</p><p>我一个朋友跟我说，无症状是指肺部无症状，给我发了一个知乎链接，里面对比了一些官方文件中对无症状感染者的定义，每个版本都有细微变化，核心是指肺部无症状。但是里面列举的文件我都打不开，我只找到《新型冠状病毒肺炎诊疗方案（第九版）》，我就重点研究了一下这个文件。</p><p>这个文件里没有定义无症状感染者，只定义了轻型患者。一个人被归为轻型患者，那应该就是确诊了吧，轻型患者的肺部影像学检查未见肺炎表现。到这里，我又不明白了，每天播报数据时，确诊和无症状是分开的，应该不会有一个人既是无症状感染者，又被确诊为轻型患者吧？</p><p>唯一合理的解释就是，普通型和重型患者归为确诊病例，除了确诊病例和疑似病例，所有核酸阳性的人(包括轻型患者)统称为无症状感染者，是这样吗？</p><p>我能分清疑似和确诊，当时武汉疫情刚开始时，因为核酸检测的能力有限，很多患者无法进行核酸检测，只能被归为疑似。但是无症状和确诊我真的分不清了。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;什么是无症状感染者？&lt;/p&gt;</summary>
    
    
    
    <category term="胡言乱语" scheme="https://blog.pengfeima.cn/categories/%E8%83%A1%E8%A8%80%E4%B9%B1%E8%AF%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>博客中的说说</title>
    <link href="https://blog.pengfeima.cn/posts/1698/"/>
    <id>https://blog.pengfeima.cn/posts/1698/</id>
    <published>2022-12-17T13:33:13.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><!-- [issues-anywhere](https://github.com/shaoyaoqian/issues-anywhere)是我刚写的小项目。 --><ul><li>🤞功能强大<br />支持Markdown，理论上支持任何HTML内容。</li><li>🎁简单方便<br />手机微信端直接发送文字、图片、视频，并同步博客显示。</li><li>🤖无需后台<br />有微信账号和GitHub账号即可体验所有功能。</li></ul><span id="more"></span><h3 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h3><p>什么是IA(Issues Anywhere) Talk ？</p><ul><li>IA talk 利用手机微信发布碎片化思想，并同步至博客。说说的内容存储于 GitHub 仓库和 GitHub Issues，无需使用第三方存储服务。</li></ul><h3 id="特性"><a class="markdownIt-Anchor" href="#特性"></a> 特性</h3><p>无论何时何地都能通过手机微信将消息发送至博客，支持文字、图片、视频，文本撰写可采用Markdown格式。当前为初步版本，后续功能请见开发计划</p><h3 id="原理"><a class="markdownIt-Anchor" href="#原理"></a> 原理</h3><img width="768" alt="image" src="https://user-images.githubusercontent.com/115222128/208239045-d8d9e4c8-0507-4701-8e6d-f4a696df3bb6.png"><p>本项目实现了公众号服务器端的代码，代码仓库为<a href="https://github.com/shaoyaoqian/issues-anywhere">issues-anywhere</a>，实现的细节参见我另一篇博客：<a href="https://blog.pengfeima.cn/posts/14811/">通过微信公众号在博客中发布动态</a>，以及 Hexo Stellar 主题下的<a href="https://github.com/xaoxuu/hexo-theme-stellar/issues/199">讨论</a>。</p><h3 id="支持"><a class="markdownIt-Anchor" href="#支持"></a> 支持</h3><p>目前仅支持在 Hexo Stellar 主题使用，通过<a href="https://xaoxuu.com/blog/20221029/">timeline插件</a>将说说加入文档，请看示例👇。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% timeline user:[用户名] api:https://api.github.com/repos/[用户名]/[仓库名]/issues %&#125;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><p><img src="https://user-images.githubusercontent.com/115222128/208243727-a5ba4f6f-703c-41d0-a843-021a137fcdd2.png" alt="" /></p><h3 id="快速开始"><a class="markdownIt-Anchor" href="#快速开始"></a> 快速开始</h3><h4 id="安装github-app"><a class="markdownIt-Anchor" href="#安装github-app"></a> 安装GitHub App</h4><p>新建一个GitHub仓库。安装应用<a href="https://github.com/apps/wechat-to-issues">wechat-to-issues</a>，只授权你刚创建的仓库，服务器会获取你的 GitHub ID、username、access token。<br /><img src="https://user-images.githubusercontent.com/115222128/208220300-d7cf13ef-aa09-41e6-8adf-25fdde17ec1b.png" alt="" /></p><h4 id="关注公众号"><a class="markdownIt-Anchor" href="#关注公众号"></a> 关注公众号</h4><p>GitHub App 安装成功后，根据提示关注公众号，服务器会获取你的 wechat ID 。之后，你向公众号发送的消息会同步到<code>shaoyaoqian/MerryJingle</code>这个仓库的issue中。如果你想将消息同步到自己的仓库下，那么需要绑定仓库。</p><!-- ![image-20221219200048419](https://githubimages.pengfeima.cn/images/202212192000537.png) --><h4 id="发送消息"><a class="markdownIt-Anchor" href="#发送消息"></a> 发送消息</h4><p>微信公众号会缓存你发送的消息。当你发送<code>发送</code>指令或者<code>放弃</code>指令时，微信公众号会清空缓存，并执行相应的指令，请看示例: <a href="https://github.com/shaoyaoqian/MerryJingle/issues/119">https://github.com/shaoyaoqian/MerryJingle/issues/119</a> 。</p><h4 id="绑定仓库"><a class="markdownIt-Anchor" href="#绑定仓库"></a> 绑定仓库</h4><p>绑定仓库的指令为di3a，向公众号发送 <code>di3a仓库名</code>以绑定仓库。</p><p><img src="https://githubimages.pengfeima.cn/images/202212191950844.png" alt="image-20221219195028459" /></p><h4 id="在博客正文中插入"><a class="markdownIt-Anchor" href="#在博客正文中插入"></a> 在博客正文中插入</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% timeline user:[用户名] api:https://api.github.com/repos/[用户名]/[仓库名]/issues %&#125;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><h3 id="可选配置"><a class="markdownIt-Anchor" href="#可选配置"></a> 可选配置</h3><h4 id="删除账号"><a class="markdownIt-Anchor" href="#删除账号"></a> 删除账号</h4><p>数据库中会保存你的GitHub ID, 用户名, access token, wechat ID 等。你可以向微信公众号发送<code>删除账号</code>删除数据库中你的数据。</p><h4 id="数据仓库"><a class="markdownIt-Anchor" href="#数据仓库"></a> 数据仓库</h4><p>图片、视频等文件会保存在你设置的issue仓库中，如果要将他们上传到另外一个仓库中，你可以向公众号发送<code>aap2仓库名</code>设定数据仓库<br /><img src="https://githubimages.pengfeima.cn/images/202212191959252.png" alt="" /></p><h4 id="设置cdn"><a class="markdownIt-Anchor" href="#设置cdn"></a> 设置CDN</h4><p>图片、视频等文件的默认链接为<code>https://raw.githubusercontent.com/&#123;owner&#125;/&#123;repo&#125;/main/&#123;path&#125;/&#123;filename&#125;</code>。你可以将它们改成公用CDN：<br /><code>https://cdn.jsdelivr.net/gh/&#123;owner&#125;/&#123;repo&#125;/&#123;path&#125;/&#123;filename&#125;</code>或者自己购买的CDN服务：<code>https://images.yourdomain.cn/&#123;path&#125;/&#123;filename&#125;</code>。</p><h3 id="开发计划"><a class="markdownIt-Anchor" href="#开发计划"></a> 开发计划</h3><p>IA Talk 现在仍处于开发阶段，这里有一些目前还不支持、但已经在计划中的特性：</p><ul><li>添加一个json配置文件</li><li>其他暂无，欢迎提出建议</li></ul><p>文档撰写参考了<a href="https://bb.js.org/quick-start.html">BBTALK</a>，下面这些是草稿，先不要看。</p><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><h2 id="隐私说明"><a class="markdownIt-Anchor" href="#隐私说明"></a> 隐私说明</h2><p>数据的存储：<br><br />文本消息会在公众号服务器的内存中临时存储。照片、视频等数据需要先从微信服务器下载到公众号服务器上，然后上传到你自己的GitHub仓库中，因此这些数据会在服务器硬盘中临时存储。微信服务器保存了你给公众号发送的消息，我可以翻看历史。我不知道它会保存多久。<br><br></p><p>数据传输：<br><br />需要注意的是，公众号服务器和微信服务只之间的传输暂未使用https，传输数据暂时没有加密。<br><br></p><p>微信账号：<br><br />需要知道wechat id，不会向你申请任何其他个人信息。在公众号网页上能看到你的微信名和头像，但不会看到你的微信账号及其他个人信息。本服务是单向的，只有当你主动向公众号发送消息时，公众号才会被动发送一条消息。<br><br></p><p>GitHub账号：<br><br />通过Oauth认证登陆后，公众号能够获取你的公开信息，并能够以用你GitHub账号在一个公用仓库下开issue。如果你授权了一个仓库的读写权限，那么公众号可以以你的身份上传文件到你的仓库、在仓库下开issue。<br><br></p>]]></content>
    
    
    <summary type="html">&lt;!-- [issues-anywhere](https://github.com/shaoyaoqian/issues-anywhere)是我刚写的小项目。 --&gt;
&lt;ul&gt;
&lt;li&gt;🤞功能强大&lt;br /&gt;
支持Markdown，理论上支持任何HTML内容。&lt;/li&gt;
&lt;li&gt;🎁简单方便&lt;br /&gt;
手机微信端直接发送文字、图片、视频，并同步博客显示。&lt;/li&gt;
&lt;li&gt;🤖无需后台&lt;br /&gt;
有微信账号和GitHub账号即可体验所有功能。&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>如何写好GIT的提交信息</title>
    <link href="https://blog.pengfeima.cn/posts/58849/"/>
    <id>https://blog.pengfeima.cn/posts/58849/</id>
    <published>2022-12-17T11:52:26.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><div class="tag-plugin grid" ><div class="cell" index="0"><div class="tag-plugin image"><div class="image-bg"><img src="https://githubimages.pengfeima.cn/images/202212171941462.png" alt="糟糕的提交信息" fancybox="true" style="height:200px;"/></div><div class="image-meta"><span class="image-caption center">糟糕的提交信息</span></div></div></div><div class="cell" index="1"><div class="tag-plugin image"><div class="image-bg"><img src="https://githubimages.pengfeima.cn/images/202212171938261.png" alt="清晰详细的提交信" fancybox="true" style="height:200px;"/></div><div class="image-meta"><span class="image-caption center">清晰详细的提交信</span></div></div></div></div> <span id="more"></span><h3 id="10-个-commit-规则"><a class="markdownIt-Anchor" href="#10-个-commit-规则"></a> 10 个 Commit 规则</h3><ol><li><p>提交消息由 Header (<strong>主题</strong>)、Body(<strong>详细描述</strong>) 和 Footer (<strong>脚注</strong>)组成，Body 和 Footer 都是可选的。</p></li><li><p>将 Header 行 限制为 50 个字符。</p><ul><li><p>主题是最能总结提交中所做更改的一行。</p></li><li><p>总结提交的行为在任何版本控制系统中都是一种固有的好习惯。它可以帮助其他人（或后来的您）更快地找到相关的提交。</p></li></ul></li><li><p>将主题行的第一个字母大写。</p></li><li><p>不要在主题行的末尾加上句点 (<code>.</code>)。</p></li><li><p>在 Header 和 Body 以及 Footer 之间放置一个空行。</p><ul><li>将 Header 与 Body 分开的空行很重要（除非您完全省略正文）Footer 也应通过空行与正文分开。</li></ul></li><li><p>Body 的行宽不要超过 72 个字符处。</p><ul><li>Body 用于提供有关 commmit 中所做更改的更多详细信息。</li></ul></li><li><p>用项目任务号写commit 的 Body（可选）。</p><ul><li>以项目任务号编写时，提交主体看起来很干净。</li></ul></li><li><p>使用祈使语气</p><ul><li>示例：Add 而不是 Added， Fix 而不是 Fixed, Fixes → 主题行使用现在时命令式，正文使用现在时态</li></ul></li><li><p>描述&quot;什么&quot;和&quot;为什么&quot;，但不描述&quot;如何&quot;。</p><ul><li><p>可以提及更改了哪个组件。</p></li><li><p>只关注目的，而不是实现。</p></li><li><p>大多数现代错误跟踪和项目管理系统都提供了与源代码控制存储库的集成，但即使它们没有集成，你仍然可以在提交消息放上 task/ticket 编号。</p></li></ul></li><li><p>在 Footer 中 包含 ticket 号或者 issue no.（如果有的话）。</p><ul><li>Footer 位于 Body 正下方，是引用与提交更改相关的问题的地方。如在 GitHub 中的 issue no.，JIRA 中的 ticket 号。</li></ul></li></ol><h2 id="commit-提交规范"><a class="markdownIt-Anchor" href="#commit-提交规范"></a> <strong>Commit 提交规范</strong></h2><p>除了上面介绍这10个基本commit message 规则。很多开源项目会在CONTRIBUTING 中说明它们采用的commit message格式，大同小异。Angular团队推出的conventional-changelog 最为有名，使用最广泛 <a href="http://suo.im/4rsYee%E3%80%82">http://suo.im/4rsYee。</a></p><p>Commit message 包括三个部分：Header，Body 和 Footer。完整格式如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line">// 空一行</span><br><span class="line">&lt;body&gt;</span><br><span class="line">// 空一行</span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></table></figure><p><strong>1) type</strong></p><p>提交 commit 的类型，包括以下几种</p><p>- feat: 新功能</p><p>- fix: 修复问题</p><p>- docs: 修改文档</p><p>- style: 修改代码格式，不影响代码逻辑</p><p>- refactor: 重构代码，理论上不影响现有功能</p><p>- perf: 提升性能</p><p>- test: 增加修改测试用例</p><p>- chore: 修改工具相关（包括但不限于文档、代码生成等）</p><p><strong>2) scope</strong></p><p>修改文件的范围，比如：视图层、控制层、docs、config, plugin</p><p><strong>3) subject</strong></p><p>- subject 是 commit 目的的简短描述（用一句话清楚的描述这次提交做了什么），不超过50个字符</p><p><strong>4) body</strong></p><p>- 补充 subject 添加详细说明，可以分成多行，适当增加原因、目的等相关因素，也可不写</p><p><strong>5 ) footer</strong></p><p>- 当有非兼容修改(Breaking Change)时必须在这里描述清楚</p><p>- 关闭issue或是链接到相关文档，如 Closes #1, Closes #2, #3</p><p>摘录自：</p><p><a href="https://jishuin.proginn.com/p/763bfbd6fe8c">如何写好 commit message</a></p><p><a href="https://mp.weixin.qq.com/s?__biz=MzU0OTE3MjE1Mw==&amp;mid=2247484507&amp;idx=1&amp;sn=d4700fe7c882cc5837255e3a0fbbe5af&amp;chksm=fbb2a28dccc52b9ba9003068a98a2ae2060e61a0804924f3c56693d300b928efba35ee48c11f&amp;scene=21#wechat_redirect">更优雅的使用Git</a></p>]]></content>
    
    
    <summary type="html">&lt;div class=&quot;tag-plugin grid&quot; &gt;&lt;div class=&quot;cell&quot; index=&quot;0&quot;&gt;&lt;div class=&quot;tag-plugin image&quot;&gt;&lt;div class=&quot;image-bg&quot;&gt;&lt;img src=&quot;https://githubimages.pengfeima.cn/images/202212171941462.png&quot; alt=&quot;糟糕的提交信息&quot; fancybox=&quot;true&quot; style=&quot;height:200px;&quot;/&gt;&lt;/div&gt;&lt;div class=&quot;image-meta&quot;&gt;&lt;span class=&quot;image-caption center&quot;&gt;糟糕的提交信息&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;cell&quot; index=&quot;1&quot;&gt;&lt;div class=&quot;tag-plugin image&quot;&gt;&lt;div class=&quot;image-bg&quot;&gt;&lt;img src=&quot;https://githubimages.pengfeima.cn/images/202212171938261.png&quot; alt=&quot;清晰详细的提交信&quot; fancybox=&quot;true&quot; style=&quot;height:200px;&quot;/&gt;&lt;/div&gt;&lt;div class=&quot;image-meta&quot;&gt;&lt;span class=&quot;image-caption center&quot;&gt;清晰详细的提交信&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>使用人工智能ChatGPT写检讨</title>
    <link href="https://blog.pengfeima.cn/posts/56449/"/>
    <id>https://blog.pengfeima.cn/posts/56449/</id>
    <published>2022-12-13T09:42:10.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>    最近，我有好多次疫情填报没有填，辅导员给我打了电话，说我违反了学校的规定，需要写检讨。我就想到了最近比较流行的人工智能 ChatGPT ，我想试试能不能用AI帮我写检讨。虽然AI写的检讨废话连篇，但是辅导员看了后没有提出质疑。因此，某种程度上来说，ChatGPT通过了图灵测试。其实一开始，它不肯帮我写，但禁不住我的一步步诱导，它写下了这篇检讨。细节我就不说了，我把成果放在这里。</p><span id="more"></span><div class="tag-plugin note" ><div class="body"><p>我是马鹏飞，因为没有进行疫情填报，现在需要进行检讨。我遗漏填报的次数超过了五次，违反了学校的管理规定。为了更好地规范自己的行为，我决定进行检讨，以确保不再遗漏填报，不再给学院的管理带来麻烦。在检讨的过程中，我发现自己在疫情填报方面存在以下问题：</p><ol><li><p>没有建立定时填报疫情的习惯，导致常常忘记填报疫情。</p></li><li><p>没有定时检查疫情填报情况，即使漏填也不能及时发现。</p></li><li><p>没有主动了解疫情填报的相关规定，不够重视疫情填报。</p></li></ol><p>为了解决这些问题，我想到了以下改进措施：</p><ol><li><p>提高自我约束能力，建立自律的填报习惯。</p></li><li><p>定时检查疫情填报情况，及时发现并补填遗漏的疫情填报。</p></li><li><p>了解学院关于疫情填报的处罚规定，更好地了解疫情填报的重要性，重视疫情填报。</p></li></ol><p>通过这些改进措施，我希望能够更好地履行疫情填报义务，避免再次违反学校管理规定。</p></div></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;    最近，我有好多次疫情填报没有填，辅导员给我打了电话，说我违反了学校的规定，需要写检讨。我就想到了最近比较流行的人工智能 ChatGPT ，我想试试能不能用AI帮我写检讨。虽然AI写的检讨废话连篇，但是辅导员看了后没有提出质疑。因此，某种程度上来说，ChatGPT通过了图灵测试。其实一开始，它不肯帮我写，但禁不住我的一步步诱导，它写下了这篇检讨。细节我就不说了，我把成果放在这里。&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>相册页面</title>
    <link href="https://blog.pengfeima.cn/posts/55449/"/>
    <id>https://blog.pengfeima.cn/posts/55449/</id>
    <published>2022-12-12T14:10:31.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>    我想做一个相册，但是我不知道什么样的相册比较美观，于是参考了一些论坛和博客。首先是<a href="https://www.discourse.org/">Discourse</a>的一款插件<a href="https://meta.discourse.org/t/tiles-image-gallery/81950">Tiles Image Gallery</a>，然后是<a href="https://vlts.cc/v6/tag-plugins/#gallery">Volantis</a>的gallery标签，<a href="https://pinlyu.com/album/landscape/">频率</a>的博客以及<a href="https://pinlyu.com/posts/31/">瀑布流的教程</a>，<a href="https://blog.shishuai.monster/gallery/jay-chou/">RongJ</a>的博客，最后我决定结合使用下面这两款插件：</p><ul><li><a href="https://miromannino.github.io/Justified-Gallery/lightboxes/">Justified Gallery</a></li><li><a href="https://fancyapps.com/docs/ui/fancybox">Fancybox</a></li></ul><p>效果如下图所示，也可以点击<a href="https://blog.pengfeima.cn/posts/15648/">这里</a>查看本站的示例。<br /><img src="https://githubimages.pengfeima.cn/images/202212132125669.png" alt="效果" /></p><span id="more"></span><blockquote><p>注意：stellar主题默认给图片增加了圆角的效果，这里我给他去除了。</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line"><span class="selector-class">.md-text</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>:<span class="number">0px</span></span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></blockquote><h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4><p>Hexo文档中插入下面这段示例代码即可显示上述效果。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![3721669695359_.pic](path/22211291216879.jpg)</span><br><span class="line">![3711669695359_.pic](path/02211291217546.jpg)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><p>JS代码分为两部分，第一部分将Markdown语法组装成HTML代码，第二部分在用户端调用Fancybox和Justified Gallery渲染页面。第二部分代码在<code>main.js</code>文件末尾。</p><ul><li><a href="https://github.com/shaoyaoqian/hexo-theme-stellar/blob/3d012e35a5680a379700fafd8a9006c00e7a84ef/scripts/tags/lib/gallery.js">gallery.js</a></li><li><a href="https://github.com/shaoyaoqian/hexo-theme-stellar/blob/3d012e35a5680a379700fafd8a9006c00e7a84ef/source/js/main.js">main.js</a></li></ul><h4 id="待改进的地方"><a class="markdownIt-Anchor" href="#待改进的地方"></a> 待改进的地方</h4><p>目前不足之处：</p><ul><li>未使用略缩图，CDN有这一项服务</li><li>图片加载失败时没有错误处理</li><li>不能直接从GitHub仓库的文件夹加载相册</li><li>和stellar的tabs标签不兼容</li><li>没有加入微调参数</li></ul><h4 id="参数"><a class="markdownIt-Anchor" href="#参数"></a> 参数</h4><p><a href="https://miromannino.github.io/Justified-Gallery/options-and-events/">Justified Gallery的参数</a>挺多的，行高，最大行数，末尾行是否填满，图片之间的间隙，是否有标题等等。</p><h4 id="欢迎提出建议"><a class="markdownIt-Anchor" href="#欢迎提出建议"></a> 欢迎提出建议</h4>]]></content>
    
    
    <summary type="html">&lt;p&gt;    我想做一个相册，但是我不知道什么样的相册比较美观，于是参考了一些论坛和博客。首先是&lt;a href=&quot;https://www.discourse.org/&quot;&gt;Discourse&lt;/a&gt;的一款插件&lt;a href=&quot;https://meta.discourse.org/t/tiles-image-gallery/81950&quot;&gt;Tiles Image Gallery&lt;/a&gt;，然后是&lt;a href=&quot;https://vlts.cc/v6/tag-plugins/#gallery&quot;&gt;Volantis&lt;/a&gt;的gallery标签，&lt;a href=&quot;https://pinlyu.com/album/landscape/&quot;&gt;频率&lt;/a&gt;的博客以及&lt;a href=&quot;https://pinlyu.com/posts/31/&quot;&gt;瀑布流的教程&lt;/a&gt;，&lt;a href=&quot;https://blog.shishuai.monster/gallery/jay-chou/&quot;&gt;RongJ&lt;/a&gt;的博客，最后我决定结合使用下面这两款插件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://miromannino.github.io/Justified-Gallery/lightboxes/&quot;&gt;Justified Gallery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://fancyapps.com/docs/ui/fancybox&quot;&gt;Fancybox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;效果如下图所示，也可以点击&lt;a href=&quot;https://blog.pengfeima.cn/posts/15648/&quot;&gt;这里&lt;/a&gt;查看本站的示例。&lt;br /&gt;
&lt;img src=&quot;https://githubimages.pengfeima.cn/images/202212132125669.png&quot; alt=&quot;效果&quot; /&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>音乐插件</title>
    <link href="https://blog.pengfeima.cn/posts/63539/"/>
    <id>https://blog.pengfeima.cn/posts/63539/</id>
    <published>2022-12-10T08:53:08.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script>    <div id="aplayer-zcdCKKTV" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="16139397" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div>    <div id="aplayer-ZcqlodlR" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="7169796963" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div><!-- <div class="stellar-musicplayer" id="aplayer3" from='local'><div url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.mp3' cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.png' lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.lrc' name='喜欢' artist='张悬'  ></div><div url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.mp3'   cover='http://qiniu.pengfeima.cn/typora/202212062310206.jpg'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.lrc'   name='Rainy Mood'   artist='www.rainymood.com'  ></div><div  url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.lrc'   name='The White Lady'   artist='Christopher Larkin' ></div> <div  url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.lrc'   name='我记得'   artist='赵雷'  ></div><div  url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.lrc'   name='如何'   artist='张悬'  ></div><div  url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.lrc'   name='留下来陪你生活'   artist='张悬'  ></div></div> --><span id="more"></span><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>Hexo 是一个快速、简洁且高效的博客框架，他能帮助我们生成静态网站，部署在云服务器或者云空间中。我希望静态网站的体积尽可能小，生成速度尽可能快，以便我们能够以最经济，最快捷的方式部署网站，因此不希望静态网站中包含图片、音频、视频等媒体文件，这些文件会以链接的形式出现在HTML文档中。如果是私有资源，那么我会将这些媒体文件存放在成本更低、管理更方便的云存储中，并辅之以CDN，使用户获得最快的访问速度。如果是公有资源，那么我们可以通过在浏览器上运行Javascript脚本，在用户浏览网站时临时获取这些媒体文件，更加节省了自己的存储、带宽资源。</p><h2 id="hexo插件"><a class="markdownIt-Anchor" href="#hexo插件"></a> Hexo插件</h2><p>如果网站只包含HTML、CSS、JS三种类型的文件，怎样才能加入播放音乐的功能呢？首先，音乐的海报、音频、歌词等资源文件的链接要写入HTML中。如果有相应的hexo插件，那么在写文档时，加入一些标记，例如<code>musicplayer</code>标记，Hexo会将这段文本交给<code>musicplayer</code>插件处理，通过正则匹配识别出资源文件的链接。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% musicplayer  from:local id:aplayer4 %&#125;</span><br><span class="line"><span class="comment">&lt;!-- song --&gt;</span></span><br><span class="line">url=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.mp3&#x27;   </span><br><span class="line">cover=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.png&#x27;   </span><br><span class="line">lrc=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.lrc&#x27;   </span><br><span class="line">name=&#x27;我记得&#x27;   </span><br><span class="line">artist=&#x27;赵雷&#x27;</span><br><span class="line"><span class="comment">&lt;!-- song --&gt;</span></span><br><span class="line">url=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.mp3&#x27;   </span><br><span class="line">cover=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.png&#x27;   </span><br><span class="line">lrc=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.lrc&#x27;   </span><br><span class="line">name=&#x27;留下来陪你生活&#x27;   </span><br><span class="line">artist=&#x27;张悬&#x27;</span><br><span class="line">&#123;% endmusicplayer %&#125;</span><br></pre></td></tr></table></figure><p>识别以后，hexo插件会将这些链接组装成HTML格式的文本，至此静态网页生成完毕。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;stellar-musicplayer&quot;</span> <span class="attr">id</span>=<span class="string">&quot;aplayer3&quot;</span> <span class="attr">from</span>=<span class="string">&#x27;local&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">url</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.mp3&#x27;</span> <span class="attr">cover</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.png&#x27;</span> <span class="attr">lrc</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.lrc&#x27;</span> <span class="attr">name</span>=<span class="string">&#x27;喜欢&#x27;</span> <span class="attr">artist</span>=<span class="string">&#x27;张悬&#x27;</span>  &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">url</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.mp3&#x27;</span>   <span class="attr">cover</span>=<span class="string">&#x27;http://qiniu.pengfeima.cn/typora/202212062310206.jpg&#x27;</span>   <span class="attr">lrc</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.lrc&#x27;</span>   <span class="attr">name</span>=<span class="string">&#x27;Rainy Mood&#x27;</span>   <span class="attr">artist</span>=<span class="string">&#x27;www.rainymood.com&#x27;</span>  &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在用户浏览器上，JS脚本会在HTML文本中找到<code>stellar-musicplayer</code>这一元素，然后解析里面的数据，构建出一个音乐播放器。音乐播放器有现成的代码，本文采用了<code>aplayer</code>播放器。</p><h2 id="音乐资源"><a class="markdownIt-Anchor" href="#音乐资源"></a> 音乐资源</h2><h3 id="本地资源"><a class="markdownIt-Anchor" href="#本地资源"></a> 本地资源</h3><p>本地音乐资源需要先上传到云存储服务器上，获取资源文件的外链，最后插入文档中。资源文件可以从网易云音乐下载，脚本如下：</p><details class="tag-plugin folding" ><summary><span>下载网易云音乐资源到本地</span></summary><div class="body"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 网易云爬虫，使用了NeteaseCloudMusicApi，文档参见：</span></span><br><span class="line"><span class="comment"># https://neteasecloudmusicapi.vercel.app</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> loguru <span class="keyword">import</span> logger</span><br><span class="line">logger.add(<span class="string">&#x27;my_log.log&#x27;</span>)</span><br><span class="line">url_base = <span class="string">&quot;https://netease.user.cn&quot;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NeteaseAPI</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">song_lyric</span>(<span class="params">self, <span class="built_in">id</span> = <span class="string">&#x27;436147423&#x27;</span></span>):</span><br><span class="line">        url = url_base + <span class="string">&quot;/lyric&quot;</span></span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">&#x27;id&#x27;</span>:<span class="built_in">id</span></span><br><span class="line">        &#125;</span><br><span class="line">        response = requests.get(url,params=params)</span><br><span class="line">        logger.info(<span class="string">&quot;response.url: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(response.url))</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">song_detail</span>(<span class="params">self, <span class="built_in">id</span> = <span class="string">&#x27;436147423&#x27;</span></span>):</span><br><span class="line">        url = url_base + <span class="string">&quot;/song/detail&quot;</span></span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">&#x27;ids&#x27;</span>:<span class="built_in">id</span></span><br><span class="line">        &#125;</span><br><span class="line">        response = requests.get(url,params=params)</span><br><span class="line">        logger.info(<span class="string">&quot;response.url: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(response.url))</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">song</span>(<span class="params">self, <span class="built_in">id</span> = <span class="string">&#x27;436147423&#x27;</span>, level = <span class="string">&#x27;standard&#x27;</span></span>):</span><br><span class="line">        <span class="comment"># url = url_base + &quot;/song/url&quot;          # old API</span></span><br><span class="line">        url = url_base + <span class="string">&quot;/song/url/v1&quot;</span></span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">&#x27;id&#x27;</span>    : <span class="built_in">id</span>,</span><br><span class="line">            <span class="string">&#x27;level&#x27;</span> : level  </span><br><span class="line">            <span class="comment"># standard =&gt; 标准</span></span><br><span class="line">            <span class="comment"># higher   =&gt; 较高</span></span><br><span class="line">            <span class="comment"># exhigh   =&gt; 极高</span></span><br><span class="line">            <span class="comment"># lossless =&gt; 无损 </span></span><br><span class="line">            <span class="comment"># hires    =&gt; Hi-Res</span></span><br><span class="line">        &#125;</span><br><span class="line">        response = requests.get(url,params=params)</span><br><span class="line">        logger.info(<span class="string">&quot;response.url: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(response.url))</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">song_download</span>(<span class="params">self, <span class="built_in">id</span> = <span class="string">&#x27;1834270728&#x27;</span>, level = <span class="string">&#x27;standard&#x27;</span>, filename = <span class="string">&quot;filename&quot;</span></span>):</span><br><span class="line">        result = self.song(<span class="built_in">id</span>=<span class="built_in">id</span>,level=level)</span><br><span class="line">        url_song =  result.json()[<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;url&#x27;</span>]</span><br><span class="line">        logger.info(<span class="string">&quot;url_song: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(url_song))</span><br><span class="line">        logger.info(<span class="string">&quot;song_path: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(filename))</span><br><span class="line">        <span class="comment"># 判断歌曲是否能下载</span></span><br><span class="line">        <span class="keyword">if</span> url_song == <span class="literal">None</span> :</span><br><span class="line">            appendix = <span class="string">&quot;.txt&quot;</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(filename + appendix, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(filename.encode())</span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            appendix = <span class="string">&#x27;.&#x27;</span> + url_song.split(<span class="string">&quot;.&quot;</span>)[-<span class="number">1</span>]</span><br><span class="line">            response = requests.get(url_song)</span><br><span class="line">            <span class="comment"># 文件名外部传入，后缀从url解析</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(filename + appendix, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(response.content)</span><br><span class="line">            logger.info(<span class="string">&quot;response.url: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(response.url))</span><br><span class="line">        <span class="keyword">return</span> filename + appendix</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># test </span></span><br><span class="line">NA = NeteaseAPI()</span><br><span class="line"><span class="built_in">id</span>=<span class="string">&quot;453927771&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取歌曲详细信息</span></span><br><span class="line">result = NA.song_detail(<span class="built_in">id</span>=<span class="built_in">id</span>)</span><br><span class="line">song_name = result.json()[<span class="string">&#x27;songs&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">singer_name = result.json()[<span class="string">&#x27;songs&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;ar&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;-&quot;</span>.join([<span class="built_in">id</span>,song_name,singer_name])+<span class="string">&#x27;.txt&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(result.content)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取歌曲封面</span></span><br><span class="line">response = requests.get(result.json()[<span class="string">&#x27;songs&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;al&#x27;</span>][<span class="string">&#x27;picUrl&#x27;</span>])</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">id</span>+<span class="string">&#x27;.png&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(response.content)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取歌词</span></span><br><span class="line">result = NA.song_lyric(<span class="built_in">id</span>=<span class="built_in">id</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">id</span>+<span class="string">&#x27;.lrc&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(result.json()[<span class="string">&#x27;lrc&#x27;</span>][<span class="string">&#x27;lyric&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取歌曲音频</span></span><br><span class="line">result = NA.song_download(<span class="built_in">id</span>=<span class="built_in">id</span>,filename=<span class="built_in">id</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回我们需要的格式</span></span><br><span class="line">url_base = <span class="string">&quot;https://raw.githubusercontent.com/user/images-1/main/music/&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;audio=\&#x27;&quot;</span>+url_base+<span class="built_in">id</span>+<span class="string">&quot;.mp3\&#x27;,&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;cover=\&#x27;&quot;</span>+url_base+<span class="built_in">id</span>+<span class="string">&quot;.png\&#x27;,&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;lrc=\&#x27;&quot;</span>+url_base+<span class="built_in">id</span>+<span class="string">&quot;.lrc\&#x27;,&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;name=\&#x27;&quot;</span>+song_name+<span class="string">&#x27;\&#x27;,&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;artist=\&#x27;&quot;</span>+singer_name+<span class="string">&#x27;\&#x27;,&#x27;</span>)</span><br></pre></td></tr></table></figure></div></details><h3 id="云端资源"><a class="markdownIt-Anchor" href="#云端资源"></a> 云端资源</h3><p>云端资源可以在用户浏览网页从音乐服务商处临时获取，例如网易云音乐，JS脚本如下：</p><details class="tag-plugin folding" ><summary><span>在浏览器中获取网易云音乐资源</span></summary><div class="body"><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 要确保已经引入了https://unpkg.com/flyio/dist/umd/fly.umd.min.js文件</span></span><br><span class="line"><span class="keyword">var</span> fly=<span class="keyword">new</span> <span class="title class_">Fly</span>();</span><br><span class="line">url_base = <span class="string">&quot;https://netease.user.cn&quot;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">NeteaseMusicAPI</span> = &#123;</span><br><span class="line">  <span class="attr">download_lyric</span>: <span class="title function_">async</span>(id) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Downloading lyric...&#x27;</span>, id)    </span><br><span class="line">    url = url_base + <span class="string">&quot;/lyric&quot;</span></span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;id&#x27;</span>:id</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 成功的回调函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">download_lyric_success</span>(<span class="params">result</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Downloaded successfully.&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 失败的回调函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">download_lyric_fail</span>(<span class="params">error</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Failed to download.&quot;</span> + error);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> result = fly.<span class="title function_">request</span>(url, params).<span class="title function_">then</span>(download_lyric_success,download_lyric_fail);</span><br><span class="line">    <span class="keyword">let</span> data = <span class="keyword">await</span> result.<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;<span class="keyword">return</span> result[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;lrc&#x27;</span>][<span class="string">&#x27;lyric&#x27;</span>]&#125;);</span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">download_song_detail</span>: <span class="title function_">async</span>(id) =&gt; &#123;</span><br><span class="line">    url = url_base + <span class="string">&quot;/song/detail&quot;</span></span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;ids&#x27;</span>:id</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> result = fly.<span class="title function_">request</span>(url, params).<span class="title function_">then</span>(</span><br><span class="line">      <span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Downloaded successfully.&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;songs&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;songs&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;ar&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;songs&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;al&#x27;</span>][<span class="string">&#x27;picUrl&#x27;</span>]);</span><br><span class="line">        <span class="keyword">var</span> details = &#123;&#125;;</span><br><span class="line">        details[<span class="string">&#x27;name&#x27;</span>] = result[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;songs&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line">        details[<span class="string">&#x27;singer&#x27;</span>] = result[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;songs&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;ar&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line">        details[<span class="string">&#x27;pic&#x27;</span>] = result[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;songs&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;al&#x27;</span>][<span class="string">&#x27;picUrl&#x27;</span>];</span><br><span class="line">        <span class="keyword">return</span> details;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Failed to download. The error is : &quot;</span> + error);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">download_song_url</span>: <span class="function">(<span class="params">id, level = <span class="string">&#x27;standard&#x27;</span></span>) =&gt;</span> &#123;</span><br><span class="line">    url = url_base + <span class="string">&quot;/song/url/v1&quot;</span></span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;id&#x27;</span>    : id,</span><br><span class="line">        <span class="string">&#x27;level&#x27;</span> : level</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> result = fly.<span class="title function_">request</span>(url, params).<span class="title function_">then</span>(</span><br><span class="line">      <span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Downloaded successfully.&quot;</span>);</span><br><span class="line">        url = result[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;data&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;url&#x27;</span>];</span><br><span class="line">        <span class="comment">// 删除 https:// 或者 http://</span></span><br><span class="line">        url = url.<span class="title function_">replace</span>(<span class="regexp">/^(http|https):/</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(url);</span><br><span class="line">        <span class="keyword">return</span> url;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Failed to download. The error is : &quot;</span> + error);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">layoutDiv</span>: <span class="function">(<span class="params">cfg</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> el = $(cfg.<span class="property">el</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> id = cfg.<span class="property">song_id</span>;</span><br><span class="line">    <span class="keyword">var</span> lyric = <span class="title class_">NeteaseMusicAPI</span>.<span class="title function_">download_lyric</span>(id);</span><br><span class="line">    <span class="keyword">var</span> detail = <span class="title class_">NeteaseMusicAPI</span>.<span class="title function_">download_song_detail</span>(id);</span><br><span class="line">    <span class="keyword">var</span> url = <span class="title class_">NeteaseMusicAPI</span>.<span class="title function_">download_song_url</span>(id);</span><br><span class="line">    url.<span class="title function_">then</span>(<span class="function">(<span class="params">song_url</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">var</span> cell = <span class="string">&#x27;&lt;audio src=\&quot;&#x27;</span> + song_url + <span class="string">&#x27;\&quot; controls&gt;&lt;/audio&gt;&#x27;</span>+<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">      $(el).<span class="title function_">append</span>(cell);</span><br><span class="line">    &#125;);</span><br><span class="line">    detail.<span class="title function_">then</span>(<span class="function">(<span class="params">details</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">var</span> cell = <span class="string">&#x27;歌名&#x27;</span>+details[<span class="string">&#x27;name&#x27;</span>]+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">      cell += <span class="string">&#x27;歌手&#x27;</span>+details[<span class="string">&#x27;singer&#x27;</span>]+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">      cell += <span class="string">&#x27;&lt;img src=\&quot;&#x27;</span> + details[<span class="string">&#x27;pic&#x27;</span>] + <span class="string">&#x27;\&quot;&gt;&lt;/img&gt;&#x27;</span>+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">      $(el).<span class="title function_">append</span>(cell);</span><br><span class="line">    &#125;);</span><br><span class="line">    lyric.<span class="title function_">then</span>(<span class="function">(<span class="params">lyric</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">var</span> cell = lyric+<span class="string">&#x27;&lt;br&gt;&#x27;</span>+<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">      $(el).<span class="title function_">append</span>(cell);</span><br><span class="line">    &#125;);   </span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// DOM 的解析</span></span><br><span class="line"><span class="comment">// &lt;div class=&#x27;netease-music-player&#x27; song_id=&#x27;436147423&#x27;&gt;</span></span><br><span class="line"><span class="comment">// &lt;div class=&#x27;netease-music-player&#x27;&gt;</span></span><br><span class="line"><span class="comment">// &lt;div song_id=&#x27;436147423&#x27;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">// &lt;div song_id=&#x27;436147423&#x27;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">// &lt;/div&gt;</span></span><br><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> els = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;netease-music-player&#x27;</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;netease-music-player&quot;</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;els.length&quot;</span>,els.<span class="property">length</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; els.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;netease-music-player&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> el = els[i];</span><br><span class="line">    <span class="keyword">const</span> song_id = el.<span class="title function_">getAttribute</span>(<span class="string">&#x27;song_id&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (song_id == <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> cfg = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    cfg.<span class="property">el</span> = el;</span><br><span class="line">    cfg.<span class="property">song_id</span> = song_id;</span><br><span class="line">    <span class="title class_">NeteaseMusicAPI</span>.<span class="title function_">layoutDiv</span>(cfg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div></details><h2 id="示例"><a class="markdownIt-Anchor" href="#示例"></a> 示例</h2><p>以下给出四个例子，音乐播放器可以通过hexo标签放置，也可以通过HTML代码放置，两者等价。</p><h3 id="网易云音乐"><a class="markdownIt-Anchor" href="#网易云音乐"></a> 网易云音乐</h3><p>只需插入网易云音乐编号，会自动获取音频等资源的链接。</p><div class="tag-plugin folders" ><details class="folder" index="0"><summary><span>HTML 方式</span></summary><div class="body"><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;stellar-musicplayer&quot;</span> <span class="attr">id</span>=<span class="string">&quot;aplayer1&quot;</span> <span class="attr">from</span>=<span class="string">&#x27;netease&#x27;</span> <span class="attr">song_id</span>=<span class="string">&#x27;436147423,1309394503,26590191&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div></details><details class="folder" index="1"><summary><span>效果</span></summary><div class="body"><div class="stellar-musicplayer" id="aplayer1" from='netease' song_id='436147423,1309394503,26590191'></div></div></details><details class="folder" index="2"><summary><span>hexo 插件的方式</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% musicplayer from:netease id:aplayer2 song_id:436147423,1309394503,26590191 %&#125;</span><br><span class="line">&#123;% endmusicplayer %&#125;</span><br></pre></td></tr></table></figure></div></details><details class="folder" index="3"><summary><span>效果</span></summary><div class="body"><div class="stellar-musicplayer" id="aplayer2" from="netease" song_id="436147423,1309394503,26590191"></div></div></details></div><h3 id="云存储"><a class="markdownIt-Anchor" href="#云存储"></a> 云存储</h3><div class="tag-plugin folders" ><details class="folder" index="0"><summary><span>HTML 方式</span></summary><div class="body"><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;stellar-musicplayer&quot;</span> <span class="attr">id</span>=<span class="string">&quot;aplayer3&quot;</span> <span class="attr">from</span>=<span class="string">&#x27;local&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">url</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.mp3&#x27;</span> <span class="attr">cover</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.png&#x27;</span> <span class="attr">lrc</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.lrc&#x27;</span> <span class="attr">name</span>=<span class="string">&#x27;喜欢&#x27;</span> <span class="attr">artist</span>=<span class="string">&#x27;张悬&#x27;</span>  &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">url</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.mp3&#x27;</span>   <span class="attr">cover</span>=<span class="string">&#x27;http://qiniu.pengfeima.cn/typora/202212062310206.jpg&#x27;</span>   <span class="attr">lrc</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.lrc&#x27;</span>   <span class="attr">name</span>=<span class="string">&#x27;Rainy Mood&#x27;</span>   <span class="attr">artist</span>=<span class="string">&#x27;www.rainymood.com&#x27;</span>  &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">url</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.mp3&#x27;</span>   <span class="attr">cover</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.png&#x27;</span>   <span class="attr">lrc</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.lrc&#x27;</span>   <span class="attr">name</span>=<span class="string">&#x27;The White Lady&#x27;</span>   <span class="attr">artist</span>=<span class="string">&#x27;Christopher Larkin&#x27;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">url</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.mp3&#x27;</span>   <span class="attr">cover</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.png&#x27;</span>   <span class="attr">lrc</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.lrc&#x27;</span>   <span class="attr">name</span>=<span class="string">&#x27;我记得&#x27;</span>   <span class="attr">artist</span>=<span class="string">&#x27;赵雷&#x27;</span>  &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">url</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.mp3&#x27;</span>   <span class="attr">cover</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.png&#x27;</span>   <span class="attr">lrc</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.lrc&#x27;</span>   <span class="attr">name</span>=<span class="string">&#x27;如何&#x27;</span>   <span class="attr">artist</span>=<span class="string">&#x27;张悬&#x27;</span>  &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">url</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.mp3&#x27;</span>   <span class="attr">cover</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.png&#x27;</span>   <span class="attr">lrc</span>=<span class="string">&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.lrc&#x27;</span>   <span class="attr">name</span>=<span class="string">&#x27;留下来陪你生活&#x27;</span>   <span class="attr">artist</span>=<span class="string">&#x27;张悬&#x27;</span>  &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div></details><details class="folder" index="1"><summary><span>效果</span></summary><div class="body"><div class="stellar-musicplayer" id="aplayer3" from='local'><div url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.mp3' cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.png' lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.lrc' name='喜欢' artist='张悬'  ></div><div url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.mp3'   cover='http://qiniu.pengfeima.cn/typora/202212062310206.jpg'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.lrc'   name='Rainy Mood'   artist='www.rainymood.com'  ></div><div  url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.lrc'   name='The White Lady'   artist='Christopher Larkin' ></div> <div  url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.lrc'   name='我记得'   artist='赵雷'  ></div><div  url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.lrc'   name='如何'   artist='张悬'  ></div><div  url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.lrc'   name='留下来陪你生活'   artist='张悬'  ></div></div></div></details><details class="folder" index="2"><summary><span>hexo 插件的方式</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% musicplayer  from:local id:aplayer4 %&#125;</span><br><span class="line">&lt;!-- song --&gt;</span><br><span class="line">url=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.mp3&#x27;   </span><br><span class="line">cover=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.png&#x27;   </span><br><span class="line">lrc=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.lrc&#x27;   </span><br><span class="line">name=&#x27;我记得&#x27;   </span><br><span class="line">artist=&#x27;赵雷&#x27;</span><br><span class="line">&lt;!-- song --&gt;</span><br><span class="line">url=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.mp3&#x27;   </span><br><span class="line">cover=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.png&#x27;   </span><br><span class="line">lrc=&#x27;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.lrc&#x27;   </span><br><span class="line">name=&#x27;留下来陪你生活&#x27;   </span><br><span class="line">artist=&#x27;张悬&#x27;</span><br><span class="line">&#123;% endmusicplayer %&#125;</span><br></pre></td></tr></table></figure></div></details><details class="folder" index="3"><summary><span>效果</span></summary><div class="body"><div class="stellar-musicplayer" id="aplayer4" from="local"><div url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.lrc'   name='我记得'   artist='赵雷'  ></div><div url='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.mp3'   cover='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.png'   lrc='https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.lrc'   name='留下来陪你生活'   artist='张悬'  ></div></div></details></div><h3 id="metingjs"><a class="markdownIt-Anchor" href="#metingjs"></a> MetingJs</h3>    <div id="aplayer-CJeIITwc" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="1939751157" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div>    <div id="aplayer-ILhAzbAK" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="1958624724" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div>    <div id="aplayer-cevwgHtQ" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="320449372" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div>    <div id="aplayer-BuwDwpqh" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="7169796963" data-server="netease" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div>    <div id="aplayer-RhgRUCse" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="16139397" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div>    <div id="aplayer-lMkHFMBR" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="j2i4s6b" data-server="kugou" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"    ></div><p>参考:<a href="https://github.com/MoePlayer/hexo-tag-aplayer">https://github.com/MoePlayer/hexo-tag-aplayer</a></p><p>如果想要自己写一个hexo插件，我们需要知道Promise的用法，异步计算，会搭建网易云音乐的第三方API服务器。一些参考资料：</p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model">文档对象模型(Document_Object_Model, DOM)</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Using_promises">使用Promise</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function">async 函数</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;div id=&quot;aplayer-zcdCKKTV&quot; class=&quot;aplayer aplayer-tag-marker meting-tag-marker&quot;
         data-id=&quot;16139397&quot; data-server=&quot;netease&quot; data-type=&quot;song&quot; data-mode=&quot;circulation&quot; data-autoplay=&quot;false&quot; data-mutex=&quot;true&quot; data-listmaxheight=&quot;340px&quot; data-preload=&quot;auto&quot; data-theme=&quot;#ad7a86&quot;
    &gt;&lt;/div&gt;

    &lt;div id=&quot;aplayer-ZcqlodlR&quot; class=&quot;aplayer aplayer-tag-marker meting-tag-marker&quot;
         data-id=&quot;7169796963&quot; data-server=&quot;netease&quot; data-type=&quot;playlist&quot; data-mode=&quot;circulation&quot; data-autoplay=&quot;false&quot; data-mutex=&quot;true&quot; data-listmaxheight=&quot;340px&quot; data-preload=&quot;auto&quot; data-theme=&quot;#ad7a86&quot;
    &gt;&lt;/div&gt;
&lt;!-- &lt;div class=&quot;stellar-musicplayer&quot; id=&quot;aplayer3&quot; from=&#39;local&#39;&gt;
&lt;div url=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.mp3&#39; cover=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.png&#39; lrc=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927771.lrc&#39; name=&#39;喜欢&#39; artist=&#39;张悬&#39;  &gt;&lt;/div&gt;
&lt;div url=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.mp3&#39;   cover=&#39;http://qiniu.pengfeima.cn/typora/202212062310206.jpg&#39;   lrc=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/29818028.lrc&#39;   name=&#39;Rainy Mood&#39;   artist=&#39;www.rainymood.com&#39;  &gt;&lt;/div&gt;
&lt;div  url=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.mp3&#39;   cover=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.png&#39;   lrc=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1309394503.lrc&#39;   name=&#39;The White Lady&#39;   artist=&#39;Christopher Larkin&#39; &gt;&lt;/div&gt; 
&lt;div  url=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.mp3&#39;   cover=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.png&#39;   lrc=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/1974443814.lrc&#39;   name=&#39;我记得&#39;   artist=&#39;赵雷&#39;  &gt;&lt;/div&gt;
&lt;div  url=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.mp3&#39;   cover=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.png&#39;   lrc=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/453927794.lrc&#39;   name=&#39;如何&#39;   artist=&#39;张悬&#39;  &gt;&lt;/div&gt;
&lt;div  url=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.mp3&#39;   cover=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.png&#39;   lrc=&#39;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/music/26590191.lrc&#39;   name=&#39;留下来陪你生活&#39;   artist=&#39;张悬&#39;  &gt;&lt;/div&gt;
&lt;/div&gt; --&gt;</summary>
    
    
    
    
    <category term="音乐播放器" scheme="https://blog.pengfeima.cn/tags/%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>过年了放烟花啦</title>
    <link href="https://blog.pengfeima.cn/posts/12076/"/>
    <id>https://blog.pengfeima.cn/posts/12076/</id>
    <published>2022-12-07T17:37:49.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><div class="tag-plugin image"><div class="image-bg"><img src="https://githubimages.pengfeima.cn/images/202301141037692.jpg" fancybox="true"/></div></div><p>非常棒的烟花模拟器！稍等片刻，烟花盛宴马上开始，将会有十一种烟花照亮天空！</p><span id="more"></span><iframe id="inlineFrameExample"    title="Inline Frame Example"    width=100%    height=800px    style="border: medium none"    src="https://nianbroken.github.io/Firework_Simulator/"></iframe><p>源码来自<a href="https://github.com/NianBroken/Firework_Simulator">Firework_Simulator</a> ，原作者为 <a href="https://codepen.io/MillerTime/pen/XgpNwb">XgpNwb</a>，你也可以<a href="https://nianbroken.github.io/Firework_Simulator/">全屏观看</a>。</p>]]></content>
    
    
    <summary type="html">&lt;div class=&quot;tag-plugin image&quot;&gt;&lt;div class=&quot;image-bg&quot;&gt;&lt;img src=&quot;https://githubimages.pengfeima.cn/images/202301141037692.jpg&quot; fancybox=&quot;true&quot;/&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;非常棒的烟花模拟器！稍等片刻，烟花盛宴马上开始，将会有十一种烟花照亮天空！&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>浸没边界有限元方法的无条件能量稳定格式</title>
    <link href="https://blog.pengfeima.cn/posts/47559/"/>
    <id>https://blog.pengfeima.cn/posts/47559/</id>
    <published>2022-12-06T08:37:00.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>简介：</p><span id="more"></span><p>大概就是这样：给出一种数值格式，证明它无条件能量稳定，然后再设计求解算法，最后实现CPU-GPU异构并行。<br />大概就是这样：给出一种数值格式，证明它无条件能量稳定，然后再设计求解算法，最后实现CPU-GPU异构并行。</p><p>We will show stability for a wide class of spatial discretizations but only for two types of temporal discretizations. We analyze unsteady Stokes flow because as mentioned above, the advection terms of the Navier–Stokes equations are not the cause of instability in these methods. We will, however, include the advection terms in some computational tests in Section 5.</p><p>我们这样做是因为时间离散化的选择似乎比空间离散化对稳定性更重要——我们将显示出广泛的空间离散化类别的稳定性，但仅适用于两种类型的时间离散化。我们分析非定常斯托克斯流，因为如上所述，Navier-Stokes方程的平流项不是这些方法中不稳定的原因。然而，我们将在第5节的一些计算测试中包括平流项。</p><h4 id="时间离散"><a class="markdownIt-Anchor" href="#时间离散"></a> 时间离散</h4><p>不管是经典的浸没边界法，还是它的拓展模型，在数值格式的稳定性方面，时间离散格式都比空间离散格式更重要。本文所讨论的模型也不例外。因此，我们首先将连续运动方程按时间变量进行离散，得到一个空间连续、时间离散的系统。公式 (1-5) 是本文使用的时间离散格式，它的特点是固体位移方程 (5) 采用了隐式离散。此外，插值算子和延拓算子中的固体位移变量采用了显式离散，由此产生的迟滞效应并不会影响数值格式的稳定性。</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲            \r…'>\begin{equation}            \rho\left(\frac{\mathbf{u}_{n+1}-{\mathbf{u}_{n}}}{\Delta t}+{\color{red}\mathbf{u}_{n}} \cdot \nabla \mathbf{u}_{n+1}\right)-\mu \Delta \mathbf{u}_{n+1}+\nabla p_{n+1} = \mathbf{f}_{n+1},        \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲            \n…'>\begin{equation}            \nabla \cdot \mathbf{u}_{n+1} =0, \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲            \i…'>\begin{equation}            \int_{B_{r}} \mathbf{F}_{n+1} \cdot \mathbf{V} \mathrm d \mathbf{x} =-\int_{B_{r}} \mathbb{P}_{n+1}: \nabla \mathbf{V} \mathrm d \mathbf{X},        \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 15:         \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲            \m…'>        \begin{equation}            \mathbf{f}\left(\mathbf{x}, t_{n+1}\right) =\int_{B_r} \mathbf{F}\left(\mathcal{X}_{n+1}\right) \delta\left(\mathbf{x}-{\color{red}\mathcal{X}_{n}}\right) \mathrm d \mathbf{X} ,        \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲            \f…'>\begin{equation}            \frac{\mathcal{X}\left(\mathbf{X}, t_{n+1}\right) - \mathcal{X}\left(\mathbf{X}, t_{n}\right)}{\Delta t} =  \int_{\Omega} {\color{red}\mathbf{u}\left(\mathbf{x}, t_{n+1}\right)} \delta\left(\mathbf{x}-{\color{red}\mathcal{X}_{n}}\right) \mathrm d \mathbf{x}.        \end{equation}</p><h4 id="半离散格式的无条件能量稳定证明"><a class="markdownIt-Anchor" href="#半离散格式的无条件能量稳定证明"></a> 半离散格式的无条件能量稳定证明</h4><p>我们将为流固耦合系统定义一个适当的能量函数，并证明在满足某些条件的情况下，它是一个关于时间非增的函数，因此也是一个有界函数。这就证明了数值格式 (1-5) 是无条件稳定的。</p><p>令<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="bold">v</mi><mo separator="true">,</mo><mi mathvariant="bold">w</mi><msub><mo stretchy="false">)</mo><mi mathvariant="normal">Ω</mi></msub><mo>=</mo><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><mi mathvariant="bold">v</mi><mo>⋅</mo><mi mathvariant="bold">w</mi><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">(\mathbf{v},\mathbf{w})_{\Omega}=\int_{\Omega}\mathbf{v}\cdot\mathbf{w}\;\mathrm{d}\mathbf{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1608200000000002em;vertical-align:-0.35582em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.12251099999999993em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35582em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span></span></span></span>表示<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>L</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L^2(\Omega)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">Ω</span><span class="mclose">)</span></span></span></span>的内积，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∥</mi><mo>⋅</mo><msub><mi mathvariant="normal">∥</mi><mrow><msup><mi>L</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow></msub></mrow><annotation encoding="application/x-tex">\|\cdot\|_{L^2(\Omega)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∥</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight">Ω</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span>表示<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>L</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L^2(\Omega)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">Ω</span><span class="mclose">)</span></span></span></span>的范数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>ρ</mi><mn>2</mn></mfrac><mi mathvariant="normal">∥</mi><mi mathvariant="bold">u</mi><msubsup><mi mathvariant="normal">∥</mi><mrow><msup><mi>L</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">\frac{\rho}{2}\|\mathbf{u}\|_{L^2(\Omega)}^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3111079999999997em;vertical-align:-0.49699999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ρ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999998em;"><span style="top:-2.378em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight">Ω</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.49699999999999994em;"><span></span></span></span></span></span></span></span></span></span>为流固耦合系统的总动能。令<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="bold">V</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><msub><mo stretchy="false">)</mo><msub><mi>B</mi><mi>r</mi></msub></msub><mo>=</mo><msub><mo>∫</mo><msub><mi>B</mi><mi>r</mi></msub></msub><mi mathvariant="bold">V</mi><mo>⋅</mo><mi mathvariant="bold">W</mi><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">X</mi></mrow><annotation encoding="application/x-tex">(\mathbf{V},\mathbf{W})_{B_r}=\int_{B_r}\mathbf{V}\cdot\mathbf{W}\;\mathrm{d}\mathbf{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.26092em;vertical-align:-0.45592em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.12251099999999993em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45592em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">X</span></span></span></span></span>表示<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>L</mi><mn>2</mn></msup><mo stretchy="false">(</mo><msub><mi>B</mi><mi>r</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L^2(B_r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的内积，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi mathvariant="script">X</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∫</mo><msub><mi>B</mi><mi>r</mi></msub></msub><mi>W</mi><mo stretchy="false">(</mo><mi mathvariant="script">X</mi><mo stretchy="false">)</mo><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">X</mi></mrow><annotation encoding="application/x-tex">E(\mathcal{X})=\int_{B_r}W(\mathcal{X})\;\mathrm{d}\mathbf{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.26092em;vertical-align:-0.45592em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.12251099999999993em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.45592em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mopen">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">X</span></span></span></span></span>表示固体的弹性势能。流固耦合系统的总能量是流固耦合系统的总动能和固体的弹性势能之和，是一个关于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">u</mi></mrow><annotation encoding="application/x-tex">\mathbf{u}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">u</span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">X</mi></mrow><annotation encoding="application/x-tex">\mathcal{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span></span></span></span>的函数，可以表示成</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi mathvariant="bold">u</mi><mo separator="true">,</mo><mi mathvariant="script">X</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mi>ρ</mi><mn>2</mn></mfrac><mi mathvariant="normal">∥</mi><mi mathvariant="bold">u</mi><msubsup><mi mathvariant="normal">∥</mi><mrow><msup><mi>L</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow><mn>2</mn></msubsup><mo>+</mo><mi>E</mi><mo stretchy="false">(</mo><mi mathvariant="script">X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(\mathbf{u},\mathcal{X})=\frac{\rho}{2}\|\mathbf{u}\|_{L^2(\Omega)}^2+E(\mathcal{X})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.7935599999999998em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">ρ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.428em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight">Ω</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4469999999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="mclose">)</span></span></span></span></span></p><p>将等式(1)和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span> 上做内积，~~将等式(2)和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">p</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{p}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span> 上做内积（这一条好像没有必要），~~将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">V</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mo stretchy="false">(</mo><msub><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi mathvariant="script">X</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{V} = \frac{1}{\Delta t}(\mathcal{X}_{n+1}-\mathcal{X}_{n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 代入等式(3)，将等式(4)和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span> 上做内积，将等式(5)和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msub><mi mathvariant="bold">F</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">-\mathbf{F}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.894441em;vertical-align:-0.208331em;"></span><span class="mord">−</span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">B_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 上做内积，我们可以得到方程组(7-11)。</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        \begin…'>\begin{equation}        \begin{aligned}            \frac{\rho}{\Delta t}\left(\mathbf{u}_{n+1}-\mathbf{u}_n,\mathbf{u}_{n+1}\right)_{\Omega}&amp;+\left(\mathbf{u}_n\cdot\nabla\mathbf{u}_{n+1},\mathbf{u}_{n+1}\right)_{\Omega}            -\mu\left(\Delta\mathbf{u}_{n+1},\mathbf{u}_{n+1}\right)_{\Omega}\\&amp;-\left(\nabla p_{n+1},\mathbf{u}_{n+1}\right)_{\Omega}=\left(\mathbf{f}_{n+1}\cdot\mathbf{u}_{n+1}\right)_{\Omega}        \end{aligned}    \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 11:     \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲    \left(p_{n…'>    \begin{equation}    \left(p_{n+1},\nabla\cdot\mathbf{u}_{n+1}\right)=0    \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        \frac{…'>\begin{equation}        \frac{1}{\Delta t}\left(\mathbf{F}_{n+1},\mathcal{X}_{n+1}-\mathcal{X}_{n}\right)_{B_r}=-\frac{1}{\Delta t}(\mathbb{P}_{n+1},\nabla(\mathcal{X}_{n+1}-\mathcal{X}_{n}))_{B_r}    \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲ \left(\mathbf{…'>\begin{equation} \left(\mathbf{f}_{n+1},\mathbf{u}_{n+1}\right)_{\Omega}=\int_{\Omega}\int_{B_r}\mathbf{F}_{n+1}\delta(\mathbf{x}-\mathcal{X}_{n})\;\mathrm{d}\mathbf{X}\cdot\mathbf{u}_{n+1}\;\mathrm{d}\mathbf{x}    \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        -\frac…'>\begin{equation}        -\frac{1}{\Delta t}\left((\mathcal{X}_{n+1}-\mathcal{X}_{n}),\mathbf{F}_{n+1}\right)_{B_r}=-\int_{B_r}\int_\Omega\mathbf{u}_{n+1}\delta(\mathbf{x}-\mathcal{X}_{n})\;\mathrm{d}\mathbf{x}\cdot\mathbf{F}_{n+1}\;\mathrm{d}\mathbf{X}\end{equation}</p><p>不失一般性，我们假设速度满足边界条件<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">u</mi><msub><mi mathvariant="normal">∣</mi><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">Ω</mi></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\mathbf{u}|_{\partial \Omega}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">u</span></span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="bold">u</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="bold">n</mi></mrow></mfrac><msub><mi mathvariant="normal">∣</mi><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">Ω</mi></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\frac{\partial\mathbf{u}}{\partial \mathbf{n}}|_{\partial\Omega}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathbf mtight">n</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathbf mtight">u</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，根据无散度条件<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∇</mi><mo>⋅</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\nabla\cdot\mathbf{u}_{n+1}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">∇</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，我们可以得出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>⋅</mo><mi mathvariant="normal">∇</mi><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">Ω</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\left(\mathbf{u}_n\cdot\nabla\mathbf{u}_{n+1},\mathbf{u}_{n+1}\right)_{\Omega}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.29969999999999997em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17863099999999998em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29969999999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，且<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mo fence="true">(</mo><mi mathvariant="normal">∇</mi><msub><mi>p</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">Ω</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\left(\nabla p_{n+1},\mathbf{u}_{n+1}\right)_{\Omega}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.29969999999999997em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord">∇</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.17863099999999998em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29969999999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。此外，我们假设应变能函数以下条件：</p><p>令<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">H</mi></mrow><annotation encoding="application/x-tex">\mathbb{H}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">H</span></span></span></span></span>为对 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> 二阶求导得到的四阶张量：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="double-struck">H</mi><mrow><mi>α</mi><mi>i</mi><mi>β</mi><mi>j</mi></mrow></msub><mo>:</mo><mo>=</mo><mfrac><mrow><msup><mi mathvariant="normal">∂</mi><mn>2</mn></msup><mi>W</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi mathvariant="double-struck">F</mi><mrow><mi>α</mi><mi>i</mi></mrow></msub><mi mathvariant="normal">∂</mi><msub><mi mathvariant="double-struck">F</mi><mrow><mi>β</mi><mi>j</mi></mrow></msub></mrow></mfrac><mtext>. </mtext></mrow><annotation encoding="application/x-tex">        \mathbb{H}_{\alpha i \beta j}:=\frac{\partial^2 W}{\partial \mathbb{F}_{\alpha i} \partial \mathbb{F}_{\beta j}} \text {. }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.974998em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">H</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.463216em;vertical-align:-0.972108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord"><span class="mord mathbb">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord"><span class="mord mathbb">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.972108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord text"><span class="mord">. </span></span></span></span></span></span></p><p>假设存在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>κ</mi><mi>min</mi><mo>⁡</mo></msub><mo separator="true">,</mo><msub><mi>κ</mi><mi>max</mi><mo>⁡</mo></msub><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\kappa_{\min },\kappa_{\max }&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">κ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">κ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>使得</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>κ</mi><mi>min</mi><mo>⁡</mo></msub><msup><mi mathvariant="double-struck">E</mi><mn>2</mn></msup><mo>⩽</mo><mi mathvariant="double-struck">E</mi><mo>:</mo><mi mathvariant="double-struck">H</mi><mo>:</mo><mi mathvariant="double-struck">E</mi><mo>⩽</mo><msub><mi>κ</mi><mi>max</mi><mo>⁡</mo></msub><msup><mi mathvariant="double-struck">E</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">        \kappa_{\min } \mathbb{E}^2 \leqslant \mathbb{E}: \mathbb{H}: \mathbb{E} \leqslant \kappa_{\max } \mathbb{E}^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0141079999999998em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">κ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbb">E</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">E</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">H</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8255600000000001em;vertical-align:-0.13667em;"></span><span class="mord"><span class="mord mathbb">E</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0141079999999998em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">κ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbb">E</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p>对任意二阶张量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">E</mi></mrow><annotation encoding="application/x-tex">\mathbb{E}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">E</span></span></span></span></span>成立。其中， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">E</mi><mn>2</mn></msup><mo>=</mo><mi mathvariant="double-struck">E</mi><mo>:</mo><mi mathvariant="double-struck">E</mi><mo separator="true">,</mo><mspace width="1em"/><mi mathvariant="double-struck">E</mi><mo>:</mo><mi mathvariant="double-struck">H</mi><mo>:</mo><mi mathvariant="double-struck">E</mi><mo>=</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mi>α</mi><mi>i</mi></mrow></msub><msub><mi mathvariant="double-struck">H</mi><mrow><mi>α</mi><mi>i</mi><mi>β</mi><mi>j</mi></mrow></msub><msub><mi mathvariant="double-struck">E</mi><mrow><mi>β</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbb{E}^2=\mathbb{E}: \mathbb{E}, \quad \mathbb{E}: \mathbb{H}: \mathbb{E}=\mathbb{E}_{\alpha i} \mathbb{H}_{\alpha i \beta j} \mathbb{E}_{\beta j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">E</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">E</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.88333em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbb">E</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbb">E</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">H</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">E</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.974998em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">E</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbb">H</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbb">E</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>对于不可压缩材料，这是一个合理的假设，据此可以得出</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mn>1</mn><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mrow><mo fence="true">(</mo><mi>E</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo fence="true">)</mo></mrow><mo>−</mo><mi>E</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="script">X</mi><mi>n</mi></msup><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mo>≤</mo><msub><mrow><mo fence="true">(</mo><mi mathvariant="double-struck">P</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="double-struck">F</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mfrac><mrow><msup><mi mathvariant="double-struck">F</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>−</mo><msup><mi mathvariant="double-struck">F</mi><mi>n</mi></msup></mrow><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mo fence="true">)</mo></mrow><mi mathvariant="script">B</mi></msub></mrow><annotation encoding="application/x-tex">\frac{1}{\Delta t}\left(E\left(\mathcal{X}^{n+1}\right)-E\left(\mathcal{X}^n\right)\right)\le\left(\mathbb{P}\left(\mathbb{F}^{n+1}\right), \frac{\mathbb{F}^{n+1}-\mathbb{F}^n}{\Delta t}\right)_{\mathcal{B}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.490838em;vertical-align:-0.99973em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mord mathbb">P</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord"><span class="mord mathbb">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbb">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.5213990000000001em;"><span style="top:-1.7002700000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.03041em;">B</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.99973em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>对于等式(7)中的第一项，我们可以进行如下推导：</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        (\math…'>\begin{equation}        (\mathbf{u}_{n+1}-\mathbf{u}_n,\mathbf{u}_{n+1})=\frac{1}{2}\|\mathbf{u}_{n+1}-\mathbf{u}_n\|_{\Omega}^2+\frac{1}{2}(\|\mathbf{u}_{n+1}\|_{\Omega}^2-\|\mathbf{u}_{n}\|_{\Omega}^2)    \end{equation}</p><p>而对于等式(10)和(11)中插值算子和延拓算子，我们可以通过交换积分顺序得到等式(16)</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        \int_{…'>\begin{equation}        \int_{\Omega}\int_{B_r}\mathbf{F}_{n+1}\delta(\mathbf{x}-\mathcal{X}_{n})\;\mathrm{d}\mathbf{X}\cdot\mathbf{u}_{n+1}\;\mathrm{d}\mathbf{x} = \int_{B_r}\int_\Omega\mathbf{u}_{n+1}\delta(\mathbf{x}-\mathcal{X}_{n})\;\mathrm{d}\mathbf{x}\cdot\mathbf{F}_{n+1}\;\mathrm{d}\mathbf{X}    \end{equation}</p><p>最后，将(15)代入(7)，将(16)代入(10)，再将(7)(9)(10)(11)式相加，可以得到等式</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        \frac{…'>\begin{equation}        \frac{\rho}{2\Delta t}\left(\|\mathbf{u}_{n+1}\|^2-\|\mathbf{u}_{n}\|^2\right)+\frac{1}{\Delta t}\left(E(\mathcal{X}^{n+1})-E(\mathcal{X}^n)\right)=\mu\left(\Delta\mathbf{u}_{n+1},\mathbf{u}_{n+1}\right)_{\Omega}-\frac{\rho}{2\Delta t}(\|\mathbf{u}_{n+1}\|_{\Omega}^2-\|\mathbf{u}_{n}\|_{\Omega}^2)    \end{equation}</p><p>因此方程组(1-5)求解出来的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">u</mi></mrow><annotation encoding="application/x-tex">\mathbf{u}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">u</span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">X</mi></mrow><annotation encoding="application/x-tex">\mathcal{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span></span></span></span>满足不等式</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi mathvariant="bold">u</mi><mo separator="true">,</mo><mi mathvariant="script">X</mi><msub><mo stretchy="false">)</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><mi>R</mi><mo stretchy="false">(</mo><mi mathvariant="bold">u</mi><mo separator="true">,</mo><mi mathvariant="script">X</mi><msub><mo stretchy="false">)</mo><mi>n</mi></msub><mo>≤</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">R(\mathbf{u},\mathcal{X})_{n+1}-R(\mathbf{u},\mathcal{X})_{n}\le0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span></p><p>因此半离散格式的无条件能量稳定的。在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{X}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>可解的前提下，取任意大的时间步长，系统都是稳定的。</p><h4 id="全离散"><a class="markdownIt-Anchor" href="#全离散"></a> 全离散</h4><p>全离散格式的证明是类似的，但是这里有个问题我纠结了很久。如果速度和压强整体求解<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\mathbf{u}_{n+1},p_{n+1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，那么全离散格式仍是无条件能量稳定的，但是计算效率并不高。如果采用投影方法，先求一个中间速度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mo>∗</mo></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，再求解压强<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">p_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>，最后求解速度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>，求解效率固然高，但是对流项只能采用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>⋅</mo><mi mathvariant="normal">∇</mi><msub><mi mathvariant="bold">u</mi><mo>∗</mo></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_n\cdot\nabla\mathbf{u}_*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59445em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，不能采用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>⋅</mo><mi mathvariant="normal">∇</mi><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_n\cdot\nabla\mathbf{u}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59445em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>，因此证明不了全离散格式的无条件稳定。</p><p>在浸没边界法中，对流项是影响稳定性的次要因素，Newren论文中是这样说的：因为对流项对稳定性影响不大，我们只考虑没有对流项的Stokes方程。Boffi的论文中是这样说的：假设我们能精确估计出对流项<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>⋅</mo><mi mathvariant="normal">∇</mi><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_n\cdot\nabla\mathbf{u}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59445em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>我这里的证明暂时先不考虑对流项，离散格式如下：</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲\frac{\rho}{\D…'>\begin{equation}\frac{\rho}{\Delta t}\left(\mathbf{u}_{*}-{\mathbf{u}_{n}}\right)-\mu \Delta_h \mathbf{u}_{*} = \mathbf{f}_{n+1},\end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲\Delta^h p_{n+…'>\begin{equation}\Delta^h p_{n+1}=\frac{1}{\Delta t} \nabla^h \cdot \mathbf{u}^*\end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲\mathbf{u}^{n+…'>\begin{equation}\mathbf{u}^{n+1}=\mathbf{u}^*-\Delta t \nabla^h p_{n+1}\end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲            \i…'>\begin{equation}            \int_{B_{h}} \mathbf{F}_{h,n+1} \cdot \mathbf{V}_h \mathrm d \mathbf{x} =\int_{B_h} \mathbb{P}_{h,n+1}: \nabla \mathbf{V}_h \mathrm d \mathbf{X},        \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲            \m…'>\begin{equation}            \mathbf{f}\left(\mathbf{x}, t_{n+1}\right) =\int_{B_r} \mathbf{F}_{h,n+1} \delta\left(\mathbf{x}-{\color{red}\mathcal{X}_{h,n}}\right) \mathrm d \mathbf{X} ,        \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲            \f…'>\begin{equation}            \frac{\mathcal{X}_{h,n+1} - \mathcal{X}_{h,n}}{\Delta t} =  \int_{\Omega} {\color{red}\mathbf{u}_{n+1}} \delta\left(\mathbf{x}-{\color{red}\mathcal{X}_{h,n}}\right) \mathrm d \mathbf{x}.        \end{equation}</p><h4 id="内积形式"><a class="markdownIt-Anchor" href="#内积形式"></a> 内积形式</h4><p>空间离散后，内积需要重新定义：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="bold">v</mi><mo separator="true">,</mo><mi mathvariant="bold">w</mi><msub><mo stretchy="false">)</mo><msub><mi mathvariant="normal">Ω</mi><mi>h</mi></msub></msub><mo>=</mo><msub><mo>∑</mo><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi mathvariant="bold">v</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>⋅</mo><msub><mi mathvariant="bold">w</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mi mathvariant="normal">Δ</mi><mi>x</mi><mi mathvariant="normal">Δ</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">(\mathbf{v},\mathbf{w})_{\Omega_h}=\sum_{i j} \mathbf{v}_{i j} \cdot \mathbf{w}_{i j} \Delta x \Delta y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00586em;vertical-align:-0.25586em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.185818em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16195399999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">Δ</span><span class="mord mathnormal">x</span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>。</p><p>参考构型上的内积差别不大：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="bold">V</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><msub><mo stretchy="false">)</mo><msub><mi>B</mi><mi>h</mi></msub></msub><mo>=</mo><msub><mo>∫</mo><msub><mi>B</mi><mi>h</mi></msub></msub><mi mathvariant="bold">V</mi><mo>⋅</mo><mi mathvariant="bold">W</mi><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">(\mathbf{V},\mathbf{W})_{B_h}=\int_{B_h}\mathbf{V}\cdot\mathbf{W}\mathrm{d}\mathbf{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00586em;vertical-align:-0.25586em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25586em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.26668em;vertical-align:-0.46168em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.12251099999999993em;"><span style="top:-2.34418em;margin-left:-0.19445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.46168em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span></span></span></span>。</p><ul><li><p>将等式(17)和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ω</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">\Omega_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 上做内积</p></li><li><p>将等式(19)和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ω</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">\Omega_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 上做内积</p></li><li><p>将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">V</mi><mi>h</mi></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mo stretchy="false">(</mo><msub><mi mathvariant="script">X</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi mathvariant="script">X</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{V}_h = \frac{1}{\Delta t}(\mathcal{X}_{h,n+1}-\mathcal{X}_{h,n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83611em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 代入等式(3)</p></li><li><p>将等式(4)和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ω</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">\Omega_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 上做内积</p></li><li><p>将等式(5)和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msub><mi mathvariant="bold">F</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">-\mathbf{F}_{h,n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.972218em;vertical-align:-0.286108em;"></span><span class="mord">−</span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">B_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 上做内积</p></li></ul><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        \begin…'>\begin{equation}        \begin{aligned}            \frac{\rho}{\Delta t}\left(\mathbf{u}_{*}-\mathbf{u}_n,\mathbf{u}_{n+1}\right)_{\Omega_h}            -\mu\left(\Delta\mathbf{u}_{*},\mathbf{u}_{n+1}\right)_{\Omega_h}=\left(\mathbf{f}_{n+1},\mathbf{u}_{n+1}\right)_{\Omega_h}        \end{aligned}    \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲\left(\mathbf{…'>\begin{equation}\left(\mathbf{u}_{n+1},\mathbf{u}_{n+1}\right)_{\Omega_h}=(\mathbf{u}_*-\Delta t \nabla^h p_{n+1},\mathbf{u}_{n+1})_{\Omega_h}    \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        \frac{…'>\begin{equation}        \frac{1}{\Delta t}\left(\mathbf{F}_{h,n+1},\mathcal{X}_{h,n+1}-\mathcal{X}_{h,n}\right)_{B_h}=(\mathbb{P}_{h,n+1},\nabla(\mathcal{X}_{h,n+1}-\mathcal{X}_{h,n}))_{B_h}    \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲ \left(\mathbf{…'>\begin{equation} \left(\mathbf{f}_{n+1},\mathbf{u}_{n+1}\right)_{\Omega_h}=\left(\int_{B_r}\mathbf{F}_{n+1}\delta(\mathbf{x}-\mathcal{X}_{n})\;\mathrm{d}\mathbf{X},\mathbf{u}_{n+1}\right)_{\Omega_h}    \end{equation}</p><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        -\frac…'>\begin{equation}        -\frac{1}{\Delta t}\left((\mathcal{X}_{n+1}-\mathcal{X}_{n}),\mathbf{F}_{n+1}\right)_{B_h}=\left(\int_\Omega\mathbf{u}_{n+1}\delta(\mathbf{x}-\mathcal{X}_{n})\;\mathrm{d}\mathbf{x},\mathbf{F}_{n+1}\right)_{B_h}\end{equation}</p><h4 id="假设条件"><a class="markdownIt-Anchor" href="#假设条件"></a> 假设条件</h4><ol><li><p>离散算子<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">∇</mi><mi>h</mi></msup></mrow><annotation encoding="application/x-tex">\nabla^h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Δ</mi><mi>h</mi></msup></mrow><annotation encoding="application/x-tex">\Delta^h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span></span></span></span>满足可交换性。</p></li><li><p>适当的边界条件使得离散的无散度向量场与离散的梯度场的内积为零。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mo fence="true">(</mo><mi mathvariant="bold">u</mi><mo separator="true">,</mo><msup><mi mathvariant="normal">∇</mi><mi>h</mi></msup><mi>p</mi><mo fence="true">)</mo></mrow><msub><mi mathvariant="normal">Ω</mi><mi>h</mi></msub></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\left(\mathbf{u},\nabla^h p\right)_{\Omega_h}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.35557em;vertical-align:-0.50557em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathbf">u</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mord mathnormal">p</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.07862099999999994em;"><span style="top:-2.30029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.50557em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</p></li><li><p>应变能函数满足前文所述假设。</p></li><li><p>插值算子和延拓算子满足（插值算子和延拓算子在空间离散后不一定满足对偶性）</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mrow><mo fence="true">(</mo><msub><mo>∫</mo><msub><mi>B</mi><mi>r</mi></msub></msub><msub><mi mathvariant="bold">F</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mi>δ</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>−</mo><msub><mi mathvariant="script">X</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">X</mi><mo separator="true">,</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><msub><mi mathvariant="normal">Ω</mi><mi>h</mi></msub></msub><mo>≤</mo><msub><mrow><mo fence="true">(</mo><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mi>δ</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>−</mo><msub><mi mathvariant="script">X</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><msub><mi>B</mi><mi>h</mi></msub></msub></mrow><annotation encoding="application/x-tex">\left(\int_{B_r}\mathbf{F}_{n+1}\delta(\mathbf{x}-\mathcal{X}_{n})\;\mathrm{d}\mathbf{X},\mathbf{u}_{n+1}\right)_{\Omega_h}\le\left(\int_\Omega\mathbf{u}_{n+1}\delta(\mathbf{x}-\mathcal{X}_{n})\;\mathrm{d}\mathbf{x},\mathbf{F}_{n+1}\right)_{B_h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.61761em;vertical-align:-1.1676099999999998em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.01205em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.5834189999999999em;"><span style="top:-1.6382500000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1676099999999998em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.5555899999999996em;vertical-align:-1.1055899999999999em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">Ω</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.521399em;"><span style="top:-1.7002700000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15122857142857138em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1055899999999999em;"><span></span></span></span></span></span></span></span></span></span></span></p></li></ol><h4 id="推导过程"><a class="markdownIt-Anchor" href="#推导过程"></a> 推导过程</h4><p>将(19)代入(24)消去<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mo>∗</mo></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，其他和半离散格式类似。</p><h4 id="因此前述全离散格式无条件稳定"><a class="markdownIt-Anchor" href="#因此前述全离散格式无条件稳定"></a> 因此前述全离散格式无条件稳定</h4><p class='katex-block katex-error' title='ParseError: KaTeX parse error: No such environment: equation at position 7: \begin{̲e̲q̲u̲a̲t̲i̲o̲n̲}̲        \frac{…'>\begin{equation}        \frac{\rho}{2\Delta t}\left(\|\mathbf{u}_{n+1}\|^2-\|\mathbf{u}_{n}\|^2\right)+\frac{1}{\Delta t}\left(E(\mathcal{X}_{h,n+1})-E(\mathcal{X}_{h,n})\right)\le\mu\left(\Delta\mathbf{u}_{n+1},\mathbf{u}_{n+1}\right)_{\Omega_h}    \end{equation}</p><h2 id="算法"><a class="markdownIt-Anchor" href="#算法"></a> 算法</h2><p>引入离散的插值算子和延拓算子后，全离散格式可以写成</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mi>ρ</mi><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mrow><mo fence="true">(</mo><mrow><msub><mi mathvariant="bold">u</mi><mo lspace="0em" rspace="0em">∗</mo></msub><mo>−</mo><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub></mrow><mo fence="true">)</mo></mrow><mo>−</mo><mi>μ</mi><mi mathvariant="normal">Δ</mi><msub><mi mathvariant="bold">u</mi><mo lspace="0em" rspace="0em">∗</mo></msub><mo>=</mo><msub><mi mathvariant="bold">f</mi><mo lspace="0em" rspace="0em">∗</mo></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msup><mi mathvariant="normal">Δ</mi><mi>h</mi></msup><msub><mi>p</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><msup><mi mathvariant="normal">∇</mi><mi>h</mi></msup><mo>⋅</mo><msup><mi mathvariant="bold">u</mi><mo>∗</mo></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msup><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>=</mo><msup><mi mathvariant="bold">u</mi><mo>∗</mo></msup><mo>−</mo><mi mathvariant="normal">Δ</mi><mi>t</mi><msup><mi mathvariant="normal">∇</mi><mi>h</mi></msup><msub><mi>p</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mo>∫</mo><msub><mi>B</mi><mi>r</mi></msub></msub><msub><mi mathvariant="bold">F</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>⋅</mo><mrow><mi mathvariant="bold">V</mi><mi mathvariant="bold">d</mi></mrow><mi mathvariant="bold">x</mi><mo>=</mo><msub><mo>∫</mo><msub><mi>B</mi><mi>r</mi></msub></msub><msub><mi mathvariant="double-struck">P</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>:</mo><mi mathvariant="normal">∇</mi><mrow><mi mathvariant="bold">V</mi><mi mathvariant="bold">d</mi></mrow><mi mathvariant="bold">X</mi><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="bold">f</mi><mrow><mo fence="true">(</mo><mi mathvariant="bold">x</mi><mo separator="true">,</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><mo>=</mo><msub><mi mathvariant="script">J</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi></mrow></msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold">F</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="bold">U</mi><mrow><mo fence="true">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><msub><mi mathvariant="bold">t</mi><mrow><mi mathvariant="bold">n</mi><mo>+</mo><mn mathvariant="bold">1</mn></mrow></msub><mo fence="true">)</mo></mrow><mo>=</mo><msub><mi mathvariant="script">S</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi></mrow></msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{gathered}\frac{\rho}{\Delta t}\left({\mathbf{u}_{*}-\mathbf{u}_n}\right)-\mu \Delta \mathbf{u}_{*}=\mathbf{f}_{*} \\\Delta^h p_{n+1}=\frac{1}{\Delta t} \nabla^h \cdot \mathbf{u}^*\\\mathbf{u}^{n+1}=\mathbf{u}^*-\Delta t \nabla^h p_{n+1} \\\int_{B_r} \mathbf{F}_{n+1} \cdot \mathbf{V d} \mathbf{x}=\int_{B_r} \mathbb{P}_{n+1}: \nabla \mathbf{V d} \mathbf{X}, \\\mathbf{f}\left(\mathbf{x}, t_{n+1}\right)=\mathcal{J}_{h, n}\left(\mathbf{F}_{n+1}\right) \\\mathbf{U}\left(\mathbf{X}, \mathbf{t}_{\mathbf{n}+\mathbf{1}}\right)=\mathcal{S}_{h, n}\left(\mathbf{u}_{n+1}\right)\end{gathered}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:11.632158em;vertical-align:-5.566079000000001em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.066079em;"><span style="top:-8.318519000000002em;"><span class="pstrut" style="height:3.3600000000000003em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">ρ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">μ</span><span class="mord">Δ</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.10903em;">f</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-6.011079em;"><span class="pstrut" style="height:3.3600000000000003em;"></span><span class="mord"><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span><span style="top:-4.125971em;"><span class="pstrut" style="height:3.3600000000000003em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">Δ</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.1059709999999994em;"><span class="pstrut" style="height:3.3600000000000003em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.01205em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span><span class="mord mathbf">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.01205em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∇</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span><span class="mord mathbf">d</span></span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span></span></span><span style="top:0.04607900000000065em;"><span class="pstrut" style="height:3.3600000000000003em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.10903em;">f</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.18472em;">J</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:1.5460790000000006em;"><span class="pstrut" style="height:3.3600000000000003em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">U</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">t</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight">n</span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathbf mtight">1</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.075em;">S</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.566079000000001em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>引入函数</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="script">X</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><mo>=</mo><mfrac><mrow><msub><mi mathvariant="script">X</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi mathvariant="script">X</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi></mrow></msub></mrow><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mo>−</mo><msub><mi mathvariant="bold">U</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">h_{n+1}\left(\mathcal{X}_{h,n+1}\right)=\frac{\mathcal{X}_{h,n+1}-\mathcal{X}_{h,n}}{\Delta t}-\mathbf{U}_{h,n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.04633em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.972218em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">U</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">U</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{U}_{h,n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.972218em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">U</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>为关于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">X</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{X}_{h,n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>的非线形函数。为了简明符号，令<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">X</mi></mrow><annotation encoding="application/x-tex">\mathcal{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span></span></span></span>为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">X</mi><mrow><mi>h</mi><mo separator="true">,</mo><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{X}_{h,n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>的系数构成的向量，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">X</mi><mo>=</mo><msubsup><mrow><mo fence="true">{</mo><msub><mi mathvariant="script">X</mi><mi>l</mi></msub><mo stretchy="false">(</mo><msub><mi>t</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo fence="true">}</mo></mrow><mrow><mi>l</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{X}=\left\{\mathcal{X}_l(t_{n+1})\right\}_{l=1}^M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2809309999999998em;vertical-align:-0.29969999999999997em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29969999999999997em;"><span></span></span></span></span></span></span></span></span></span>。我们采用迭代法求解方程(30)，即构造一组序列 $\left{\mathcal{X}_{n+1}^{(k)}\right} $ 使得 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∥</mo><msub><mi>h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow><mo fence="true">∥</mo></mrow><annotation encoding="application/x-tex">\left\|h_{n+1}\left(\mathcal{X}_{n+1}^{(k)}\right)\right\|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.823995em;vertical-align:-0.65002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.173975em;"><span style="top:-1.955985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.556985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.572975em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-3.173975em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6500149999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.173975em;"><span style="top:-1.955985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.556985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.572975em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-3.173975em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6500149999999999em;"><span></span></span></span></span></span></span></span></span></span></span>趋于零。</p><h3 id="牛顿方法"><a class="markdownIt-Anchor" href="#牛顿方法"></a> 牛顿方法</h3><p>求解 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo fence="true">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\mathbf{h}_{n+1}\left(\mathcal{X}_{n+1}\right)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">h</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 的 Newton 迭代公式为:</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>h</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow><mo>+</mo><mi>J</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>−</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">h\left(\mathcal{X}_{n+1}^{(k)}\right)+J\left(\mathcal{X}_{n+1}^{(k)}\right)\left(\mathcal{X}_{n+1}^{(k+1)}-\mathcal{X}_{n+1}^{(k)}\right)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.324639em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.324639em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.324639em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.324639em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">J\left(\mathcal{X}_{n+1}^{(k)}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span> 为 Jacobian 矩阵</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>J</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>h</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">J\left(\mathcal{X}_{n+1}^{(k)}\right)=\frac{\partial h\left(\mathcal{X}_{n+1}^{(k)}\right)}{\partial \mathcal{X}_{n+1}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.324639em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.084351em;vertical-align:-0.894331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.19002em;"><span style="top:-2.464em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.38em;"><span class="pstrut" style="height:3.15em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.1900200000000005em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.894331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>但 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">J\left(\mathcal{X}_{n+1}^{(k)}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span> 的解析表达式难以获得。</p><h3 id="差分法求解jacobian矩阵"><a class="markdownIt-Anchor" href="#差分法求解jacobian矩阵"></a> 差分法求解Jacobian矩阵</h3><p>Newren 采用差分法求解雅可比矩阵。 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mo fence="true">[</mo><mi>J</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow><mo fence="true">]</mo></mrow><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\left[J\left(\mathcal{X}_{n+1}^{(k)}\right)\right]_{i, j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.985828em;vertical-align:-0.835828em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">[</span></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">]</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.23805600000000005em;"><span style="top:-2.00028em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.835828em;"><span></span></span></span></span></span></span></span></span></span> 表示雅可比矩阵的第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 行第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> 列元素, 它可以通过差分法得到</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mrow><mo fence="true">[</mo><mi>J</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow><mo fence="true">]</mo></mrow><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub><mo>≈</mo><mfrac><mrow><msub><mi>h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>i</mi></mrow></msub><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mi>ϵ</mi><msub><mi mathvariant="bold">e</mi><mi>j</mi></msub><mo fence="true">)</mo></mrow><mo>−</mo><msub><mi>h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>i</mi></mrow></msub><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow></mrow><mi>ϵ</mi></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\left[J\left(\mathcal{X}_{n+1}^{(k)}\right)\right]_{i, j} \approx \frac{h_{n+1, i}\left(\mathcal{X}_{n+1}^{(k)}+\epsilon \mathbf{e}_j\right)-h_{n+1, i}\left(\mathcal{X}_{n+1}^{(k)}\right)}{\epsilon} .</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.985828em;vertical-align:-0.835828em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">[</span></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.324639em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">]</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.23805600000000005em;"><span style="top:-2.00028em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.835828em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.87602em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.19002em;"><span style="top:-2.464em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord mathnormal">ϵ</span></span></span><span style="top:-3.38em;"><span class="pstrut" style="height:3.15em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.1900200000000005em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">ϵ</span><span class="mord"><span class="mord"><span class="mord mathbf">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span></p><p>其中, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">e</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{e}_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.730548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 是第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">j</mi></mrow><annotation encoding="application/x-tex">\mathrm{j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8623000000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathrm">j</span></span></span></span></span> 个元素为 1 的单位向量, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">ϵ</span></span></span></span> 是一个极微小量, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">h_{n+1, i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 表示 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">h_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 的第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">i</mi></mrow><annotation encoding="application/x-tex">\mathrm{i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">i</span></span></span></span></span> 个自由度。</p><h3 id="残差的求解"><a class="markdownIt-Anchor" href="#残差的求解"></a> 残差的求解</h3><p>结合我们的数值格式, 对于任意给定的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">X</mi><mo>∗</mo></msub></mrow><annotation encoding="application/x-tex">\mathcal{X}_*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, 残差可以通过下面五个步骤 求解:</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mo>∫</mo><msub><mi>B</mi><mi>r</mi></msub></msub><msub><mi mathvariant="bold">F</mi><mo>∗</mo></msub><mo>⋅</mo><mi mathvariant="bold">V</mi><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi><mo>=</mo><msub><mo>∫</mo><msub><mi>B</mi><mi>r</mi></msub></msub><msub><mi mathvariant="double-struck">P</mi><mo>∗</mo></msub><mo>:</mo><mi mathvariant="normal">∇</mi><mi mathvariant="bold">V</mi><mi mathvariant="normal">d</mi><mi mathvariant="bold">X</mi><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi mathvariant="bold">f</mi><mo>∗</mo></msub><mo>=</mo><msub><mo>∫</mo><msub><mi>B</mi><mi>r</mi></msub></msub><msub><mi mathvariant="bold">F</mi><mo>∗</mo></msub><mi>δ</mi><mrow><mo fence="true">(</mo><mi mathvariant="bold">x</mi><mo>−</mo><msub><mi mathvariant="script">X</mi><mi>n</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">d</mi><mi mathvariant="bold">X</mi><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo fence="true">{</mo><mi>ρ</mi><mrow><mo fence="true">(</mo><mfrac><mrow><msub><mi mathvariant="bold">u</mi><mo>∗</mo></msub><mo>−</mo><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub></mrow><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mo>+</mo><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>⋅</mo><mi mathvariant="normal">∇</mi><msup><mi mathvariant="bold">u</mi><mo>∗</mo></msup><mo fence="true">)</mo></mrow><mo>−</mo><mi>μ</mi><mi mathvariant="normal">Δ</mi><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><mi mathvariant="normal">∇</mi><msub><mi>p</mi><mo>∗</mo></msub><mo>=</mo><msub><mi mathvariant="bold">f</mi><mo>∗</mo></msub><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">∇</mi><mo>⋅</mo><msup><mi mathvariant="bold">u</mi><mo>∗</mo></msup><mo>=</mo><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi mathvariant="bold">U</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="script">X</mi><mo>∗</mo></msub><mo fence="true">)</mo></mrow><mo>=</mo><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><msub><mi mathvariant="bold">u</mi><mo>∗</mo></msub><mi>δ</mi><mrow><mo fence="true">(</mo><mi mathvariant="bold">x</mi><mo>−</mo><msub><mi mathvariant="script">X</mi><mi mathvariant="normal">n</mi></msub><mo fence="true">)</mo></mrow><mi>d</mi><mi mathvariant="bold">x</mi><mo separator="true">,</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{gathered}\int_{B_r} \mathbf{F}_* \cdot \mathbf{V} \mathrm{d} \mathbf{x}=\int_{B_r} \mathbb{P}_*: \nabla \mathbf{V} \mathrm{d} \mathbf{X}, \\\mathbf{f}_*=\int_{B_r} \mathbf{F}_* \delta\left(\mathbf{x}-\mathcal{X}_n\right) \mathrm{d} \mathbf{X}, \\\left\{\rho\left(\frac{\mathbf{u}_*-\mathbf{u}_n}{\Delta t}+\mathbf{u}_n \cdot \nabla \mathbf{u}^*\right)-\mu \Delta \mathbf{u}_{n+1}+\nabla p_*=\mathbf{f}_*,\right. \\\nabla \cdot \mathbf{u}^*=0, \\\mathbf{U}_{n+1}\left(\mathcal{X}_*\right)=\int_{\Omega} \mathbf{u}_* \delta\left(\mathbf{x}-\mathcal{X}_{\mathrm{n}}\right) d \mathbf{x},\end{gathered}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:12.116079999999998em;vertical-align:-5.808039999999998em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.30804em;"><span style="top:-8.39804em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.01205em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.01205em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">∇</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">V</span></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span></span></span><span style="top:-5.725990000000001em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.10903em;">f</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05017em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.01205em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">F</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span></span></span><span style="top:-2.963940000000001em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord mathnormal">ρ</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603300000000002em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">μ</span><span class="mord">Δ</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">∇</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.10903em;">f</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-0.8739100000000009em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord">∇</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mpunct">,</span></span></span><span style="top:1.1460899999999983em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">U</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.808039999999998em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>进而计算出残差 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">h</mi><mrow><mo fence="true">(</mo><msub><mi mathvariant="script">X</mi><mo>∗</mo></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{h}\left(\mathcal{X}_*\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">h</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span> 。</p><h3 id="jacobian-free-newton-krylov-方法"><a class="markdownIt-Anchor" href="#jacobian-free-newton-krylov-方法"></a> Jacobian-free Newton-Krylov 方法</h3><p>引入此算法的目的：原方法需要做 N + 1 次残差计算才能得到系数矩阵，Jacobian 矩阵的稀疏性未知，组装矩阵的组装与求解耗时。<br />Krylov 子空间<br />每步牛顿迭代都采用 Krylov 子空间法求解。令 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">b</mi><mo>=</mo><mo>−</mo><msub><mi>h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{b}=-h_{n+1}\left(\mathcal{X}_{n+1}^{(k)}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">b</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord">−</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>J</mi><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mi mathvariant="bold">x</mi><mo>=</mo><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>−</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A=J\left(\mathcal{X}_{n+1}^{(k)}\right), \mathbf{x}=\left(\mathcal{X}_{n+1}^{(k+1)}-\mathcal{X}_{n+1}^{(k)}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span>, 令初值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">x</mi><mrow><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><mn mathvariant="bold">0</mn></mrow><annotation encoding="application/x-tex">\mathbf{x}^{(0)}=\mathbf{0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">x</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">0</span></span></span></span></span>, 那么残差为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">v</mi><mo>=</mo><mi mathvariant="bold">b</mi></mrow><annotation encoding="application/x-tex">\mathbf{v}=\mathbf{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">b</span></span></span></span></span>, 构造 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">n</mi></mrow><annotation encoding="application/x-tex">\mathrm{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">n</span></span></span></span></span> 维 Krylov 子空间</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">K</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi mathvariant="bold">v</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">span</mi><mo>⁡</mo><mrow><mo fence="true">{</mo><mi mathvariant="bold">v</mi><mo separator="true">,</mo><mi>A</mi><mi mathvariant="bold">v</mi><mo separator="true">,</mo><msup><mi>A</mi><mn>2</mn></msup><mi mathvariant="bold">v</mi><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msup><mi>A</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mi mathvariant="bold">v</mi><mo fence="true">}</mo></mrow><mo>⊆</mo><msup><mi mathvariant="double-struck">R</mi><mi>N</mi></msup></mrow><annotation encoding="application/x-tex">\mathcal{K}_n(A, \mathbf{v})=\operatorname{span}\left\{\mathbf{v}, A \mathbf{v}, A^2 \mathbf{v}, \ldots, A^{n-1} \mathbf{v}\right\} \subseteq \mathbb{R}^N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.01445em;">K</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.214118em;vertical-align:-0.35001em;"></span><span class="mop"><span class="mord mathrm">s</span><span class="mord mathrm">p</span><span class="mord mathrm">a</span><span class="mord mathrm">n</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">{</span></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">}</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≪</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">n \ll N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≪</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>, 我们可以通过迭代法在空间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">K</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi mathvariant="bold">v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{K}_n(A, \mathbf{v})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.01445em;">K</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mclose">)</span></span></span></span> 中找到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{X}_{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 的近 似解<br />JFNK 方法通过有限差分方法计算矩阵向量乘积, 无需知道 Jacobian 矩 阵</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi mathvariant="bold">v</mi><mo>=</mo><mfrac><mrow><msub><mi mathvariant="bold">h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mi>ϵ</mi><mi mathvariant="bold">v</mi><mo fence="true">)</mo></mrow><mo>−</mo><msub><mi mathvariant="bold">h</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow></mrow><mi>ϵ</mi></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">A \mathbf{v}=\frac{\mathbf{h}_{n+1}\left(\mathcal{X}_{n+1}^{(k)}+\epsilon \mathbf{v}\right)-\mathbf{h}_{n+1}\left(\mathcal{X}_{n+1}^{(k)}\right)}{\epsilon} .</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.87602em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.19002em;"><span style="top:-2.464em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord mathnormal">ϵ</span></span></span><span style="top:-3.38em;"><span class="pstrut" style="height:3.15em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.1900200000000005em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">h</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">ϵ</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">h</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span></p><p>本文采用 BiCGStab 方法。为了保证整体的效率, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">X</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{X}_{n+1}^{(k+1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3694389999999999em;vertical-align:-0.3246389999999999em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14643em;">X</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246389999999999em;"><span></span></span></span></span></span></span></span></span></span> 的求解通常不 要求达到很高的精度。</p><ol><li>非线形求解器<ol><li>Matrix-free Newton-Krylov 算法</li><li>时间自适应算法</li></ol></li><li>CPU-GPU heterogeneous computing method</li></ol><h2 id="结果"><a class="markdownIt-Anchor" href="#结果"></a> 结果</h2>]]></content>
    
    
    <summary type="html">&lt;p&gt;简介：&lt;/p&gt;</summary>
    
    
    
    
    <category term="未完成" scheme="https://blog.pengfeima.cn/tags/%E6%9C%AA%E5%AE%8C%E6%88%90/"/>
    
  </entry>
  
  <entry>
    <title>通过微信公众号在博客中发布动态</title>
    <link href="https://blog.pengfeima.cn/posts/14811/"/>
    <id>https://blog.pengfeima.cn/posts/14811/</id>
    <published>2022-12-03T10:02:34.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>Stellar主题支持动态说说的功能。博主可以在仓库下面创建GitHub Issues，用户在浏览页面时，浏览器会通过JS脚本从GitHub拉取动态数据，呈现在页面中。但是博主每次发说说都要登陆GitHub，新建一个issue，在移动设备上完成这些操作不太方便。</p><p>我最初的想法是，通过微信公众号后台服务器发布GitHub Issues。博主只需在移动设备上的微信应用里发说说，公众号后台可以使用GitHub Token调用GitHub API发布issue，这样极大地简化了发布流程。但是一个GitHub Token代表着一位博主的身份，如果很多博主都希望能够使用这个微信公众号发说说，那么他们都要将自己的GitHub Token上传到公众号后台，这种做法不太安全。</p><p>Xaoxuu的想法是，我们可以开发一个GitHub Integration，博主安装这个应用的同时会授予它权限。完成授权后，应用后台会通过密钥定期调用GitHub API 获取用户的 access token。这样能让一个微信公众号安全地为多个博主提供发布动态说说的功能。</p><p>这个项目有大量工作要做：</p><ul><li>媒体文件需要从微信服务器下载并上传到第三方服务器保存</li><li>走通 GitHub Integration 获取 access token 的流程</li><li>将微信用户ID和GitHub用户账号对应起来</li><li>调用 GitHub API 发布 GitHub Issues</li></ul><span id="more"></span><div class="tag-plugin note" color="warning"><div class="title"><strong>注意！</strong></div><div class="body"><p>以下内容还未更新</p></div></div><p>通过微信发布issue，从而更新博客中的个人动态。虽然这是一个小功能，但是后期仍需要大量改进，有时间会开一个github仓库存代码，目前就将所有代码放在这个文档里了。</p><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>流程如下：</p><ol><li>在微信客户端给公众号发消息</li><li>微信服务器接受到消息，将数据转发给公众号后台服务器</li><li>公众号后台服务器下载数据，将数据处理后转发给GitHub服务器</li><li>GitHub服务器将数据添加到仓库的issue中，至此，博客中能显示动态</li><li>公众号后台服务器接收到GitHub成功添加issue的通知</li><li>公众号后台服务器将通知转发给微信服务器</li><li>微信服务器将通知发送到微信客户端</li></ol><p>首先有个问题是微信服务器不会长期保存用户发送的数据，所以公众号服务器在处理数据时，需要将图片等数据从微信服务器上下载下来，上传到第三方服务器长期保存。这里可以选用GitHub仓库或者七牛云存储。</p><p>还有一个问题，由于微信对个人订阅号的限制，我的公众号只能被动回复消息。即用户发一条消息，我回复一条。微信还限制了公众号必须在五秒内做出回应，否则判定服务器故障。因此，当用户发来视频等比较大的数据时，我不能在5秒钟内处理完，必须先给用户答复我已经收到消息了，之后再在后台处理。由于我不能主动向用户发送消息，因此在用户下次给我发消息前，我无法告知用户我是否已经成功处理完数据。这个问题很蛋疼。</p><p>我在网上找到了类似功能的代码，一个是BBtalk，他的功能和我的类似，通过微信公众号发送个人的想法，小灵感等，经过公众号后台服务器转发，最终呈现在自己的博客中。只不过他用了leancloud的服务。<br /><a href="https://bb.js.org/quick-start.html">https://bb.js.org/quick-start.html</a></p><p>在此过程中，我还发现一个项目，mastodon(长毛象)，是一个去中心话社区，类似于微博、twitter等网站，而且提供了丰富的API，以后有时间再慢慢聊这个吧。<br /><a href="https://www.zhihu.com/question/67166897/answer/2323395370">https://www.zhihu.com/question/67166897/answer/2323395370</a><br /><a href="https://mastodon.li">https://mastodon.li</a></p><h2 id="通过-github-api-上传文件"><a class="markdownIt-Anchor" href="#通过-github-api-上传文件"></a> 通过 GitHub API 上传文件</h2><p>官方文档：</p><p><a href="https://docs.github.com/en/rest/repos/contents?apiVersion=2022-11-28#about-the-repository-contents-api">https://docs.github.com/en/rest/repos/contents?apiVersion=2022-11-28#about-the-repository-contents-api</a></p><p>一篇相关博客(代码有错)：</p><p><a href="https://www.cnblogs.com/lizaza/p/12896536.html">https://www.cnblogs.com/lizaza/p/12896536.html</a></p><p>下面是我修改的代码：</p><figure class="highlight python"><figcaption><span>QIHS.py</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数设置</span></span><br><span class="line"><span class="comment"># 我把GitHub图床翻译成 GitHub Image Hosting Service, 然后取他的简写为GIHS。</span></span><br><span class="line">GIHS_OWNER   = <span class="string">&quot;shaoyaoqian&quot;</span></span><br><span class="line">GIHS_REPO    = <span class="string">&quot;images-1&quot;</span></span><br><span class="line">GIHS_PATH    = <span class="string">&quot;test&quot;</span></span><br><span class="line">GITHUB_TOKEN = <span class="string">&quot;自己申请一个TOKEN&quot;</span></span><br><span class="line">url_stensil  = <span class="string">&quot;https://api.github.com/repos/&#123;owner&#125;/&#123;repo&#125;/contents/&#123;path&#125;/&#123;filename&#125;&quot;</span></span><br><span class="line">cdn_stensil  = <span class="string">&quot;https://cdn.jsdelivr.net/gh/&#123;owner&#125;/&#123;repo&#125;/&#123;path&#125;/&#123;filename&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取文件</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">open_file</span>(<span class="params">file_path</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">return</span> f.read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将文件转换为base64编码，上传文件必须将文件以base64格式上传</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">file_base64</span>(<span class="params">data</span>):</span><br><span class="line">    sha = CalcSha1(data)</span><br><span class="line">    <span class="built_in">print</span>(sha)</span><br><span class="line">    data_b64 = base64.b64encode(data).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> data_b64, sha</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">CalcSha1</span>(<span class="params">data</span>):</span><br><span class="line">    <span class="comment"># 哈希值的计算：https://stackoverflow.com/questions/7225313/how-does-git-compute-file-hashes/7225329#7225329</span></span><br><span class="line">    <span class="comment"># 需要在原数据前加上 &quot;blob &#123;字节长度&#125;\0&quot;</span></span><br><span class="line">    sha1obj = hashlib.sha1()</span><br><span class="line">    head = <span class="string">&#x27;blob &#123;&#125;\0&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">len</span>(data))</span><br><span class="line">    sha1obj.update(head.encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">    sha1obj.update(data)</span><br><span class="line">    <span class="built_in">hash</span> = sha1obj.hexdigest()</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">hash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">upload_file</span>(<span class="params">filename</span>):</span><br><span class="line">    file_data = open_file(filename)</span><br><span class="line">    token = GITHUB_TOKEN</span><br><span class="line">    url = url_stensil.<span class="built_in">format</span>(owner=GIHS_OWNER, repo=GIHS_REPO, path=GIHS_PATH, filename=filename)</span><br><span class="line">    headers = &#123;<span class="string">&quot;Authorization&quot;</span>: <span class="string">&quot;token &quot;</span> + token&#125;</span><br><span class="line">    content, sha = file_base64(file_data)</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;message&quot;</span>: <span class="string">&quot;Add a new file.&quot;</span>,</span><br><span class="line">        <span class="string">&quot;committer&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;robot&quot;</span>,</span><br><span class="line">            <span class="string">&quot;email&quot;</span>: <span class="string">&quot;github@robot.com&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;sha&quot;</span>:sha,</span><br><span class="line">        <span class="string">&quot;content&quot;</span>: content</span><br><span class="line">    &#125;</span><br><span class="line">    data = json.dumps(data)</span><br><span class="line">    req = requests.put(url=url, data=data, headers=headers)</span><br><span class="line">    req.encoding = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">    re_data = json.loads(req.text)</span><br><span class="line">    <span class="comment"># 能返回文件sha值表示上传成功</span></span><br><span class="line">    <span class="built_in">print</span>(re_data)</span><br><span class="line">    <span class="built_in">print</span>(re_data[<span class="string">&#x27;content&#x27;</span>][<span class="string">&#x27;sha&#x27;</span>]) </span><br><span class="line">    <span class="comment"># 在国内默认的down_url可能会无法访问，因此使用CDN访问</span></span><br><span class="line">    <span class="keyword">return</span> cdn_stensil.<span class="built_in">format</span>(owner=GIHS_OWNER, repo=GIHS_REPO, path=GIHS_PATH, filename=filename)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    filename = <span class="string">&quot;a.jpeg&quot;</span></span><br><span class="line">    upload_file(filename)</span><br></pre></td></tr></table></figure><h2 id="通过七牛云sdk上传文件"><a class="markdownIt-Anchor" href="#通过七牛云sdk上传文件"></a> 通过七牛云SDK上传文件</h2><figure class="highlight python"><figcaption><span>QIHS</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> qiniu <span class="keyword">import</span> Auth, put_file, etag</span><br><span class="line"><span class="keyword">import</span> qiniu.config</span><br><span class="line"></span><br><span class="line"><span class="comment"># 七牛</span></span><br><span class="line">QINIU_ACCESS_KEY = <span class="string">&quot;NLI1UowRkIZiebmdEZ7MWNDLtPYeqJWkc90MFn_0&quot;</span></span><br><span class="line">QINIU_SECRET_KEY = <span class="string">&quot;NMgdo5YrD8zQhzc8ZGWH4t-pcGEeLOYzFYJZhiG-&quot;</span></span><br><span class="line">QINIU_CDN_BASE   = <span class="string">&quot;https://china-qiniu-s3.pengfeima.cn/&quot;</span></span><br><span class="line">QINIU_BUCKET     = <span class="string">&#x27;pengfei-npu&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 上传到七牛云图床，参考：https://developer.qiniu.com/kodo/1242/python</span></span><br><span class="line"><span class="comment"># 默认存储到&quot;blog/moments/&quot;路径下</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">upload_file</span>(<span class="params">filename, path=<span class="string">&quot;blog/moments/&quot;</span></span>):</span><br><span class="line">    <span class="comment">#构建鉴权对象</span></span><br><span class="line">    q = Auth(QINIU_ACCESS_KEY, QINIU_SECRET_KEY)</span><br><span class="line">    <span class="comment">#要上传的空间</span></span><br><span class="line">    bucket_name = QINIU_BUCKET</span><br><span class="line">    <span class="comment">#要上传文件的本地路径</span></span><br><span class="line">    localfile = filename</span><br><span class="line">    <span class="comment">#上传后保存的文件名</span></span><br><span class="line">    key = path + filename</span><br><span class="line">    <span class="comment">#生成上传 Token，可以指定过期时间等</span></span><br><span class="line">    token = q.upload_token(bucket_name, key, <span class="number">3600</span>)</span><br><span class="line">    ret, info = put_file(token, key, localfile, version=<span class="string">&#x27;v2&#x27;</span>) </span><br><span class="line">    <span class="built_in">print</span>(info)</span><br><span class="line">    <span class="keyword">assert</span> ret[<span class="string">&#x27;key&#x27;</span>] == key</span><br><span class="line">    <span class="keyword">assert</span> ret[<span class="string">&#x27;hash&#x27;</span>] == etag(localfile)</span><br><span class="line">    <span class="keyword">return</span> QINIU_CDN_BASE + key</span><br></pre></td></tr></table></figure><h2 id="微信公众号后台程序"><a class="markdownIt-Anchor" href="#微信公众号后台程序"></a> 微信公众号后台程序</h2><figure class="highlight python"><figcaption><span>wechat.py</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># 使用前提：云主机(其实用免费的vercel也可以)、域名、微信公众号、七牛云账号、GitHub账号</span></span><br><span class="line"><span class="comment"># 参考 : </span></span><br><span class="line"><span class="comment"># python 微信公众号开发[1] 后台服务器端配置与公众号开发配置</span></span><br><span class="line"><span class="comment"># https://blog.csdn.net/jinxiaonian11/article/details/104708996/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pip3 install flask, xmltodict, octokitpy, qiniu</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, abort, render_template</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> xmltodict</span><br><span class="line"><span class="keyword">import</span> time, datetime</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> octokit <span class="keyword">import</span> Octokit</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下面两行代码分别是七牛云图床和GitHub图床的上传文件的方式</span></span><br><span class="line"><span class="comment"># 使用一行即可</span></span><br><span class="line"><span class="comment"># from GIHS import upload_file</span></span><br><span class="line"><span class="keyword">from</span> QIHS <span class="keyword">import</span> upload_file</span><br><span class="line"></span><br><span class="line"><span class="comment"># 微信的token令牌，参数的获取可参考：https://qiniu.pengfeima.cn/typora/202212031457547.png</span></span><br><span class="line">WECHAT_TOKEN = <span class="string">&#x27;look_back_at_me&#x27;</span></span><br><span class="line">WECHAT_APPID = <span class="string">&quot;wxcc6a1b8adade3237&quot;</span>,         </span><br><span class="line">WECHAT_SECRET = <span class="string">&quot;29b97cdfd439873420ecf78e8221fdea&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># GitHub</span></span><br><span class="line">GITHUB_TOKEN = <span class="string">&quot;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&quot;</span></span><br><span class="line">GITHUB_OWNER = <span class="string">&#x27;shaoyaoqian&#x27;</span></span><br><span class="line">GITHUB_REPO  = <span class="string">&quot;MerryJingle&quot;</span></span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取微信的access token，在获取音频和视频文件时用得到</span></span><br><span class="line"><span class="comment"># 注意：虽然官方文档有向用户发送视频文件的方法，但本人多次尝试无法成功。有人询问过微信官方，但是微信官方不置可否。</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_access_token</span>():</span><br><span class="line">    baseurl = <span class="string">&quot;https://api.weixin.qq.com/cgi-bin/token?&quot;</span></span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&quot;grant_type&quot;</span>:<span class="string">&quot;client_credential&quot;</span>,</span><br><span class="line">        <span class="string">&quot;appid&quot;</span>: WECHAT_APPID,         </span><br><span class="line">        <span class="string">&quot;secret&quot;</span>: WECHAT_SECRET</span><br><span class="line">    &#125;</span><br><span class="line">    r = requests.get(baseurl, params=params)</span><br><span class="line">    access_token = r.json()[<span class="string">&quot;access_token&quot;</span>]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(baseurl, params=params)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line">    <span class="keyword">return</span> access_token</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_github_issue</span>(<span class="params">title,body</span>):</span><br><span class="line">    octokit = Octokit(auth=<span class="string">&#x27;token&#x27;</span>, token=GITHUB_TOKEN)</span><br><span class="line">    issue = octokit.issues.create(owner=GITHUB_OWNER,repo=GITHUB_REPO,title=title,body=body)</span><br><span class="line">    message = <span class="string">&quot;成功发布动态！\n日期：&#123;&#125;\n内容：&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(issue.response.title,issue.response.body)</span><br><span class="line">    <span class="built_in">print</span>(message)</span><br><span class="line">    <span class="keyword">return</span> message</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/&quot;</span>, methods=[<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">wechat</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;验证服务器地址的有效性&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 开发者提交信息后，微信服务器将发送GET请求到填写的服务器地址URL上，GET请求携带四个参数:</span></span><br><span class="line">    <span class="comment"># signature:微信加密, signature结合了开发者填写的token参数和请求中的timestamp参数 nonce参数</span></span><br><span class="line">    <span class="comment"># timestamp:时间戳(chuo这是拼音)</span></span><br><span class="line">    <span class="comment"># nonce:    随机数</span></span><br><span class="line">    <span class="comment"># echostr:  随机字符串</span></span><br><span class="line">    <span class="comment"># 接收微信服务器发送参数</span></span><br><span class="line">    signature = request.args.get(<span class="string">&quot;signature&quot;</span>)</span><br><span class="line">    timestamp = request.args.get(<span class="string">&quot;timestamp&quot;</span>)</span><br><span class="line">    nonce = request.args.get(<span class="string">&quot;nonce&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 校验参数</span></span><br><span class="line">    <span class="comment"># 校验流程：</span></span><br><span class="line">    <span class="comment"># 将token、timestamp、nonce三个参数进行字典序排序</span></span><br><span class="line">    <span class="comment"># 将三个参数字符串拼接成一个字符串进行sha1加密</span></span><br><span class="line">    <span class="comment"># 开发者获得加密后的字符串可与signature对比，标识该请求来源于微信</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">all</span>([signature, timestamp, nonce]):</span><br><span class="line">        <span class="comment"># 抛出400错误</span></span><br><span class="line">        abort(<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 按照微信的流程计算签名</span></span><br><span class="line">    li = [WECHAT_TOKEN, timestamp, nonce]</span><br><span class="line">    <span class="comment"># 排序</span></span><br><span class="line">    li.sort()</span><br><span class="line">    <span class="comment"># 拼接字符串</span></span><br><span class="line">    tmp_str = <span class="string">&quot;&quot;</span>.join(li)</span><br><span class="line">    tmp_str = tmp_str.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="comment"># 进行sha1加密, 得到正确的签名值</span></span><br><span class="line">    sign = hashlib.sha1(tmp_str).hexdigest()</span><br><span class="line">    <span class="comment"># 将自己计算的签名值, 与请求的签名参数进行对比, 如果相同, 则证明请求来自微信</span></span><br><span class="line">    <span class="keyword">if</span> signature != sign:</span><br><span class="line">        <span class="comment"># 代表请求不是来自微信</span></span><br><span class="line">        <span class="comment"># 弹出报错信息, 身份有问题</span></span><br><span class="line">        abort(<span class="number">403</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 表示是微信发送的请求,第一次接入微信服务器的验证时才会使用</span></span><br><span class="line">        <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">            echostr = request.args.get(<span class="string">&quot;echostr&quot;</span>)</span><br><span class="line">            <span class="comment"># 校验echostr</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> echostr:</span><br><span class="line">                abort(<span class="number">400</span>)</span><br><span class="line">            <span class="keyword">return</span> echostr</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> request.method == <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">            <span class="comment"># 表示微信服务器转发消息过来</span></span><br><span class="line">            <span class="comment"># 拿取xml的请求数据</span></span><br><span class="line">            xml_str = request.data</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 当xml_str为空时</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> xml_str:</span><br><span class="line">                abort(<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 将xml字符串解析成字典</span></span><br><span class="line">            xml_dict = xmltodict.parse(xml_str)</span><br><span class="line">            xml_dict = xml_dict.get(<span class="string">&quot;xml&quot;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># MsgType是消息类型 这里提取消息类型</span></span><br><span class="line">            msg_type = xml_dict.get(<span class="string">&quot;MsgType&quot;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> msg_type == <span class="string">&quot;text&quot;</span>:</span><br><span class="line">                <span class="comment"># 表示收到文本消息</span></span><br><span class="line">                <span class="comment"># 构造xml格式的返回值,</span></span><br><span class="line">                <span class="comment"># 返回值会经由微信服务器回复给用户</span></span><br><span class="line">                <span class="comment"># 其中：</span></span><br><span class="line">                <span class="comment"># ToUsername: (必须传) 接收方账号(收到的OpenID)</span></span><br><span class="line">                <span class="comment"># FromUserName: (必须传) 开发者微信号</span></span><br><span class="line">                <span class="comment"># CreateTime: (必须传) 消息创建时间(整形)</span></span><br><span class="line">                <span class="comment"># MsgType: (必须传) 消息类型</span></span><br><span class="line">                <span class="comment"># Content: (必须传) 回复消息的内容(换行:在Content中能够换行, 微信客户端就支持换行显示)</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 发布GitHub issue</span></span><br><span class="line">                title = time.strftime(<span class="string">&#x27;%Y年%m月%d日 %H:%M:%S&#x27;</span>,time.localtime(time.time()))</span><br><span class="line">                body = xml_dict.get(<span class="string">&quot;Content&quot;</span>)</span><br><span class="line">                message = create_github_issue(title,body)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># 返回消息告知用户issue是否成功发布</span></span><br><span class="line">                resp_dict = &#123;</span><br><span class="line">                    <span class="string">&quot;xml&quot;</span>:&#123;</span><br><span class="line">                        <span class="string">&quot;ToUserName&quot;</span>:xml_dict.get(<span class="string">&quot;FromUserName&quot;</span>),</span><br><span class="line">                        <span class="string">&quot;FromUserName&quot;</span>:xml_dict.get(<span class="string">&quot;ToUserName&quot;</span>),</span><br><span class="line">                        <span class="string">&quot;CreateTime&quot;</span>:<span class="built_in">int</span>(time.time()),</span><br><span class="line">                        <span class="string">&quot;MsgType&quot;</span>:<span class="string">&quot;text&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;Content&quot;</span>:message</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> msg_type == <span class="string">&quot;image&quot;</span>:</span><br><span class="line">                <span class="comment"># PicUrl  图片链接</span></span><br><span class="line">                <span class="comment"># MediaId 图片消息的媒体id，图片被归为临时素材，通过统一接口调用。</span></span><br><span class="line">                <span class="comment"># </span></span><br><span class="line">                <span class="comment"># resp_dict = &#123;</span></span><br><span class="line">                <span class="comment">#     &quot;xml&quot;:&#123;</span></span><br><span class="line">                <span class="comment">#         &quot;ToUserName&quot;:xml_dict.get(&quot;FromUserName&quot;),</span></span><br><span class="line">                <span class="comment">#         &quot;FromUserName&quot;:xml_dict.get(&quot;ToUserName&quot;),</span></span><br><span class="line">                <span class="comment">#         &quot;CreateTime&quot;:int(time.time()),</span></span><br><span class="line">                <span class="comment">#         &quot;MsgType&quot;:&quot;image&quot;,</span></span><br><span class="line">                <span class="comment">#         &quot;Image&quot;:&#123;</span></span><br><span class="line">                <span class="comment">#             &quot;MediaId&quot;:xml_dict.get(&quot;MediaId&quot;)</span></span><br><span class="line">                <span class="comment">#         &#125;</span></span><br><span class="line">                <span class="comment">#     &#125;</span></span><br><span class="line">                <span class="comment"># &#125;</span></span><br><span class="line">                <span class="comment">#</span></span><br><span class="line">                <span class="comment"># 下载图片，以时间命名，为了确保图片文件名的唯一性，时间精确到纳秒(10^-6秒)，例如：2022-12-03-165018047661.png</span></span><br><span class="line">                filename = datetime.datetime.now().strftime(<span class="string">&quot;%Y-%m-%d-%H%M%S%f&quot;</span>)+<span class="string">&quot;.png&quot;</span></span><br><span class="line">                r = requests.get(xml_dict.get(<span class="string">&quot;PicUrl&quot;</span>))</span><br><span class="line">                <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                    f.write(r.content)</span><br><span class="line">                <span class="comment"># 上传</span></span><br><span class="line">                picurl = upload_file(filename)</span><br><span class="line">                <span class="comment"># 将图片链接改成markdown中的表达形式</span></span><br><span class="line">                body = <span class="string">&quot;![&#123;&#125;](&#123;&#125;)&quot;</span>.<span class="built_in">format</span>(filename, picurl)</span><br><span class="line">                <span class="comment"># 发布issue</span></span><br><span class="line">                title = time.strftime(<span class="string">&#x27;%Y年%m月%d日 %H:%M:%S&#x27;</span>,time.localtime(time.time()))</span><br><span class="line">                message = create_github_issue(title,body)</span><br><span class="line">                <span class="comment"># 告知用户issue是否成功发布</span></span><br><span class="line">                resp_dict = &#123;</span><br><span class="line">                    <span class="string">&quot;xml&quot;</span>:&#123;</span><br><span class="line">                        <span class="string">&quot;ToUserName&quot;</span>:xml_dict.get(<span class="string">&quot;FromUserName&quot;</span>),</span><br><span class="line">                        <span class="string">&quot;FromUserName&quot;</span>:xml_dict.get(<span class="string">&quot;ToUserName&quot;</span>),</span><br><span class="line">                        <span class="string">&quot;CreateTime&quot;</span>:<span class="built_in">int</span>(time.time()),</span><br><span class="line">                        <span class="string">&quot;MsgType&quot;</span>:<span class="string">&quot;text&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;Content&quot;</span>:message</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                resp_dict = &#123;</span><br><span class="line">                    <span class="string">&quot;xml&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;ToUserName&quot;</span>: xml_dict.get(<span class="string">&quot;FromUserName&quot;</span>),</span><br><span class="line">                        <span class="string">&quot;FromUserName&quot;</span>: xml_dict.get(<span class="string">&quot;ToUserName&quot;</span>),</span><br><span class="line">                        <span class="string">&quot;CreateTime&quot;</span>: <span class="built_in">int</span>(time.time()),</span><br><span class="line">                        <span class="string">&quot;MsgType&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;Content&quot;</span>: <span class="string">&quot;我不想回复&quot;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="comment"># 将字典转换为xml字符串</span></span><br><span class="line">            resp_xml_str = xmltodict.unparse(resp_dict)</span><br><span class="line">            <span class="built_in">print</span>(resp_xml_str)</span><br><span class="line">            <span class="comment"># 返回消息数据给微信服务器</span></span><br><span class="line">            <span class="keyword">return</span> resp_xml_str</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;0.0.0.0&#x27;</span>, port=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># sudo python3 wechat.py</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;Stellar主题支持动态说说的功能。博主可以在仓库下面创建GitHub Issues，用户在浏览页面时，浏览器会通过JS脚本从GitHub拉取动态数据，呈现在页面中。但是博主每次发说说都要登陆GitHub，新建一个issue，在移动设备上完成这些操作不太方便。&lt;/p&gt;
&lt;p&gt;我最初的想法是，通过微信公众号后台服务器发布GitHub Issues。博主只需在移动设备上的微信应用里发说说，公众号后台可以使用GitHub Token调用GitHub API发布issue，这样极大地简化了发布流程。但是一个GitHub Token代表着一位博主的身份，如果很多博主都希望能够使用这个微信公众号发说说，那么他们都要将自己的GitHub Token上传到公众号后台，这种做法不太安全。&lt;/p&gt;
&lt;p&gt;Xaoxuu的想法是，我们可以开发一个GitHub Integration，博主安装这个应用的同时会授予它权限。完成授权后，应用后台会通过密钥定期调用GitHub API 获取用户的 access token。这样能让一个微信公众号安全地为多个博主提供发布动态说说的功能。&lt;/p&gt;
&lt;p&gt;这个项目有大量工作要做：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;媒体文件需要从微信服务器下载并上传到第三方服务器保存&lt;/li&gt;
&lt;li&gt;走通 GitHub Integration 获取 access token 的流程&lt;/li&gt;
&lt;li&gt;将微信用户ID和GitHub用户账号对应起来&lt;/li&gt;
&lt;li&gt;调用 GitHub API 发布 GitHub Issues&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    
    <category term="未完成" scheme="https://blog.pengfeima.cn/tags/%E6%9C%AA%E5%AE%8C%E6%88%90/"/>
    
  </entry>
  
  <entry>
    <title>首次为开源项目提交代码</title>
    <link href="https://blog.pengfeima.cn/posts/26834/"/>
    <id>https://blog.pengfeima.cn/posts/26834/</id>
    <published>2022-12-01T12:27:16.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>将自己的代码提交到他人的仓库中</p><span id="more"></span><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>今天我给Stellar主题增加了一个功能，想把代码提交到上游仓库的主分支上，因此开了一个 pull request 。这是我第一次使用 pull request ，我总结了以下一些经验。</p><p>我自己在本地修改代码调试程序时，commit命令用得比较频繁，很多commit都是一些小修改，而且我会在代码中加入一些私货，我不想它们出现在别人的代码仓库中。我希望在pull request的时候只挑选出一些有用的commit，将它们合并成一个commit，再将它推送到上游仓库。</p><p>不啰嗦了，直接写步骤吧～</p><ol><li>fetch 拉取上游仓库的主分支，将仓库的 upatream/main 分支更新到最新状态</li><li>在 upstream/main 分支创建并签出一个 dev 分支</li><li>使用 cherry-pick 挑选出有用的 commit 加到 dev 分支上</li><li>使用 rebase 将这些分支合并，并详写 message 解释代码的改动</li><li>在 github 上开启一个 pull requst 等待作者审阅代码</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;将自己的代码提交到他人的仓库中&lt;/p&gt;</summary>
    
    
    
    <category term="技术基础" scheme="https://blog.pengfeima.cn/categories/%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="git" scheme="https://blog.pengfeima.cn/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>CFD问题中的稳定性分析</title>
    <link href="https://blog.pengfeima.cn/posts/55132/"/>
    <id>https://blog.pengfeima.cn/posts/55132/</id>
    <published>2022-11-30T03:00:22.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>    长期以来，在网上一直能看到这样的论断：因为有限元方法不能使用迎风格式，所以求解CFD问题时会遇到稳定性问题。对此我很困惑，我困惑的是他们为什么要纠结显格式的稳定性问题，用隐格式或半隐格式就是无条件稳定的呀。例如下面这个数值格式</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><msup><mi mathvariant="bold-italic">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>−</mo><msup><mi mathvariant="bold-italic">u</mi><mi>n</mi></msup></mrow><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mo>+</mo><msup><mi mathvariant="bold-italic">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>⋅</mo><mi mathvariant="normal">∇</mi><msup><mi mathvariant="bold-italic">u</mi><mi>n</mi></msup><mo>=</mo><mi mathvariant="bold-italic">f</mi><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\frac{\boldsymbol{u}^{n+1}-\boldsymbol{u}^n}{\Delta t}+\boldsymbol{u}^{n+1}\cdot\nabla\boldsymbol{u}^{n}=\boldsymbol{f},</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.177108em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">u</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">u</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.864108em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">u</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7143919999999999em;vertical-align:0em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">u</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.11042em;">f</span></span></span><span class="mpunct">,</span></span></span></span></span></p><span id="more"></span><div class="tag-plugin note" color="warning"><div class="body"><p>我只分析时间离散的稳定性</p></div></div><div class="tag-plugin note" ><div class="body"><p>用现代数值计算理论分析一下很容易得出它是无条件稳定的，并且我自己也用数值试验验证过。我认为标准的有限元方法可以求解CFD问题，重点在于构造稳定的时间离散格式和寻找满足LBB条件的有限元空间。我特别希望有人告诉我，我的想法是错的，我哪里错了或者我哪里没考虑到。</p><p>    我在李晓丽的论文中找到下面这样的论述：</p><div class="tag-plugin note" color="dark"><div class="title"><strong>ERROR ANALYSIS OF THE SAV-MAC SCHEME FOR THE NAVIER-STOKES EQUATIONS</strong></div><div class="body"><p>求解NS方程的诸多困难之一是如何处理非线性对流项。本质上有三种处理方式：</p><ol><li>完全隐式，每个时间步都要求解一个非线性系统。</li><li>半隐式，每个时间步都要求解一个变系数椭圆方程，这意味着每个时间步都需要重新组装系数矩阵。</li><li>显式，每个时间步只需求解一次Stokes方程(两次Poisson型的方程，如果采用算子分裂格式)，但是有CFL条件限制，如果雷诺数较大，那么时间步长要取得非常小。</li></ol></div></div><p>    在Daniel Boffi的论文里是这样考虑对流项的：</p><div class="tag-plugin note" color="dark"><div class="title"><strong>ERROR ANALYSIS OF THE SAV-MAC SCHEME FOR THE NAVIER-STOKES EQUATIONS</strong></div><div class="body"><p>NS方程中对流项的变分形式可以写成</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>b</mi><mo stretchy="false">(</mo><mi mathvariant="bold">u</mi><mo separator="true">,</mo><mi mathvariant="bold">v</mi><mo separator="true">,</mo><mi mathvariant="bold">w</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><msub><mi>ρ</mi><mi>f</mi></msub><mn>2</mn></mfrac><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi mathvariant="bold">u</mi><mo>⋅</mo><mi mathvariant="bold">∇</mi><mi mathvariant="bold">v</mi><mo separator="true">,</mo><mi mathvariant="bold">w</mi><mo stretchy="false">)</mo><mo>−</mo><mo stretchy="false">(</mo><mi mathvariant="bold">u</mi><mo>⋅</mo><mi mathvariant="bold">∇</mi><mi mathvariant="bold">w</mi><mo separator="true">,</mo><mi mathvariant="bold">v</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">b(\mathbf{u}, \mathbf{v}, \mathbf{w})=\frac{\rho_f}{2}((\mathbf{u} \cdot \boldsymbol{\nabla} \mathbf{v}, \mathbf{w})-(\mathbf{u} \cdot \boldsymbol{\nabla} \mathbf{w}, \mathbf{v})),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.7935599999999998em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">ρ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">∇</span></span></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">∇</span></span></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span></p><p>这一项可以通过代入前一时间步的变量线性化，线性化后可以写成</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>b</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">u</mi><mi>n</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>v</mi><mo fence="true">)</mo></mrow><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">b\left(\mathbf{u}^n, \mathbf{u}^{n+1}, v\right).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.214118em;vertical-align:-0.35001em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span></span></span></span></span></p><p>速度的无散度条件和适当的边界条件可以使这一项为零，不会影响数值格式的稳定性。</p></div></div><h2 id="时间离散空间连续"><a class="markdownIt-Anchor" href="#时间离散空间连续"></a> 时间离散空间连续</h2><p>晚上我在看一篇论文：</p><div class="tag-plugin note" color="dark"><div class="title"><strong>Unconditionally stable discretizations of the immersed boundary equations</strong></div><div class="body"></div></div><p>里面涉及到不可压NS方程全离散格式的稳定性证明，他的证明特别简洁。文中假设了无散度速度场与梯度场是正交的，即</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="bold">u</mi><mo separator="true">,</mo><mi mathvariant="normal">∇</mi><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.</mn></mrow><annotation encoding="application/x-tex">(\mathbf{u},\nabla p)=0.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∇</span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span></span></span></span></span></p><p>这其实是对边界条件的要求，其他论文里一般会假设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">u</mi><mo>∈</mo><msubsup><mi>H</mi><mn>0</mn><mn>1</mn></msubsup><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{u}\in H_0^1{(\Omega)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathbf">u</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen">(</span><span class="mord">Ω</span><span class="mclose">)</span></span></span></span></span>之类的条件。文中还直接使用了Laplace算子的负定性，即</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mi mathvariant="bold">u</mi><mo separator="true">,</mo><mi mathvariant="bold">u</mi><mo stretchy="false">)</mo><mo>≤</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">(\Delta \mathbf{u},\mathbf{u})\le0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">Δ</span><span class="mord"><span class="mord mathbf">u</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf">u</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span></p><p>这样就能证明时间离散空间连续的情况是无条件稳定的。</p><h2 id="全离散"><a class="markdownIt-Anchor" href="#全离散"></a> 全离散</h2><p>下面是可以用投影法求解的全离散格式</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mfrac><mrow><msup><mi mathvariant="bold">u</mi><mo>∗</mo></msup><mo>−</mo><msup><mi mathvariant="bold">u</mi><mi>n</mi></msup></mrow><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mi>v</mi><mn>2</mn></mfrac><msup><mi mathvariant="normal">Δ</mi><mi>h</mi></msup><msup><mi mathvariant="bold">u</mi><mo>∗</mo></msup><mo>+</mo><mi mathvariant="bold">f</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi mathvariant="normal">Δ</mi><mi>h</mi></msup><mi>ϕ</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><msup><mi mathvariant="normal">∇</mi><mi>h</mi></msup><mo>⋅</mo><msup><mi mathvariant="bold">u</mi><mo>∗</mo></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>=</mo><msup><mi mathvariant="bold">u</mi><mo>∗</mo></msup><mo>−</mo><mi mathvariant="normal">Δ</mi><mi>t</mi><msup><mi mathvariant="normal">∇</mi><mi>h</mi></msup><mi>ϕ</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}&amp;\frac{\mathbf{u}^*-\mathbf{u}^n}{\Delta t}=\frac{v}{2} \Delta^h\mathbf{u}^* +\mathbf{f}\\&amp;\Delta^h \phi=\frac{1}{\Delta t} \nabla^h \cdot \mathbf{u}^* \\&amp;\mathbf{u}^{n+1}=\mathbf{u}^*-\Delta t \nabla^h \phi\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.218244em;vertical-align:-2.859122em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.359122em;"><span style="top:-5.359122em;"><span class="pstrut" style="height:3.365696em;"></span><span class="mord"></span></span><span style="top:-3.051682em;"><span class="pstrut" style="height:3.365696em;"></span><span class="mord"></span></span><span style="top:-1.1665739999999998em;"><span class="pstrut" style="height:3.365696em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.859122em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.359122em;"><span style="top:-5.359122em;"><span class="pstrut" style="height:3.365696em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.365696em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.10903em;">f</span></span></span></span><span style="top:-3.051682em;"><span class="pstrut" style="height:3.365696em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span><span style="top:-1.1665739999999998em;"><span class="pstrut" style="height:3.365696em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">Δ</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mord mathnormal">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.859122em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>为了证明我们的数值格式是无条件稳定的，在空间离散后，第一个条件就是要求算子<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">\Delta_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和算子<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">∇</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">\nabla_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>满足可交换性，即</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>h</mi></msub><msub><mi mathvariant="normal">∇</mi><mi>h</mi></msub><mi>ϕ</mi><mo>=</mo><msub><mi mathvariant="normal">∇</mi><mi>h</mi></msub><msub><mi mathvariant="normal">Δ</mi><mi>h</mi></msub><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\Delta_h\nabla_h\phi=\nabla_h\Delta_h\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">ϕ</span></span></span></span></span></p><p>这就要求</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>h</mi></msub><mo>=</mo><msub><mi mathvariant="normal">∇</mi><mi>h</mi></msub><mo>⋅</mo><msub><mi mathvariant="normal">∇</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">\Delta_h=\nabla_h\cdot\nabla_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">∇</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其次，我们还要求边界条件满足适当要求，使得离散的无散度场和离散的梯度场是正交的，最后还用到了离散Laplace算子的负定性。</p><h2 id="对流项"><a class="markdownIt-Anchor" href="#对流项"></a> 对流项</h2><p>对流项使用半隐格式就可以了。</p><h2 id="投影方法中对流项对稳定性的影响"><a class="markdownIt-Anchor" href="#投影方法中对流项对稳定性的影响"></a> 投影方法中对流项对稳定性的影响</h2><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><mi mathvariant="bold">u</mi><mo>⋅</mo><mi mathvariant="normal">∇</mi><mi mathvariant="bold">v</mi><mo>⋅</mo><mi mathvariant="bold">w</mi><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mo lspace="0em" rspace="0em">=</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>d</mi></munderover><msub><mi>u</mi><mi>i</mi></msub><msub><mi mathvariant="normal">∂</mi><mi>i</mi></msub><msub><mi>v</mi><mi>j</mi></msub><msub><mi>w</mi><mi>j</mi></msub><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mo lspace="0em" rspace="0em">=</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>d</mi></munderover><msub><mi mathvariant="normal">∂</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><msub><mi>v</mi><mi>j</mi></msub><msub><mi>w</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi><mo>−</mo><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>d</mi></munderover><msub><mi mathvariant="normal">∂</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><msub><mi>w</mi><mi>j</mi></msub><mo stretchy="false">)</mo><msub><mi>v</mi><mi>j</mi></msub><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mo lspace="0em" rspace="0em">=</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>d</mi></munderover><msub><mi mathvariant="normal">∂</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>u</mi><mi>i</mi></msub><msub><mi>v</mi><mi>j</mi></msub><msub><mi>w</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi><mo>−</mo><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>d</mi></munderover><msub><mi mathvariant="normal">∂</mi><mi>i</mi></msub><msub><mi>u</mi><mi>i</mi></msub><msub><mi>w</mi><mi>j</mi></msub><msub><mi>v</mi><mi>j</mi></msub><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi><mo>−</mo><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>d</mi></munderover><msub><mi mathvariant="normal">∂</mi><mi>i</mi></msub><msub><mi>w</mi><mi>j</mi></msub><msub><mi>u</mi><mi>i</mi></msub><msub><mi>v</mi><mi>j</mi></msub><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}&amp;\int_{\Omega}\mathbf{u}\cdot\nabla\mathbf{v}\cdot\mathbf{w}\;\mathrm{d}\mathbf{x}\\=&amp;\int_{\Omega}\sum_{i,j}^d u_i\partial_iv_jw_j\;\mathrm{d}\mathbf{x}\\=&amp;\int_{\Omega}\sum_{i,j}^d \partial_i (u_iv_jw_j)\;\mathrm{d}\mathbf{x}-\int_{\Omega}\sum_{i,j}^d \partial_i (u_iw_j)v_j\;\mathrm{d}\mathbf{x}\\=&amp;\int_{\Omega}\sum_{i,j}^d \partial_i (u_iv_jw_j)\;\mathrm{d}\mathbf{x}-\int_{\Omega}\sum_{i,j}^d \partial_i u_iw_jv_j\;\mathrm{d}\mathbf{x}-\int_{\Omega}\sum_{i,j}^d \partial_i w_ju_iv_j\;\mathrm{d}\mathbf{x}\end{aligned}\tag{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:13.221620000000003em;vertical-align:-6.360810000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.860810000000002em;"><span style="top:-9.336923000000002em;"><span class="pstrut" style="height:3.8361130000000006em;"></span><span class="mord"></span></span><span style="top:-6.2888600000000014em;"><span class="pstrut" style="height:3.8361130000000006em;"></span><span class="mord"><span class="mrel">=</span></span></span><span style="top:-2.73897em;"><span class="pstrut" style="height:3.8361130000000006em;"></span><span class="mord"><span class="mrel">=</span></span></span><span style="top:0.8109200000000012em;"><span class="pstrut" style="height:3.8361130000000006em;"></span><span class="mord"><span class="mrel">=</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.360810000000002em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.860810000000002em;"><span style="top:-9.336923000000002em;"><span class="pstrut" style="height:3.8361130000000006em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf">u</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">∇</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span></span></span><span style="top:-6.2888600000000014em;"><span class="pstrut" style="height:3.8361130000000006em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span></span></span><span style="top:-2.73897em;"><span class="pstrut" style="height:3.8361130000000006em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span></span></span><span style="top:0.8109200000000012em;"><span class="pstrut" style="height:3.8361130000000006em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.360810000000002em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:13.221620000000003em;vertical-align:-6.360810000000002em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p>在用能量放法分析投影方法时，中间会出现一项</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>⋅</mo><mi mathvariant="normal">∇</mi><msub><mi mathvariant="bold">u</mi><mo>∗</mo></msub><mo>⋅</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\int_{\Omega}\mathbf{u}_n\cdot\nabla\mathbf{u}_*\cdot\mathbf{u}_{n+1}\;\mathrm{d}\mathbf{x}\tag{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.27195em;vertical-align:-0.9119499999999999em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span></span><span class="tag"><span class="strut" style="height:2.27195em;vertical-align:-0.9119499999999999em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∇</mi><mo>⋅</mo><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\nabla\cdot\mathbf{u}_n=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">∇</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.59444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∇</mi><mo>⋅</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\nabla\cdot\mathbf{u}_{n+1}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">∇</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi mathvariant="bold">u</mi><mo lspace="0em" rspace="0em">∗</mo></msub></mrow><annotation encoding="application/x-tex">\mathbf{u}_{n+1}=\mathbf{u}_{*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.652771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.59444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。适当假设边界条件，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">u</mi><msub><mi mathvariant="normal">∣</mi><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">Ω</mi></mrow></msub><mo>=</mo><mn mathvariant="bold">0</mn></mrow><annotation encoding="application/x-tex">\mathbf{u}|_{\partial\Omega}=\mathbf{0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">u</span></span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">0</span></span></span></span></span>或者<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="bold">u</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="bold">n</mi></mrow></mfrac><msub><mi mathvariant="normal">∣</mi><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">Ω</mi></mrow></msub><mo>=</mo><mn mathvariant="bold">0</mn></mrow><annotation encoding="application/x-tex">\frac{\partial \mathbf{u}}{\partial \mathbf{n}}|_{\partial\Omega}=\mathbf{0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathbf mtight">n</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathbf mtight">u</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">0</span></span></span></span></span>。根据(1)的推导，可以得出</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>⋅</mo><mi mathvariant="normal">∇</mi><msub><mi mathvariant="bold">u</mi><mo>∗</mo></msub><mo>⋅</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi><mo>+</mo><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>⋅</mo><mi mathvariant="normal">∇</mi><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>⋅</mo><msub><mi mathvariant="bold">u</mi><mo lspace="0em" rspace="0em">∗</mo></msub><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi><mo>=</mo><mn>0</mn></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\int_{\Omega}\mathbf{u}_n\cdot\nabla\mathbf{u}_*\cdot\mathbf{u}_{n+1}\;\mathrm{d}\mathbf{x}+\int_{\Omega}\mathbf{u}_n\cdot\nabla\mathbf{u}_{n+1}\cdot\mathbf{u}_{*}\;\mathrm{d}\mathbf{x}=0\tag{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.27195em;vertical-align:-0.9119499999999999em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.27195em;vertical-align:-0.9119499999999999em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span><span class="tag"><span class="strut" style="height:2.27195em;vertical-align:-0.9119499999999999em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">3</span></span><span class="mord">)</span></span></span></span></span></span></p><p>进而得出</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><msub><mi mathvariant="bold">u</mi><mi>n</mi></msub><mo>⋅</mo><mi mathvariant="normal">∇</mi><mo stretchy="false">(</mo><msub><mi mathvariant="bold">u</mi><mo>∗</mo></msub><mo>⋅</mo><msub><mi mathvariant="bold">u</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi><mo>=</mo><mn>0</mn></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\int_{\Omega}\mathbf{u}_{n}\cdot\nabla (\mathbf{u}_*\cdot \mathbf{u}_{n+1})\;\mathrm{d}\mathbf{x}=0\tag{4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.27195em;vertical-align:-0.9119499999999999em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∇</span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span><span class="tag"><span class="strut" style="height:2.27195em;vertical-align:-0.9119499999999999em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">4</span></span><span class="mord">)</span></span></span></span></span></span></p><p>其实得出这个也没用。必须是后两项相等的情况下才能得出:</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mo>∫</mo><mi mathvariant="normal">Ω</mi></msub><mi mathvariant="bold">u</mi><mo>⋅</mo><mi mathvariant="normal">∇</mi><mi mathvariant="bold">v</mi><mo>⋅</mo><mi mathvariant="bold">v</mi><mtext>  </mtext><mi mathvariant="normal">d</mi><mi mathvariant="bold">x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\int_{\Omega}\mathbf{u}\cdot\nabla\mathbf{v}\cdot\mathbf{v}\;\mathrm{d}\mathbf{x}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.27195em;vertical-align:-0.9119499999999999em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.433619em;"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Ω</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf">u</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">∇</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">v</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathrm">d</span></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span></p></div></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;    长期以来，在网上一直能看到这样的论断：因为有限元方法不能使用迎风格式，所以求解CFD问题时会遇到稳定性问题。对此我很困惑，我困惑的是他们为什么要纠结显格式的稳定性问题，用隐格式或半隐格式就是无条件稳定的呀。例如下面这个数值格式&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi mathvariant=&quot;bold-italic&quot;&gt;u&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;−&lt;/mo&gt;&lt;msup&gt;&lt;mi mathvariant=&quot;bold-italic&quot;&gt;u&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;Δ&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msup&gt;&lt;mi mathvariant=&quot;bold-italic&quot;&gt;u&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;⋅&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;∇&lt;/mi&gt;&lt;msup&gt;&lt;mi mathvariant=&quot;bold-italic&quot;&gt;u&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&quot;bold-italic&quot;&gt;f&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\frac{\boldsymbol{u}^{n+1}-\boldsymbol{u}^n}{\Delta t}+\boldsymbol{u}^{n+1}\cdot\nabla\boldsymbol{u}^{n}=\boldsymbol{f},
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:2.177108em;vertical-align:-0.686em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.491108em;&quot;&gt;&lt;span style=&quot;top:-2.314em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;Δ&lt;/span&gt;&lt;span class=&quot;mord mathnormal&quot;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.677em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord boldsymbol&quot;&gt;u&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8141079999999999em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;−&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord boldsymbol&quot;&gt;u&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.664392em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.686em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.864108em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord boldsymbol&quot;&gt;u&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.864108em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mbin mtight&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;⋅&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7143919999999999em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;∇&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord boldsymbol&quot;&gt;u&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.7143919999999999em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mathnormal mtight&quot;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord boldsymbol&quot; style=&quot;margin-right:0.11042em;&quot;&gt;f&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>多重网格方法求解不可压流体</title>
    <link href="https://blog.pengfeima.cn/posts/3240/"/>
    <id>https://blog.pengfeima.cn/posts/3240/</id>
    <published>2022-11-24T15:20:24.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><blockquote><p>翻译自 A parallel multigrid Poisson solver for fluids simulation on large grids</p></blockquote><h2 id="1-前言"><a class="markdownIt-Anchor" href="#1-前言"></a> 1. 前言</h2><p>略</p><h3 id="我们主要的贡献"><a class="markdownIt-Anchor" href="#我们主要的贡献"></a> 我们主要的贡献</h3><p>在[[自由表面流]]模拟中，混合了任意Dirichlet边界和Neumann边界的非规则[[体素化区域]]很常见，我们给出了处理这种问题的通用方法。之前有文章提出矩形区域上的几何多重网格方法[TO94, AF96, BWRB05, BWKS06, KH08]，也有文章提出非规则Neumann边界条件的处理(通过投影方法)[MCPN08]，但是没有将问题推广到一般情况。</p><p>我们使用了纯几何的、无矩阵的格式，并且收敛率能保持在常数的，与边界、几何无关。[BWRB05]提出了一种轻量的、无矩阵的几何多重网格方法应用于均匀的矩形区域的求解，然而将它推广到体素化区域很困难。[HMBVR05]在离散边界时嵌入了切割单元，导致体素化Poisson方程的离散不收敛，因为边界处出现了不稳定现象(啥不稳定?)。据[CLB09]所说， 即使使用高阶嵌入也不能得到常数收敛率，他们在嵌入[[背景格子]]的表面网格上求解Poisson方程时，注意到当[[格子]]不能解析网格时，收敛率会退化。由于找到收敛的几何解很困难[CFL07,CGR04,PM04]，很多人选择使用更加通用的代数多重网格方法，但是代数多重网格方法的初始化很耗费资源，并行化困难[TOS01]。</p><p>相较于广泛使用的ICPCG(incomplete Cholesky preconditioned conjugate gradient)求解器，我们的方法占用的内存少，收敛效果更好，并且更容易并行化。不像ICPCG，我们的方法不用显式存储预处理矩阵，能够在16GB内存中处理<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>76</mn><msup><mn>8</mn><mn>2</mn></msup><mo>×</mo><mn>1152</mn></mrow><annotation encoding="application/x-tex">768^2\times 1152</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">7</span><span class="mord">6</span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">5</span><span class="mord">2</span></span></span></span>个体素。ICPCG需要稀疏回代过程(sparse backsubstition)，为了让这过程能够并行化，算法上需要做很多调整，而我们提出的方法不存在这个问题。最后，在中等规模的问题上，我们的求解器的速度相对于ICPCG有大幅提升，并且收敛率与网格大小无关，因此随着问题规模增加，我们的优势会更加明显。对于分辨率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><msup><mn>8</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">128^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>的问题，我们可以在0.75秒内使残差下降<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">10^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>，对于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>76</mn><msup><mn>8</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">768^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">7</span><span class="mord">6</span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>的问题则只需大约一分钟。</p><h2 id="2-相关工作"><a class="markdownIt-Anchor" href="#2-相关工作"></a> 2. 相关工作</h2><p>多重网格方法的效率非常高，它在图形学中的应用非常多，包括图像处理[KH08, BWKS06, RC03], 烟雾模拟[MCPN08]，网格变形[SYBF06], 薄壳模拟 [GTS02], 布料模拟 [ONW08], 流体模拟 [CFL∗07, CTG10], 几何处理 [NGH04], 固体形变模拟 [OGRG07], 渲染 [Sta95, HMBVR05], 并已有效地移植到GPU [BFGS03, GWL∗03, GSMY∗08]。该领域大量工作聚焦于矩形区域的求解或者结合代数多重网格方法在非规则区域的求解，我们给出一些涉及了非规则区域和几何多重网格的工作。[HMBVR05]和[CLB∗09]将非规则区域嵌入规则的格子中，给出了非规则模板(用于迭代的模板？)。[RC03, ONW08]使用了从粗到细的几何网格层次，保证了不同网格层之间的网格能够对齐，但是这些方法要求网格在粗网格层能够完全解析(细网格由粗网格决定)， 因此这种方法无法解析精细的流体特征[SAB∗99]将多重网格作为CG方法的预处理器使用，而不是独立的求解器，这样能缓解一些算例中出现的不稳定现象。 多重网格方法作为预处理器求解Poisson方程可以参考论文 [Tat93] 它的并行化可参考 [TO94] 以及 [AF96]。[KH08] 引入了高阶并行多重网格求解器处理大型矩形图像。</p><h2 id="3-方法概览"><a class="markdownIt-Anchor" href="#3-方法概览"></a> 3. 方法概览</h2><p>我们要求解的是Poisson方程，见式(1)。</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.24999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">Δ</mi><mi>p</mi><mo>=</mo><mi>f</mi><mtext> in </mtext><mi mathvariant="normal">Ω</mi><mo>⊂</mo><msup><mi mathvariant="bold">R</mi><mn>3</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>p</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>α</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mtext> on </mtext><msub><mi mathvariant="normal">Γ</mi><mi>D</mi></msub><mo separator="true">,</mo><mspace width="1em"/><msub><mi>p</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>β</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mtext> on </mtext><msub><mi mathvariant="normal">Γ</mi><mi>N</mi></msub></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{gathered}\Delta p=f \text { in } \Omega \subset \mathbf{R}^3 \\p(\mathbf{x})=\alpha(\mathbf{x}) \text { on } \Gamma_D, \quad p_n(\mathbf{x})=\beta(\mathbf{x}) \text { on } \Gamma_N\end{gathered} \tag{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.024108em;vertical-align:-1.262054em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.762054em;"><span style="top:-3.897946em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord text"><span class="mord"> in </span></span><span class="mord">Ω</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span><span style="top:-2.397946em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mclose">)</span><span class="mord text"><span class="mord"> on </span></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mclose">)</span><span class="mord text"><span class="mord"> on </span></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.262054em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:3.024108em;vertical-align:-1.262054em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p>区域边界 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">Ω</mi><mo>=</mo><msub><mi mathvariant="normal">Γ</mi><mi>D</mi></msub><mo>∩</mo><msub><mi mathvariant="normal">Γ</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\partial \Omega=\Gamma_D \cap \Gamma_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord">Ω</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 被分成两个不相交的子集 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Γ</mi><mi>D</mi></msub></mrow><annotation encoding="application/x-tex">\Gamma_D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Γ</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\Gamma_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ，分别施加<br />Dirichlet边界条件和Neumann边界条件。对于流体模拟， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span> 对应物体或液体，Dirichlet边界条件施加在空气和水的界面上，Neumann边界条件施加在流体和浸没固体(或容器内壁)的边界。不失一般性，我们假设Neumann边界条件为零 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>β</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\beta(\mathbf{x})=0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span> ，因为非零边界条件可以通过修改右端项实现。</p><blockquote><p>注：这其实很好理解，速度为Dirichlet边界的时候，压强为Neumann边界。</p></blockquote><p><img src="https://githubimages.pengfeima.cn/images/202211250848864.png" alt="image-20221125084844500" /></p><p><img src="https://githubimages.pengfeima.cn/images/202211250852187.png" alt="image-20221125085225087" /></p><h3 id="31-离散"><a class="markdownIt-Anchor" href="#31-离散"></a> 3.1 离散</h3><p>我们将Poisson方程在均匀的笛卡尔网格上离散，将未知的压强变量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">p_{ijk}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 存储在单元格的中心。在我们的方法中，计算区域和边界区域的精度由背景网格决定。具体来说，计算区域以一系列网格单元(或体素)来表示，我们称它们是内部单元(图一右中的灰色单元)。我们将边界单元也体素化，将Dirichlet边界条件定义在一个体素化区域，而不是将它施加在边界 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\partial \Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord">Ω</span></span></span></span> 上。我们称之为Dirichlet单元(图一右中的红色单元)。类似地，我们可以通过栅格化固体和容器内壁定义Neumann单元(图一右中的蓝色单元)。</p><p>因为压强定义在单元中心，Neumann边界条件可以很自然地施加在内部单元和Neumann单元的分界面上，我们在第四节中会给出简单实现。我们假设我们的计算区域周围一直都有Neumann单元作为“ghost”层，如图一所示。这样的假设不是一般性，因为对于Dirichlet边界，我们再加一层额外的Neumann单元也不影响<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span>中的结果。对每一个内部单元，我们构造出如下Poisson方程的离散格式：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.24999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><munder><mo>∑</mo><mrow><mrow><mo fence="true">(</mo><msup><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>j</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>k</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo fence="true">)</mo></mrow><mo>∈</mo><msubsup><mi mathvariant="script">N</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow><mo>∗</mo></msubsup></mrow></munder><mfrac><mrow><msub><mi>p</mi><mrow><msup><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><msup><mi>j</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><msup><mi>k</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow></msub><mo>−</mo><msub><mi>p</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub></mrow><msup><mi>h</mi><mn>2</mn></msup></mfrac><mo>=</mo><msub><mi>f</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi mathvariant="script">N</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>i</mi><mo>±</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>±</mo><mn>1</mn><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mi>k</mi><mo>±</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msubsup><mi mathvariant="script">N</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow><mo>∗</mo></msubsup><mo>=</mo><mrow><mo fence="true">{</mo><mrow><mo fence="true">(</mo><msup><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>j</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>k</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo fence="true">)</mo></mrow><mo>∈</mo><msub><mi mathvariant="script">N</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub><mo>:</mo><mi mathvariant="normal">cell</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><msup><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>j</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>k</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo fence="true">)</mo></mrow><mtext> is not Neumann </mtext><mo fence="true">}</mo></mrow></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{gathered}\sum_{\left(i^{\prime}, j^{\prime}, k^{\prime}\right) \in \mathcal{N}_{i j k}^*} \frac{p_{i^{\prime} j^{\prime} k^{\prime}}-p_{i j k}}{h^2}=f_{i j k} \\\mathcal{N}_{i j k}=\{(i \pm 1, j, k),(i, j \pm 1, k),(i, j, k \pm 1)\} \\\mathcal{N}_{i j k}^*=\left\{\left(i^{\prime}, j^{\prime}, k^{\prime}\right) \in \mathcal{N}_{i j k}: \operatorname{cell}\left(i^{\prime}, j^{\prime}, k^{\prime}\right) \text { is not Neumann }\right\}\end{gathered}\tag{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.264723em;vertical-align:-2.8823615em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.3823615em;"><span style="top:-5.3823615em;"><span class="pstrut" style="height:3.2603299999999997em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.808995em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">(</span></span><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">)</span></span></span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.14736em;">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6771428571428573em;"><span style="top:-2.1527714285714286em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-2.8448em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.48611428571428567em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.681285em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.26033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.5610764999999995em;"><span class="pstrut" style="height:3.2603299999999997em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14736em;">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">±</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">±</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">±</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mclose">}</span></span></span><span style="top:-1.0610764999999998em;"><span class="pstrut" style="height:3.2603299999999997em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14736em;">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.383108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14736em;">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mord mathrm">c</span><span class="mord mathrm">e</span><span class="mord mathrm">l</span><span class="mord mathrm">l</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord"> is not Neumann </span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.8823615em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:6.264723em;vertical-align:-2.8823615em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></p><p>在这个定义中， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">N</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{N}_{i j k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14736em;">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 表示和内部单元 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i,j,k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> 有共同表面的六个邻接单元的集合， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">N</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow><mo>∗</mo></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{N}_{i j k}^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1079119999999998em;vertical-align:-0.4192159999999999em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14736em;">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.4168920000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4192159999999999em;"><span></span></span></span></span></span></span></span></span></span> 是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">N</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{N}_{i j k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.14736em;">N</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 的子集，排除了任意Neumann单元。 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">h</span></span></span></span> 表示网格步长。方程 (2) 是从标准的七点有限差分方法修改得到的，用零Neumann边界条件 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><msub><mi>p</mi><mrow><msup><mi>i</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><msup><mi>j</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><msup><mi>k</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow></msub><mo>−</mo><msub><mi>p</mi><mrow><mi>i</mi><mi>j</mi><mi>k</mi></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">/</mi><mi>h</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\left(p_{i^{\prime} j^{\prime} k^{\prime}}-p_{i j k}\right) / h=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">/</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>保证Neumann边界上的压强为零。在内部单元上，是标准的七点有限差分方法。这个公式和[FM96,FF01]中的公式是一样的。</p><h3 id="32-多重网格迭代"><a class="markdownIt-Anchor" href="#32-多重网格迭代"></a> 3.2 多重网格迭代</h3><p>我们介绍用几何多重网格方法求解式(2)定义的Poisson问题。我们的方法使用了V-Cycle作为多重网格校正格式[TOS01]，Algorithm 1给出了每一次V-Cycle迭代的伪代码。</p><p>V-Cycle 过程需要将Poisson在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">L+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>层网格上离散，将这些网格记为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">L</mi><mrow><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></msup><mo separator="true">,</mo><msup><mi mathvariant="script">L</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msup><mi mathvariant="script">L</mi><mrow><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\mathcal{L}^{(0)}, \mathcal{L}^{(1)}, \ldots, \mathcal{L}^{(L)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0824399999999998em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">L</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>，其中 0 层网格是最细的网格，L层网格是最粗的网格。我们也定义了每一层网格的光滑子和不同网格层之间的限制/插值算子。</p><p><img src="https://githubimages.pengfeima.cn/images/202211251504398.png" alt="image-20221125150439242" /></p><p>我们的方法是纯几何的，我们构造出每一层网格的像素化描述，将单元分类为内部单元、Dirichlet单元、Neumann单元。根据像素化表示构造出离散的Poisson算子<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">L</mi></mrow><annotation encoding="application/x-tex">\mathcal{L}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal">L</span></span></span></span></span>。每一层网格的粗化采用8-1的模板，生成网格间距为原网格两倍的粗网格。我们的层次结构很深：最粗的网格层通常是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>×</mo><mn>8</mn><mo>×</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">8 \times 8\times 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span>。这样的粗化方法能够保证粗网格边界始终与细网格一致(见图2)。</p><p>如果一个粗网格单元粗化前的八个细网格单元中的任何一个是Dirichlet单元，那么它将被标记为Dirichlet单元。如果八个细网格单元中没有一个是Dirichlet单元，但至少有一个是内部单元，那么粗网格单元将被标记为内部单元。其他情况，则将粗网格单元标记为Neumann单元。</p><p>如图2所示，当粗网格不能精确解析细网格的特征时，这种粗化策略会导致细网格和粗网格之间存在显著差异，甚至会改变区域的拓扑结构，例如Neumann气泡会被吸收进内部区域，薄层状的内部区域会被吸收进Dirichlet区域。我们待会儿介绍这些差异会造成的影响。</p><p>限制算子通过张量积木板构造， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">R</mi><mo>=</mo><mi mathvariant="script">B</mi><mo>⊗</mo><mi mathvariant="script">B</mi><mo>⊗</mo><mi mathvariant="script">B</mi></mrow><annotation encoding="application/x-tex">\mathcal{R}=\mathcal{B} \otimes \mathcal{B} \otimes \mathcal{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal">R</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span></span></span></span> ，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">B</mi></mrow><annotation encoding="application/x-tex">\mathcal{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span></span></span></span> 是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">D</mi></mrow><annotation encoding="application/x-tex">1 \mathrm{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord mathrm">D</span></span></span></span></span> 模板，由4节点构成：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mo fence="true">(</mo><mi mathvariant="script">B</mi><msup><mi mathvariant="bold">u</mi><mi>h</mi></msup><mo fence="true">)</mo></mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mfrac><mn>1</mn><mn>8</mn></mfrac><msup><mi>u</mi><mi>h</mi></msup><mrow><mo fence="true">(</mo><mi>x</mi><mo>−</mo><mfrac><mrow><mn>3</mn><mi>h</mi></mrow><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mfrac><mn>3</mn><mn>8</mn></mfrac><msup><mi>u</mi><mi>h</mi></msup><mrow><mo fence="true">(</mo><mi>x</mi><mo>−</mo><mfrac><mi>h</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>+</mo><mfrac><mn>3</mn><mn>8</mn></mfrac><msup><mi>u</mi><mi>h</mi></msup><mrow><mo fence="true">(</mo><mi>x</mi><mo>+</mo><mfrac><mi>h</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mfrac><mn>1</mn><mn>8</mn></mfrac><msup><mi>u</mi><mi>h</mi></msup><mrow><mo fence="true">(</mo><mi>x</mi><mo>+</mo><mfrac><mrow><mn>3</mn><mi>h</mi></mrow><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><msup><mi>u</mi><mrow><mn>2</mn><mi>h</mi></mrow></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\left(\mathcal{B} \mathbf{u}^h\right)(x)=&amp; \frac{1}{8} u^h\left(x-\frac{3 h}{2}\right)+\frac{3}{8} u^h\left(x-\frac{h}{2}\right)+\\&amp;+\frac{3}{8} u^h\left(x+\frac{h}{2}\right)+\frac{1}{8} u^h\left(x+\frac{3 h}{2}\right)=u^{2 h}(x)\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.40006em;vertical-align:-2.45003em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95003em;"><span style="top:-4.95003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span><span class="mord"><span class="mord"><span class="mord mathbf">u</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.45003em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95003em;"><span style="top:-4.95003em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord mathnormal">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span></span></span><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord mathnormal">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.45003em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>图三左给出了该张量积木板的2D形式，由16个节点构成。因为我们的变量位于单元格中心，因此粗网格上的变量和细网格上的变量不会有位置重合的。</p><p>延拓算子通过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="script">P</mi><mi>I</mi></msup><mo>=</mo><mn>8</mn><mi mathvariant="script">B</mi><mo>⊗</mo><mi mathvariant="script">B</mi><mo>⊗</mo><mi mathvariant="script">B</mi></mrow><annotation encoding="application/x-tex">\mathcal{P}^I=8 \mathcal{B} \otimes \mathcal{B} \otimes \mathcal{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.08222em;">P</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span></span></span></span> 定义，换句话说，就是转置、缩放后的限制算子我们可以验证这个延拓算子是一个三线性插值算子。只有当限制算子或插值算子的输出结果位于内部单元上时，我们才使用它们。当限制算子或插值算子的输入不位于内部单元时，我们用零值代替。</p><p>我们使用系数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo>=</mo><mn>2</mn><mi mathvariant="normal">/</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">w=2/3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord">/</span><span class="mord">3</span></span></span></span>的加权Jacobi迭代，用它求解Poisson方程是稳定的，并且在并行效率上比Gauss-Seidel方法好。对于具有混合边界条件和不规则几何区域的问题，通常要在计算区域边界附近执行额外的迭代计算。我们将距离Dirichlet单元或Neumann单元三个单元以内的内部单元记为边界区域，如图三右的黑色阴影区域所示。总之，我们在边界区域进行一些额外的Gauss-Seidel迭代，在整个区域进行加权Jacobi迭代。具体来说，我们一开始会在边界区域进行数次Gauss-Seidel迭代，然后再在整个区域进行加权Jacobi迭代，最后再在边界进行额外的Gauss-Seidel迭代。</p><h3 id="33-多重网格预处理共轭梯度"><a class="markdownIt-Anchor" href="#33-多重网格预处理共轭梯度"></a> 3.3 多重网格预处理共轭梯度</h3><h2 id="4-实现与优化"><a class="markdownIt-Anchor" href="#4-实现与优化"></a> 4. 实现与优化</h2><h2 id="5-算例"><a class="markdownIt-Anchor" href="#5-算例"></a> 5. 算例</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="未完成" scheme="https://blog.pengfeima.cn/tags/%E6%9C%AA%E5%AE%8C%E6%88%90/"/>
    
  </entry>
  
  <entry>
    <title>图床</title>
    <link href="https://blog.pengfeima.cn/posts/27346/"/>
    <id>https://blog.pengfeima.cn/posts/27346/</id>
    <published>2022-11-23T05:16:21.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>如果有人告诉你，谁家提供的图床服务速度快，稳定可靠，价格便宜，那一定是骗人的。我不会使用微博，因为他本来就不提供图床服务，后面图片访问不了了，求谁都没用。我也不会使用私人搭建的图床服务，提供类似服务的人一般都很善良，但是抵挡不住太多变数。我偏向于选择那些已经成立多年了的云服务商，虽然他们也会卷钱跑路，那种情况只能自认倒霉了。</p><p>图床需要云存储搭配CDN加速使用，个人感觉比较好的方案是GitHub仓库搭配又拍云CDN加速。</p><span id="more"></span><p>存储：</p><ol><li>GitHub(首选)</li><li>七牛云</li><li>又拍云<br />CDN加速：</li><li>Cloudflare</li><li>七牛云</li><li>又拍云(首选)</li></ol><h2 id="github图床"><a class="markdownIt-Anchor" href="#github图床"></a> GitHub图床</h2><p>GitHub仓库中的资源可以通过域名<code>raw.githubusercontent.com</code>访问，但在国内访问此地址速度极慢。有四种方式可以访问GitHub图床。<img src="https://githubimages.pengfeima.cn/images/202212182318901.png" alt="image-20221218231806704" /></p><h2 id="1-github-pages-leftarrow-cdn-leftarrow-自定义域名"><a class="markdownIt-Anchor" href="#1-github-pages-leftarrow-cdn-leftarrow-自定义域名"></a> 1. GitHub Pages <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">←</span></span></span></span> CDN <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">←</span></span></span></span> 自定义域名</h2><p>    使用 GitHub 提供的 GitHub Pages 服务，将仓库发布为静态网站，添加自定义域名，通过自定义域名加速。静态网站中的资源可以通过 <code>[username].github.io/[path]/[filename]</code> 获取，添加自定义域名后可以通过自定义域名 <code>[subdomain].[domain].com/[path]/[filename]</code> 获取。对域名 <code>[subdomain].[domain].com</code> 进行 CDN加速便能在国内快速访问这些资源。GitHub Pages 对仓库大小的限制为1G，但是我们可以创建多个仓库，每个仓库绑定新的子域名。GitHub仓库和子域名是一一对应的，未来将图床迁移出GitHub也非常方便。</p><p>在个人设置中添加自定义域名</p><p><img src="https://githubimages.pengfeima.cn/images/202211231544344.png" alt="image-20221123154404250" /></p><p>新建仓库后，在仓库设置中开启Pages功能，并设置自定义域名</p><p><img src="https://githubimages.pengfeima.cn/images/202211231304598.png" alt="" /></p><p>在PicGo中设置自定义域名</p><p><img src="https://githubimages.pengfeima.cn/images/202211231311540.png" alt="" /></p><p>最后在又拍云中加速这个自定义域名</p><h3 id="2-vercel-leftarrow-cdn-leftarrow-自定义域名"><a class="markdownIt-Anchor" href="#2-vercel-leftarrow-cdn-leftarrow-自定义域名"></a> 2. Vercel <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">←</span></span></span></span> CDN <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">←</span></span></span></span> 自定义域名</h3><p>通过 Vercel 反向代理加速 GitHub 仓库中的文件(部署参考：<a href="https://blog.csdn.net/qq_39010320/article/details/119923538">https://blog.csdn.net/qq_39010320/article/details/119923538</a> )。部署完成后，原 GitHub 仓库中的文件路径为：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://raw.githubusercontent.com/shaoyaoqian/images-1/main/images/202211170920796.png</span><br><span class="line">https://raw.githubusercontent.com/&#123;owner&#125;/&#123;repository&#125;/&#123;branch&#125;/&#123;path&#125;/&#123;filename&#125;</span><br></pre></td></tr></table></figure><p>可以通过 Vercel 反向代理的地址访问。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://images-1.vercel.app/images/202211170920796.png</span><br><span class="line">https://images-1.vercel.app/&#123;path&#125;/&#123;filename&#125;</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;routes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span><span class="attr">&quot;src&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/(.*)&quot;</span><span class="punctuation">,</span><span class="attr">&quot;dest&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://raw.githubusercontent.com/shaoyaoqian/images-1/main/$1&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="自定义域名"><a class="markdownIt-Anchor" href="#自定义域名"></a> 自定义域名</h4><ol><li><p>在 Vercel 中设置</p><p><img src="https://githubimages.pengfeima.cn/images/202212182336129.png" alt="image-20221218233621007" /></p></li><li><p>在 Cloudflare 中设置</p><p><img src="https://githubimages.pengfeima.cn/images/202212182337731.png" alt="image-20221218233718656" /></p></li></ol><h2 id="自建图床"><a class="markdownIt-Anchor" href="#自建图床"></a> 自建图床</h2><p><img src="https://githubimages.pengfeima.cn/images/202212182325064.png" alt="image-20221218232504925" /></p><h2 id="这算不算滥用"><a class="markdownIt-Anchor" href="#这算不算滥用"></a> 这算不算滥用？</h2><p>这个网站主要使用了GitHub提供的服务，因此我研究了一下他们的服务条款。</p><p><a href="https://docs.github.com/cn/site-policy/github-terms/github-terms-for-additional-products-and-features">https://docs.github.com/cn/site-policy/github-terms/github-terms-for-additional-products-and-features</a></p><p>这里说了，不要将GitHub Action拿来提供CDN服务和无服务器云计算服务，这会给GitHub服务器带来很大负担。但GitHub没有禁止这种行为，因为后面又说了，如果这些行为不会给他们服务器带来很大负担，那你用一用也没事。我们用GitHub Action编译Hexo网站当然不算CDN服务和无服务器云计算服务。</p><p><img src="https://githubimages.pengfeima.cn/images/202211211625795.png" alt="image-20221121162522531" /></p><p><a href="https://docs.github.com/cn/pages/getting-started-with-github-pages/about-github-pages">https://docs.github.com/cn/pages/getting-started-with-github-pages/about-github-pages</a></p><p>GitHub Pages也有使用限制，仓库不能超过1GB，发布的网站不能超过1GB，每个月带宽不能超过100GB，这已经远大于我的使用需求了。</p><p><img src="https://githubimages.pengfeima.cn/images/202211211631406.png" alt="image-20221121163128276" /></p><p><a href="https://docs.github.com/cn/repositories/working-with-files/managing-large-files/about-large-files-on-github">https://docs.github.com/cn/repositories/working-with-files/managing-large-files/about-large-files-on-github</a></p><p>GitHub 仓库的体积没有明确说有体积限制，建议在1GB以下，超过5GB会发邮件提醒你，但没有强制性的要求。但是如果这个仓库按照上面说的，使用了自定义域名作为图床链接，那么仓库会被限制在1G以内，否则就加速失效了。</p><p><img src="https://githubimages.pengfeima.cn/images/202211211647289.png" alt="image-20221121164723161" /></p><p>综上，只要不给他们的服务器带来很大的负担，把GitHub仓库当个人图床使用根本不会有人来管你。</p><h2 id="cdn服务的选择"><a class="markdownIt-Anchor" href="#cdn服务的选择"></a> CDN服务的选择</h2><h3 id="七牛云"><a class="markdownIt-Anchor" href="#七牛云"></a> 七牛云</h3><p>Https收费，http有10G免费流量。</p><h3 id="cloudfare"><a class="markdownIt-Anchor" href="#cloudfare"></a> Cloudfare</h3><p>Cloudflare提供的CDN服务是免费的，SSL也是免费的，但是Cloudflare的服务器全在国外，大陆访问特别慢。</p><p><img src="https://githubimages.pengfeima.cn/images/202211211822833.png" alt="image-20221121182202707" /></p><h3 id="又拍云"><a class="markdownIt-Anchor" href="#又拍云"></a> 又拍云</h3><p>和七牛云差不多，但是如果在自己网站上挂个<a href="https://www.upyun.com/league">广告</a>，那么可以免费使用一年</p><p>我使用了又拍云CDN加速。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;如果有人告诉你，谁家提供的图床服务速度快，稳定可靠，价格便宜，那一定是骗人的。我不会使用微博，因为他本来就不提供图床服务，后面图片访问不了了，求谁都没用。我也不会使用私人搭建的图床服务，提供类似服务的人一般都很善良，但是抵挡不住太多变数。我偏向于选择那些已经成立多年了的云服务商，虽然他们也会卷钱跑路，那种情况只能自认倒霉了。&lt;/p&gt;
&lt;p&gt;图床需要云存储搭配CDN加速使用，个人感觉比较好的方案是GitHub仓库搭配又拍云CDN加速。&lt;/p&gt;</summary>
    
    
    
    <category term="网站建设" scheme="https://blog.pengfeima.cn/categories/%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE/"/>
    
    
  </entry>
  
  <entry>
    <title>在Stellar主题中使用数学公式</title>
    <link href="https://blog.pengfeima.cn/posts/5207/"/>
    <id>https://blog.pengfeima.cn/posts/5207/</id>
    <published>2022-11-18T03:52:05.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>在使用时默认插件时，很多公式都显示不出来，默认的配置文档里说推荐使用Pandoc，我就尝试了一下。</p><h2 id="启用mathjax插件"><a class="markdownIt-Anchor" href="#启用mathjax插件"></a> 启用Mathjax插件</h2><p>在主题配置文件<code>themes/stellar/_config.yml</code>中找一找<code>mathjax</code>的配置，拷贝到我们自己的配置文件中。</p><figure class="highlight yaml"><figcaption><span>_config.stellar.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="comment"># MathJax</span></span><br><span class="line">  <span class="comment"># 需在Markdown文件开头加入mathjax: true</span></span><br><span class="line">  <span class="comment"># 推荐使用Pandoc: npm uninstall hexo-renderer-marked --save &amp; npm install hexo-renderer-pandoc --save</span></span><br><span class="line">  <span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">cdn:</span> <span class="string">https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML</span></span><br></pre></td></tr></table></figure><p>将插件修改成启用<code>enable: true</code>，重新编译一下就能生效了。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo serve</span><br></pre></td></tr></table></figure><p>但是有很多公式显示不出来，我们要将默认的插件hexo-renderer-marked换成hexo-renderer-pandoc。在命令行里输入以下命令修改插件。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save </span><br><span class="line">npm install hexo-renderer-pandoc --save</span><br></pre></td></tr></table></figure><p>因为hexo-renderer-pandoc依赖于Pandoc，我们还要在电脑上安装pandoc，我用的是MacOS，可以通过homebrew安装，安装好后，重新生成一下就好了。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew install pandoc</span><br><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo serve</span><br></pre></td></tr></table></figure><p>现在我们能看到全部公式了，以下分别是hexo-renderer-marked和hexo-renderer-pandoc的显示效果。</p><div class="tag-plugin tabs" align="center"id="tab_1"><div class="nav-tabs"><div class="tab active"><a href="#tab_1-1">hexo-renderer-marked</a></div><div class="tab"><a href="#tab_1-2">hexo-renderer-pandoc</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_1-1"><p><img src="https://githubimages.pengfeima.cn/images/202211181211095.png" alt="" /></p></div><div class="tab-pane" id="tab_1-2"><p><img src="https://githubimages.pengfeima.cn/images/202211181210046.png" alt="" /></p></div></div></div><p>最后，因为hexo-renderer-pandoc依赖Pandoc，如果要通过GitHub Action发布，那么需要在yml文件中添加：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 在step下面加上</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Pandoc</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      wget https://github.com/jgm/pandoc/releases/download/2.7.2/pandoc-2.7.2-1-amd64.deb</span></span><br><span class="line"><span class="string">      sudo dpkg -i pandoc-2.7.2-1-amd64.deb</span></span><br><span class="line"><span class="string"></span><span class="comment"># Other steps</span></span><br><span class="line"><span class="comment"># ......</span></span><br></pre></td></tr></table></figure><h2 id="存在问题"><a class="markdownIt-Anchor" href="#存在问题"></a> 存在问题</h2><p>时间线出现了问题。<br /><img src="https://githubimages.pengfeima.cn/images/202211181241586.png" alt="image-20221118124101442" /><br /><img src="https://githubimages.pengfeima.cn/images/202211181232236.png" alt="image-20221118123204121" /></p><p>我不想用pandoc了，那么就删除pandoc，切换回hexo-renderer-marked，一切都可以恢复原样。<br />反正我是放弃了，博客里写那么多公式干嘛。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew uninstall pandoc</span><br><span class="line">npm install hexo-renderer-marked --save </span><br><span class="line">npm uninstall hexo-renderer-pandoc --save</span><br></pre></td></tr></table></figure><h2 id="问题的解决"><a class="markdownIt-Anchor" href="#问题的解决"></a> 问题的解决</h2><p>不要用hexo-renderer-marked和hexo-renderer-pandoc，用hexo-renderer-kramed，输入三行命令解决所有问题。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save </span><br><span class="line">npm uninstall hexo-renderer-pandoc --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/qq_32767041/article/details/103285147">Hexo 搭建个人博客（完结）Hexo 相关问题和优化</a><br /><a href="https://blog.csdn.net/weixin_45073562/article/details/120289648">pandoc完美解决MathJax中多行公式和Markdown的冲突</a></p><div class="tag-plugin note" color="warning"><div class="title">问题2：行内公式有`_`时，需要替换成`\_`，否则会被识别为markdown语言`_斜体_`</div><div class="body"><p>用 katex + hexo-renderer-markdown-it-plus 替换了 mathjax + hexo-renderer-kramed。<br> 参考: <a href="https://www.micdz.cn/article/katex-on-volantis/">https://www.micdz.cn/article/katex-on-volantis/</a><br> 更新: 2022-11-26</p></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="网站建设" scheme="https://blog.pengfeima.cn/categories/%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE/"/>
    
    
  </entry>
  
  <entry>
    <title>利用Github Action部署博客</title>
    <link href="https://blog.pengfeima.cn/posts/52166/"/>
    <id>https://blog.pengfeima.cn/posts/52166/</id>
    <published>2022-11-17T02:27:04.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>在看了大佬<a href="https://blog.felixchen0707.cn/">Felix Chen</a>的博客<a href="https://blog.felixchen0707.cn/posts/477696ac/">利用Github Action部署博客</a>后，我也在GitHub上部署了自己的博客，创建了两个仓库，一个当源码仓库，一个当网页仓库。我就讲讲跟他不一样的地方吧。</p><h2 id="使用submodule命令"><a class="markdownIt-Anchor" href="#使用submodule命令"></a> 使用submodule命令</h2><p>与他不同的是，我使用了submodule来保持stellar主题的最新状态。源代码仓库每次更新后，都会自动拉取最新版本的stellar主题，然后编译、发布。</p><blockquote><p>fork一份到自己仓库，不仅能实时更新，还能自定义修改。</p></blockquote><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git submodule add https://github.com/shaoyaoqian/hexo-theme-stellar.git themes/stellar</span><br></pre></td></tr></table></figure><p><img src="https://githubimages.pengfeima.cn/images/202211170921653.png" alt="image-20221117092135605" /></p><p><img src="https://githubimages.pengfeima.cn/images/202211170920796.png" alt="image-20221117092004634" /></p><p><img src="https://githubimages.pengfeima.cn/images/202211170923699.png" alt="image-20221117092357612" /></p><h2 id="网页仓库的发布任务"><a class="markdownIt-Anchor" href="#网页仓库的发布任务"></a> 网页仓库的发布任务</h2><p>我的网页仓库不以.github.io结尾，网页仓库更新后，网站内容不会自动更新。因此需要添加一个脚本文件执行发布任务。详细来说，源码仓库的更新会触发源码仓库执行编译命令，源码仓库完成编译后，将生成的文件发布到网页仓库，网页仓库收到文件会触发自己的发布任务，发布新的网站。</p><p><img src="https://githubimages.pengfeima.cn/images/202211170925661.png" alt="image-20221117092524566" /></p><p>通过GitHub Action创建GitHub Pages时，会生成一个默认的static.yml，我就是复制了这个文件，放在网页仓库中。</p><figure class="highlight yaml"><figcaption><span>.github/workflows/autodeploy.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># Simple workflow for deploying static content to GitHub Pages</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">static</span> <span class="string">content</span> <span class="string">to</span> <span class="string">Pages</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="comment"># Runs on pushes targeting the default branch</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span> [<span class="string">&quot;main&quot;</span>]</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Allows you to run this workflow manually from the Actions tab</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages</span></span><br><span class="line"><span class="attr">permissions:</span></span><br><span class="line">  <span class="attr">contents:</span> <span class="string">read</span></span><br><span class="line">  <span class="attr">pages:</span> <span class="string">write</span></span><br><span class="line">  <span class="attr">id-token:</span> <span class="string">write</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow one concurrent deployment</span></span><br><span class="line"><span class="attr">concurrency:</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">&quot;pages&quot;</span></span><br><span class="line">  <span class="attr">cancel-in-progress:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="comment"># Single deploy job since we&#x27;re just deploying</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">github-pages</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">$&#123;&#123;</span> <span class="string">steps.deployment.outputs.page_url</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/configure-pages@v2</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Upload</span> <span class="string">artifact</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/upload-pages-artifact@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="comment"># Upload entire repository</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">&#x27;.&#x27;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">deployment</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/deploy-pages@v1</span></span><br></pre></td></tr></table></figure><p>之后，我们只要在源码仓库提交文件就行了，后面GitHub Action会自动发布网站。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="网站建设" scheme="https://blog.pengfeima.cn/categories/%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE/"/>
    
    
  </entry>
  
  <entry>
    <title>用 lightbox 实现灯箱效果</title>
    <link href="https://blog.pengfeima.cn/posts/12277/"/>
    <id>https://blog.pengfeima.cn/posts/12277/</id>
    <published>2022-11-06T05:23:00.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>灯箱效果是指，将图片放大弹出显示，并将背景变暗，以突出图片。具体到网页中，用户点击图片会弹出一个放大的图片窗口，原网页变暗成为背景。随着博主Javascript技能树逐渐点开，本站使用了功能更加强大的Fancybox，本文所述方案已经弃用，但作为博客早期的真实写照，本文还是留着吧。</p><span id="more"></span><h3 id="markdown语言与html语言"><a class="markdownIt-Anchor" href="#markdown语言与html语言"></a> Markdown语言与html语言</h3><p>我们先要了解Markdown语言是怎么被解释成HTML语言。以下markdown语言</p><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">![<span class="string">image-20221006234019929</span>](<span class="link">https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202210061555638.png</span>)图片</span><br></pre></td></tr></table></figure><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">![<span class="string">image-20221006234019929</span>](<span class="link">https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202210061555638.png</span>)</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">small</span>&gt;</span></span>这是我保存在旧手机上的图片，2021年国庆，给老师做的PPT<span class="language-xml"><span class="tag">&lt;/<span class="name">small</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>分别会被解析成</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202210061555638.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;image-20221006234019929&quot;</span>&gt;</span>图片<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202210061555638.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;image-20221006234019929&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">small</span>&gt;</span>这是我保存在旧手机上的图片，2021年国庆，给老师做的PPT<span class="tag">&lt;/<span class="name">small</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果图片后面不是文字，或者空了一行，那么会就会被解释成</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202210061555638.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;image-20221006234019929&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>总之，解析后的HTML代码中有一对<code>&lt;p&gt;&lt;/p&gt;</code>标签，它的内部包含了一个<code>&lt;img&gt;</code>标签，图片链接保存在<code>&lt;img&gt;</code>标签中，我们要思考的是怎么处理<code>&lt;img&gt;</code>标签。</p><h3 id="lightbox-插件"><a class="markdownIt-Anchor" href="#lightbox-插件"></a> Lightbox 插件</h3><p>我想要的效果是<a href="https://lokeshdhakar.com/projects/lightbox2/#browser-support">Lightbox2 (lokeshdhakar.com)</a>，教程可以参考<a href="https://christianspecht.de/2014/03/08/generating-an-image-gallery-with-jekyll-and-lightbox2/">Generating an image gallery with Jekyll and Lightbox2</a>。简单来说，我们要给原来的<code>&lt;img&gt;</code>标签包上一对<code>&lt;a&gt;&lt;/a&gt;</code>标签，剩下的交给Lightbox插件来处理就行了。包装后的HTML文本如下所示：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202211061407124.png&quot;</span> <span class="attr">data-lightbox</span>=<span class="string">&quot;example&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202211061407124.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>我们要在浏览器加载完成HTML文本后，用js脚本遍历所有满足选择器<code>img</code>的元素，给他包上<code>&lt;a&gt;&lt;/a&gt;</code>，代码如下：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">add_lightbox</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">      $(<span class="string">&#x27;img&#x27;</span>).<span class="title function_">each</span>(</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span>(<span class="params">index, val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> link = $(<span class="string">&#x27;&lt;a&gt;&lt;/a&gt;&#x27;</span>).<span class="title function_">attr</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&#x27;rel&#x27;</span>: <span class="string">&#x27;lightbox&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&#x27;href&#x27;</span>: $(val).<span class="title function_">attr</span>(<span class="string">&#x27;src&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">            <span class="string">&#x27;data-lightbox&#x27;</span>:<span class="string">&quot;roadtrip&quot;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;);</span></span><br><span class="line"><span class="language-javascript">        $(val).<span class="title function_">parent</span>().<span class="title function_">prepend</span>(link);</span></span><br><span class="line"><span class="language-javascript">        link.<span class="title function_">append</span>($(val));</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      )</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>要在body元素上调用这个函数，<code>&lt;body onload=&quot;add_lightbox()&quot;&gt;</code>，表示文档加载完毕后才会执行这个脚本。</p><p>修改后可以获得如下效果：</p><p><img src="https://githubimages.pengfeima.cn/images/202212141450187.png" alt="image-20221106140712923" /></p><p><img src="https://githubimages.pengfeima.cn/images/202212141450940.png" alt="image-20221106150630189" /></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;灯箱效果是指，将图片放大弹出显示，并将背景变暗，以突出图片。具体到网页中，用户点击图片会弹出一个放大的图片窗口，原网页变暗成为背景。随着博主Javascript技能树逐渐点开，本站使用了功能更加强大的Fancybox，本文所述方案已经弃用，但作为博客早期的真实写照，本文还是留着吧。&lt;/p&gt;</summary>
    
    
    
    <category term="网站建设" scheme="https://blog.pengfeima.cn/categories/%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE/"/>
    
    
  </entry>
  
  <entry>
    <title>CDN加速</title>
    <link href="https://blog.pengfeima.cn/posts/17107/"/>
    <id>https://blog.pengfeima.cn/posts/17107/</id>
    <published>2022-11-05T18:23:00.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>之前一直没弄明白CDN加速是怎么回事，自己捋了一下。</p><p>我的博客搭建在<a href="https://pages.github.com">GitHub Pages</a>上，通过域名xxx.github.io直接访问github的服务器，xxx.github.io叫做源站域名。使用了CDN加速服务后，CDN服务器会缓存源站的资源，之后我们浏览网页时就不用直接访问源站了，从CDN服务器上下载资源即可，这样就缓解了源站的压力。</p><p>这中间域名需要经过两次转换，自定义域名 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> CDN加速域名 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> <a href="http://xxx.github.io">xxx.github.io</a>。其中，自定义域名是自己购买的域名，CDN加速域名是CDN服务商提供的，xxx.github.io是GitHub提供的源站。我们要先在CDN服务商处设置自定义域名和源站域名，如下图所示：</p><p><img src="https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202211060233060.png" alt="image-20221106023304874" /><small>七牛云CDN服务的设置</small></p><p>设置好后，CDN服务商会提供一个CDN加速域名，复制这个CDN加速域名，到购买域名的地方，将自定义域名解析到CDN加速域名。最后再在GitHub Pages上设置自定义域名访问。这样就设置好了。接下来，我们访问网站时会发生一系列跳转：用户通过浏览器访问自定义域名(<a href="http://www.pengfeima.cn">www.pengfeima.cn</a>)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span>CDN加速域名(<a href="http://xxxxxx.xxxx.qiniu.com">xxxxxx.xxxx.qiniu.com</a>)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 源站域名(<a href="http://shaoyaoqian.github.io">shaoyaoqian.github.io</a>)。</p><p>我们可以自行设置CDN服务器的缓存策略。缓存是有时限的，过了时限后，CDN服务器上的资源会失效，CDN服务器会从源站调取资源重新缓存。放宽缓存时限会减少源站的压力，但是用户可能访问不到最新的内容。</p><p><img src="https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202211071748920.png" alt="image-20221107174824742" /></p><p><small>缓存时间设置</small></p><p>国内CDN加速有两个限制：</p><ul><li>开启HTTPS服务需要CA证书，否则只能使用HTTP服务。</li><li>域名如果没有备案，那么只能覆盖海外CDN服务器。搭建在国内服务器上的网站需要备案，搭建在国外服务器上的网站无需备案，也无法备案。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="网站建设" scheme="https://blog.pengfeima.cn/categories/%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE/"/>
    
    
  </entry>
  
  <entry>
    <title>ubuntu系统配置clash代理</title>
    <link href="https://blog.pengfeima.cn/posts/62627/"/>
    <id>https://blog.pengfeima.cn/posts/62627/</id>
    <published>2022-11-05T18:23:00.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ubuntu配置clash系统代理"><a class="markdownIt-Anchor" href="#ubuntu配置clash系统代理"></a> <a href="https://zhuanlan.zhihu.com/p/430035973">ubuntu配置clash系统代理</a></h1><blockquote><p>本文仅简要记录过程</p></blockquote><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">wget http://qiniu.pengfeima.cn/clash-linux-amd64-v1.11.12.gz</span><br><span class="line">gunzip clash-linux-amd64-v1.11.12.gz</span><br><span class="line"><span class="built_in">mv</span> clash-linux-amd64-v1.11.12 clash</span><br><span class="line"><span class="built_in">mkdir</span> Clash</span><br><span class="line"><span class="built_in">mv</span> clash ./Clash</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Clash</span><br><span class="line">wget -O Country.mmdb http://qiniu.pengfeima.cn/Country.mmdb</span><br></pre></td></tr></table></figure><ol><li>在windows版的clash中找到yaml文件</li><li>打开并加入<code>secret:123456</code></li><li>将其拷贝到clash文件夹中</li><li>在网络设置中设置代理</li></ol><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109201937656.png" alt="image-20221109201937656" /></p><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109202226593.png" alt="image-20221109202226593" /></p><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109202210698.png" alt="image-20221109202210698" /></p><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109202339678.png" alt="image-20221109202339678" /></p><ol><li>启动clash</li><li>在浏览器中打开<a href="http://clash.razord.top/%E9%9D%A2%E6%9D%BF">http://clash.razord.top/面板</a></li><li>输入参数</li></ol><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Clash</span><br><span class="line"><span class="built_in">chmod</span> +x clash</span><br><span class="line">./clash -d .</span><br></pre></td></tr></table></figure><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109202650007.png" alt="image-20221109202650007" /></p><p><a href="https://zhuanlan.zhihu.com/p/430035973">ubuntu配置clash系统代理</a></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">wget http://qiniu.pengfeima.cn/clash-linux-amd64-v1.11.12.gz</span><br><span class="line">gunzip clash-linux-amd64-v1.11.12.gz</span><br><span class="line"><span class="built_in">mv</span> clash-linux-amd64-v1.11.12 clash</span><br><span class="line"><span class="built_in">mkdir</span> Clash</span><br><span class="line"><span class="built_in">mv</span> clash ./Clash</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Clash</span><br><span class="line">wget -O Country.mmdb http://qiniu.pengfeima.cn/Country.mmdb</span><br></pre></td></tr></table></figure><ol><li>在windows版的clash中找到yaml文件</li><li>打开并加入<code>secret:123456</code></li><li>将其拷贝到clash文件夹中</li><li>在网络设置中设置代理</li></ol><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109201937656.png" alt="image-20221109201937656" /></p><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109202226593.png" alt="image-20221109202226593" /></p><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109202210698.png" alt="image-20221109202210698" /></p><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109202339678.png" alt="image-20221109202339678" /></p><ol><li>启动clash</li><li>在浏览器中打开<a href="http://clash.razord.top/%E9%9D%A2%E6%9D%BF">http://clash.razord.top/面板</a></li><li>输入参数</li></ol><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Clash</span><br><span class="line"><span class="built_in">chmod</span> +x clash</span><br><span class="line">./clash -d .</span><br></pre></td></tr></table></figure><p><img src="http://qiniu.pengfeima.cn/typora/image-20221109202650007.png" alt="image-20221109202650007" /></p><p>至此，能正常访问谷歌学术。</p><p>命令行代理：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="linux" scheme="https://blog.pengfeima.cn/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>用beamer做演示稿</title>
    <link href="https://blog.pengfeima.cn/posts/20229/"/>
    <id>https://blog.pengfeima.cn/posts/20229/</id>
    <published>2022-11-03T05:55:00.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="首页和页脚"><a class="markdownIt-Anchor" href="#首页和页脚"></a> 首页和页脚</h2><p><img src="https://raw.githubusercontent.com/mapengfei-nwpu/personal_pictures/main/typora_picgo/202211031453708.png" alt="image-20221103145317607" /></p><hr /><h2 id="块环境和定理环境"><a class="markdownIt-Anchor" href="#块环境和定理环境"></a> 块环境和定理环境</h2><p>beamer中的环境有两类即block和theorem，都是\begin和\end的结构。不同的是定理环境还有一些额外的功能，例如进行编号之类。</p><h3 id="块环境block"><a class="markdownIt-Anchor" href="#块环境block"></a> 块环境(block)</h3><p>默认块环境的一共有三种，block、alertblock和exampleblock，以下是使用方式和显示效果。</p><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="comment">% Frame 1</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;frame&#125;&#123;Basic Blocks&#125;</span><br><span class="line">    <span class="keyword">\begin</span>&#123;block&#125;&#123;Standard Block&#125;</span><br><span class="line">        This is a standard block.</span><br><span class="line">    <span class="keyword">\end</span>&#123;block&#125;</span><br><span class="line">    <span class="keyword">\begin</span>&#123;alertblock&#125;&#123;Alert Message&#125;</span><br><span class="line">        This block presents alert message.</span><br><span class="line">    <span class="keyword">\end</span>&#123;alertblock&#125;</span><br><span class="line">    <span class="keyword">\begin</span>&#123;exampleblock&#125;&#123;An example of typesetting tool&#125;</span><br><span class="line">        Example: MS Word, <span class="keyword">\LaTeX</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">\end</span>&#123;exampleblock&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;frame&#125;</span><br></pre></td></tr></table></figure><p><img src="https://githubimages.pengfeima.cn/images/202211282321932.png" alt="image-20221103135207499" /></p><p>对于块环境而言，可以通过<strong>block</strong>来设置块环境的通用属性，是否是圆角，是否带阴影。而块的颜色可以通过<strong>块名+title/block</strong>设置。例如对于alertblock，标题可以用\setbeamercolor{block title alerted }{fg=,bg=}，block环境类似。</p><h3 id="定理环境theorem"><a class="markdownIt-Anchor" href="#定理环境theorem"></a> 定理环境(theorem)</h3><p>定理环境的template继承自block，色彩继承自structure，因此对于定理环境，并没有针对每一个定理环境的色彩和字体设置，不管是theorem还是example，属性是完全一样的，只是title的格式不一样。例如，对于theorem，标题是“定理1.2: 吃饭不饿定理”，对于example，标题是“例3.1： 吃饭不饿的反例”。所以定理环境没有太大修改的余地。</p><p>beamer中默认的定理环境包括theorem、definition、proof、example，我们可以自己增加新的定理环境，格式如下：</p><p>新定义定理环境：<code>\newtheorem&#123;name&#125;[counter]&#123;text&#125;[section]</code></p><ul><li>name：标识这个环境的关键字（用于编程）</li><li>text：真正在文档中打印出来的定理环境的名字</li><li>counter：计数器；一般新定义的定理环境会自己用一个新的计数器，但是可以在 counter 中传入其他的定理环境，表示和这个环境共用计数器。</li><li>section：定理编号依赖于某个章节层次（比如：定理1.1）</li></ul><p>以下是简单例子：</p><ol><li><p>首先增加假设环境。</p><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\newtheorem</span>&#123;hypothesis&#125;&#123;假设&#125;                            </span><br></pre></td></tr></table></figure></li><li><p>然后在PPT里面使用它。</p><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;frame&#125;</span><br><span class="line">    <span class="keyword">\frametitle</span>&#123;应变能函数需要满足的条件&#125;</span><br><span class="line">    <span class="keyword">\begin</span>&#123;hypothesis&#125;[应变能函数的假设]</span><br><span class="line">        令<span class="built_in">$</span><span class="keyword">\mathbb</span>&#123;H&#125;<span class="built_in">$</span>为对 <span class="built_in">$</span>W<span class="built_in">$</span> 二阶求导得到的四阶张量：</span><br><span class="line">        <span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">        <span class="keyword">\mathbb</span>&#123;H&#125;<span class="built_in">_</span>&#123;<span class="keyword">\alpha</span> i <span class="keyword">\beta</span> j&#125;:=<span class="keyword">\frac</span>&#123;<span class="keyword">\partial</span><span class="built_in">^</span>2 W&#125;&#123;<span class="keyword">\partial</span> <span class="keyword">\mathbb</span>&#123;F&#125;<span class="built_in">_</span>&#123;<span class="keyword">\alpha</span> i&#125; <span class="keyword">\partial</span> <span class="keyword">\mathbb</span>&#123;F&#125;<span class="built_in">_</span>&#123;<span class="keyword">\beta</span> j&#125;&#125; <span class="keyword">\text</span> &#123;. &#125;</span><br><span class="line">        <span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">        假设存在<span class="built_in">$</span><span class="keyword">\kappa</span><span class="built_in">_</span>&#123;<span class="keyword">\min</span> &#125;,<span class="keyword">\kappa</span><span class="built_in">_</span>&#123;<span class="keyword">\max</span> &#125;&gt;0<span class="built_in">$</span>使得</span><br><span class="line">        <span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">        <span class="keyword">\kappa</span><span class="built_in">_</span>&#123;<span class="keyword">\min</span> &#125; <span class="keyword">\mathbb</span>&#123;E&#125;<span class="built_in">^</span>2 <span class="keyword">\leqslant</span> <span class="keyword">\mathbb</span>&#123;E&#125;: <span class="keyword">\mathbb</span>&#123;H&#125;: <span class="keyword">\mathbb</span>&#123;E&#125; <span class="keyword">\leqslant</span> <span class="keyword">\kappa</span><span class="built_in">_</span>&#123;<span class="keyword">\max</span> &#125; <span class="keyword">\mathbb</span>&#123;E&#125;<span class="built_in">^</span>2</span><br><span class="line">        <span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">        对任意二阶张量<span class="built_in">$</span><span class="keyword">\mathbb</span>&#123;E&#125;<span class="built_in">$</span>成立。其中， <span class="built_in">$</span><span class="keyword">\mathbb</span>&#123;E&#125;<span class="built_in">^</span>2=<span class="keyword">\mathbb</span>&#123;E&#125;: <span class="keyword">\mathbb</span>&#123;E&#125;, <span class="keyword">\quad</span> <span class="keyword">\mathbb</span>&#123;E&#125;: <span class="keyword">\mathbb</span>&#123;H&#125;: <span class="keyword">\mathbb</span>&#123;E&#125;=<span class="keyword">\mathbb</span>&#123;E&#125;<span class="built_in">_</span>&#123;<span class="keyword">\alpha</span> i&#125; <span class="keyword">\mathbb</span>&#123;H&#125;<span class="built_in">_</span>&#123;<span class="keyword">\alpha</span> i <span class="keyword">\beta</span> j&#125; <span class="keyword">\mathbb</span>&#123;E&#125;<span class="built_in">_</span>&#123;<span class="keyword">\beta</span> j&#125;<span class="built_in">$</span>。</span><br><span class="line">    <span class="keyword">\end</span>&#123;hypothesis&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;frame&#125;</span><br></pre></td></tr></table></figure><p><img src="https://githubimages.pengfeima.cn/images/202211282321206.png" alt="image-20221103134814663" /></p></li></ol><p>参考：</p><p><a href="https://zhuanlan.zhihu.com/p/138021900">https://zhuanlan.zhihu.com/p/138021900</a></p><p><a href="https://zhuanlan.zhihu.com/p/133244838">https://zhuanlan.zhihu.com/p/133244838</a></p><h2 id="算法环境"><a class="markdownIt-Anchor" href="#算法环境"></a> 算法环境</h2><p>需要使用包<code>\usepackage&#123;algorithm,algorithmic&#125;</code> ，示例如下：</p><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;algorithm&#125;[H]                                <span class="comment">% HERE!!!!!!!!!</span></span><br><span class="line">        <span class="keyword">\caption</span>&#123;显式格式的求解算法&#125;                       <span class="comment">% give the algorithm a caption</span></span><br><span class="line">    <span class="keyword">\label</span>&#123;alg1&#125;                                        <span class="comment">% and a label for \ref&#123;&#125; commands later in the document</span></span><br><span class="line">        <span class="keyword">\begin</span>&#123;algorithmic&#125;                             <span class="comment">% enter the algorithmic environment</span></span><br><span class="line">        <span class="keyword">\REQUIRE</span> <span class="built_in">$</span><span class="keyword">\mathbf</span>&#123;u&#125;<span class="built_in">_</span>&#123;n&#125;,p<span class="built_in">_</span>n,<span class="keyword">\mathcal</span>&#123;X&#125;<span class="built_in">_</span>n<span class="built_in">$</span></span><br><span class="line">        <span class="keyword">\STATE</span> 限制算子，由<span class="built_in">$</span><span class="keyword">\mathbf</span>&#123;u&#125;<span class="built_in">_</span>n<span class="built_in">$</span>算出<span class="built_in">$</span><span class="keyword">\mathbf</span>&#123;U&#125;<span class="built_in">_</span>n<span class="built_in">$</span></span><br><span class="line">        <span class="keyword">\STATE</span> 更新位移<span class="built_in">$</span><span class="keyword">\mathcal</span>&#123;X&#125;<span class="built_in">_</span>&#123;n+1&#125;<span class="built_in">$</span></span><br><span class="line">        <span class="keyword">\STATE</span> 标准的有限元软件求解<span class="built_in">$</span><span class="keyword">\mathbf</span>&#123;F&#125;<span class="built_in">_</span>&#123;n+1&#125;<span class="built_in">$</span></span><br><span class="line">        <span class="keyword">\STATE</span> 延拓算子，由<span class="built_in">$</span><span class="keyword">\mathbf</span>&#123;F&#125;<span class="built_in">_</span>&#123;n+1&#125;<span class="built_in">$</span>算出<span class="built_in">$</span><span class="keyword">\mathbf</span>&#123;f&#125;<span class="built_in">_</span>&#123;n+1&#125;<span class="built_in">$</span></span><br><span class="line">        <span class="keyword">\STATE</span> 不可压NS方程的求解<span class="built_in">$</span><span class="keyword">\mathbf</span>&#123;u&#125;<span class="built_in">_</span>&#123;n+1&#125;<span class="built_in">$</span>和<span class="built_in">$</span>p<span class="built_in">_</span>&#123;n+1&#125;<span class="built_in">$</span></span><br><span class="line">        <span class="keyword">\end</span>&#123;algorithmic&#125;</span><br><span class="line">    <span class="keyword">\end</span>&#123;algorithm&#125;</span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="https://githubimages.pengfeima.cn/images/202211161312110.png" alt="image-20221116131246919" /></p><p>参考：<a href="https://www.zhihu.com/question/29888730/answer/45945434">https://www.zhihu.com/question/29888730/answer/45945434</a></p><h2 id="参考文献"><a class="markdownIt-Anchor" href="#参考文献"></a> 参考文献</h2><p>待续。。。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="latex" scheme="https://blog.pengfeima.cn/tags/latex/"/>
    
    <category term="beamer" scheme="https://blog.pengfeima.cn/tags/beamer/"/>
    
    <category term="演示稿" scheme="https://blog.pengfeima.cn/tags/%E6%BC%94%E7%A4%BA%E7%A8%BF/"/>
    
  </entry>
  
  <entry>
    <title>课题组服务器资源分配</title>
    <link href="https://blog.pengfeima.cn/posts/35875/"/>
    <id>https://blog.pengfeima.cn/posts/35875/</id>
    <published>2022-10-18T16:00:00.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码错误，请重试！" data-whm="这些解密的内容无法通过验证，但您仍然可以查看。">  <script id="hbeData" type="hbeData" data-hmacdigest="583fd6e3b64cbc6dbdb5cac7550741821085b216cf93f814cdbc743407ae24a4">6031008eaf30dfa9f6cee48a6a69006e4d2307147359263829b2f62a1a2e7030229da9524b92f67ab4045da0cd1b464fab31901e542920f7adbfdf0d21ea725d943a664032e4445e2a2189b547dad5708ce63caf0d996a77b1b28ba5e01f20463f648838b1d649e03e7de05f84a3ae189c12f113a9c161165e4ce7176e9d483b38ed7b7fea7e38ee1dec730c6587c4ab616ab6a2b69bc809e12e87484f1c8ae41ce5bebbe7040529b0b3a1b028df67a7fdd700b46535616a08692e272304ce319036d911c315ee03a6371e68c774d7837e6228edeb26f931682bd90901cc6490eae2c4572ad23a51f703b2248e7b305b27d3ea03a7b525e5d7ec4ac005689f179ba767d9568afe12b11d5aeec3beb359fcd4e1fca89f3dab1fd152b198531465523e55615fc2c420fb0eb1b0b08c5e118e8995a69f0690142f3d1e43a8d470b3a15e1b5ac5ea67d12820229e011502bc9ce45f77d40e64028d0c4853018abcefaf396d45bf65dca8f94a4d12e4ed7fba0b128552cfc3f0f7b4f72083858c4ddbc96d37820fe90f49ca1f32b45c576b05abc39aa50f71c5926f32471891389a1d4849612914a2341489b49fe179f72d0397bdb7614459ea3c017f538eb96a98a07a7376e6d61587aea0ec0d7e40ac95abcf1fd6b4af614e1dfe7f8b6f29177780f973a7095db8ed580cce6980a9ddae2ba62109a7a5333c781562c7fa1e49177dd7d0700ad5204cc6af3e56f71501ef28d8e05c462e233c40ae795c0736d857fcab14f3acce39d3778662439c0b61f4a96da6382a64790a889adb878aafa18fc7f39f67cf09b1eeb719cb31845534c019210d79b50656892e8805735dcc64c2f02b5b9628915fbed65a4f3172f2aee8526fa94b490af294cb8e2b118d6fb3388ac00dd910190b0727aca3cc12fc9494ba56d2570a02a23416a0e988390cfab8a60c9b81014419e5a82175a5fc4a6470f75e758e80ca9dedcb45abba2a9d7f8b707663ba3d7314eb3cec006ec361337246a8870b74e100226ac2204fbf8c0bbe669283873162570259d6113ef73f0f3db6220901481caae6dbb2ffded03d268082fa0f143530ab476e177ca7c04dcb14e189b09cd505fc8c81e2268d07c76450b79e4acae3ed44ef1e6000ca3b83f3bd975bfc5460257f7c62d43fff6163e421f073f36708e451be27720e09c968812f0988bc40e034cac7e17af5e93ceea3719017d1326165bf9b711ff6b6f37a03b20f685c5769be220053a711385dffd0a4001b3424b093dfc2028b49defe65665c2330db64e9aca83e0da07aa5ff3fa438c3722a417bbe8bc42e45637019f879958aea316bdd6490c98a7924a4fcb25531cd89dc3753ce0a7f4d072d39cee50ff4ee4154e29b2ddcfd8cb288c21bd0c7bbc9d9f0d399af142949bc439884f2933df3a65203bd152b0dc5eb57de8eadd1e29af4d4ce46201029adcaf46309948e3d490cefe4c065ccf72a9c3ddc390c59d01bcc3402c03342275d793999f7423bbc8d667dbbef63faa8dbf3b4d6c940ccf5a2cc336181ec8e05972264b5c0c660f3f20b7b88a3998261d92ae6becf2463a579bbb4e0e4184ac280acd23eca0bc9ab7ec2503e6eddbb2626559bff5af8dc122ed240c20cf5cca0471ef1d536b71cfe4960fce11e1d193e1b58b210b0d9c83eb5e37732792c21bf84c882999f90d6a559f6661c9e01bf0783818e2cf1cb0661ef71fa5d01a120d96f667c2ef49f2f8b254d66043347545bdcd648808559f2a56b2a0fafe927106c4a0c76652120b3292a02883de57a4ebc2b4046597aee955135dc466ba9a78b582e94b3a471743ddd2f361c0647a391ffdba7099c103a6181cae1747c46f8b40ddb098514a35f729535e0770baedef836604a3f0e3dabf89f1708f56399a3dc6ab95caf00eb1f6dfab4ed6fe313ac53be11aa65cb03007e4a3ce407fcfc0a3b2e9bb4afce2a5e89f1d6ec526ca02a2489a3bafbeec1532016ee6293f767a4f817d16c98849551bb374136d1ebad77116d8582067be31784c859e9c89452b86f9e797da47bd57164d51cdcf3de0b123dd2e8733d8abd02b7f5e91d268c018f7903e17a87cb8f3842e61eb956c231ed22f4d42cd76d07a2fbeec85805c7503b12ffb102f392fb7f1df343a609d65d432254b264a91a1016d77012</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">访问需要密码</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">这是加密内容，需要密码才能继续阅读</summary>
    
    
    
    
    <category term="加密" scheme="https://blog.pengfeima.cn/tags/%E5%8A%A0%E5%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>图片功能测试</title>
    <link href="https://blog.pengfeima.cn/posts/15648/"/>
    <id>https://blog.pengfeima.cn/posts/15648/</id>
    <published>2022-10-06T16:00:00.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p> </p><div class="tag-plugin poetry"><div class="content"><div class="title">空洞骑士</div><div class="meta"><span>Team Cherry</span></div><div class="body"><p>没有可以思考的心智<br /><strong>没有可以屈从的意志</strong><br />没有为苦难而哭泣的声音<br />生于神与虚空之手<br />你必封印在众人梦中散布瘟疫的障目之光<br />你是容器<br />你是空洞骑士</p></div><div class="footer">诗词节选</div></div></div><span id="more"></span><h3 id="2022年的图片"><a class="markdownIt-Anchor" href="#2022年的图片"></a> 2022年的图片</h3><p>这里没有对齐是因为有些截图本身就有透明边缘。</p><div class="tag-plugin note" color="warning"><div class="body"><div id="k4cj7nts0np" class="justified-gallery tile-gallery"><a data-fancybox="k4cj7nts0np" data-caption="这是我保存在旧手机上的图片，2021年国庆，给老师做的PPT" href="https://githubimages.pengfeima.cn/images/202212141444685.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141444685.png" alt="这是我保存在旧手机上的图片，2021年国庆，给老师做的PPT" /></a><a data-fancybox="k4cj7nts0np" data-caption="用手机号注册了一个推特账号。用户名mpf_npu和密码a13566946986" href="https://githubimages.pengfeima.cn/images/202212141445379.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141445379.png" alt="用手机号注册了一个推特账号。用户名mpf_npu和密码a13566946986" /></a><a data-fancybox="k4cj7nts0np" data-caption="和王彬、郝玉、张效宣一起参加了团委组织的活动，参观了西影博物馆" href="https://githubimages.pengfeima.cn/images/202212141444157.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141444157.jpeg" alt="和王彬、郝玉、张效宣一起参加了团委组织的活动，参观了西影博物馆" /></a><a data-fancybox="k4cj7nts0np" data-caption="我最喜欢的绣球花" href="https://githubimages.pengfeima.cn/images/202212141444696.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141444696.png" alt="我最喜欢的绣球花" /></a><a data-fancybox="k4cj7nts0np" data-caption="这是我在网上找的一张壁纸" href="https://githubimages.pengfeima.cn/images/202212141444505.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141444505.jpeg" alt="这是我在网上找的一张壁纸" /></a><a data-fancybox="k4cj7nts0np" data-caption="2022年暑假，有一段时间喜欢翻译一些比较小众的英文歌词，然后上传到网易云音乐" href="https://githubimages.pengfeima.cn/images/202212141444426.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141444426.png" alt="2022年暑假，有一段时间喜欢翻译一些比较小众的英文歌词，然后上传到网易云音乐" /></a><a data-fancybox="k4cj7nts0np" data-caption="2022年暑假，因为疫情没有回金华，我就在妈妈工作的地方住了半个月" href="https://githubimages.pengfeima.cn/images/202212141444676.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141444676.png" alt="2022年暑假，因为疫情没有回金华，我就在妈妈工作的地方住了半个月" /></a><a data-fancybox="k4cj7nts0np" data-caption="2022年暑假，准备离开西安，去武汉找许诺玩" href="https://githubimages.pengfeima.cn/images/202212141444128.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141444128.jpg" alt="2022年暑假，准备离开西安，去武汉找许诺玩" /></a><a data-fancybox="k4cj7nts0np" data-caption="当时在搜怎么当一个好男朋友，看到这个帖子，有点感触" href="https://githubimages.pengfeima.cn/images/202212141444618.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141444618.jpg" alt="当时在搜怎么当一个好男朋友，看到这个帖子，有点感触" /></a><a data-fancybox="k4cj7nts0np" data-caption="2022年春天，四位同门毕业，从另一个方向看的话我是C位哈哈～" href="https://githubimages.pengfeima.cn/images/202212141444475.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202212141444475.jpg" alt="2022年春天，四位同门毕业，从另一个方向看的话我是C位哈哈～" /></a></div></div></div><style>.md-text img {  border-radius:0px}</style><p>原来的图片插件。</p><div class="tag-plugin image"><div class="image-bg" style="background:var(--card);padding:16px;"><img src="https://xaoxuu.com/assets/wiki/stellar/icon.svg" fancybox="true" style="width:20px;"/></div></div><div class="tag-plugin image"><div class="image-bg" style="background:white;padding:16px;"><img src="https://xaoxuu.com/assets/wiki/stellar/icon.svg" fancybox="true" style="width:200px;"/><a class="image-download blur" style="opacity:0" href="https://xaoxuu.com/assets/wiki/stellar/icon.svg"><svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3734"><path d="M561.00682908 685.55838913a111.03077546 111.03077546 0 0 1-106.8895062 0L256.23182837 487.72885783a55.96309219 55.96309219 0 0 1 79.13181253-79.18777574L450.70357448 523.88101491V181.55477937a55.96309219 55.96309219 0 0 1 111.92618438 0v344.06109173l117.07478902-117.07478901a55.96309219 55.96309219 0 0 1 79.13181252 79.18777574zM282.81429711 797.1487951h447.70473912a55.96309219 55.96309219 0 0 1 0 111.92618438H282.81429711a55.96309219 55.96309219 0 0 1 0-111.92618438z" p-id="3735"></path></svg></a></div></div><div class="tag-plugin image"><div class="image-bg" style="background:#3f5582;padding:30px;"><img src="https://xaoxuu.com/assets/wiki/stellar/icon.svg" alt="这是一张示例图片" fancybox="true" style="width:130px;"/><a class="image-download blur" style="opacity:0" href="https://xaoxuu.com/assets/wiki/stellar/icon.svg"><svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3734"><path d="M561.00682908 685.55838913a111.03077546 111.03077546 0 0 1-106.8895062 0L256.23182837 487.72885783a55.96309219 55.96309219 0 0 1 79.13181253-79.18777574L450.70357448 523.88101491V181.55477937a55.96309219 55.96309219 0 0 1 111.92618438 0v344.06109173l117.07478902-117.07478901a55.96309219 55.96309219 0 0 1 79.13181252 79.18777574zM282.81429711 797.1487951h447.70473912a55.96309219 55.96309219 0 0 1 0 111.92618438H282.81429711a55.96309219 55.96309219 0 0 1 0-111.92618438z" p-id="3735"></path></svg></a></div><div class="image-meta"><span class="image-caption center">这是一张示例图片</span></div></div><p>一些长宽相同的图片的排版。</p><div id="2dllppst3xr" class="justified-gallery tile-gallery"><a data-fancybox="2dllppst3xr" data-caption="WechatIMG2" href="https://githubimages.pengfeima.cn/images/202211180033899.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180033899.jpeg" alt="WechatIMG2" /></a><a data-fancybox="2dllppst3xr" data-caption="WechatIMG22" href="https://githubimages.pengfeima.cn/images/202211180032716.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180032716.jpeg" alt="WechatIMG22" /></a><a data-fancybox="2dllppst3xr" data-caption="WechatIMG20" href="https://githubimages.pengfeima.cn/images/202211180032707.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180032707.jpeg" alt="WechatIMG20" /></a><a data-fancybox="2dllppst3xr" data-caption="WechatIMG18" href="https://githubimages.pengfeima.cn/images/202211180033325.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180033325.jpeg" alt="WechatIMG18" /></a><a data-fancybox="2dllppst3xr" data-caption="WechatIMG16" href="https://githubimages.pengfeima.cn/images/202211180032668.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180032668.jpeg" alt="WechatIMG16" /></a><a data-fancybox="2dllppst3xr" data-caption="WechatIMG12" href="https://githubimages.pengfeima.cn/images/202211180032703.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180032703.jpeg" alt="WechatIMG12" /></a><a data-fancybox="2dllppst3xr" data-caption="WechatIMG10" href="https://githubimages.pengfeima.cn/images/202211180032457.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180032457.jpeg" alt="WechatIMG10" /></a><a data-fancybox="2dllppst3xr" data-caption="WechatIMG8" href="https://githubimages.pengfeima.cn/images/202211180032651.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180032651.jpeg" alt="WechatIMG8" /></a><a data-fancybox="2dllppst3xr" data-caption="WechatIMG6" href="https://githubimages.pengfeima.cn/images/202211180032149.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180032149.jpeg" alt="WechatIMG6" /></a><a data-fancybox="2dllppst3xr" data-caption="WechatIMG4" href="https://githubimages.pengfeima.cn/images/202211180032787.jpeg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211180032787.jpeg" alt="WechatIMG4" /></a></div><p>一些长宽不同的图片的排版。</p><div id="a8atiui4ac" class="justified-gallery tile-gallery"><a data-fancybox="a8atiui4ac" data-caption="这是一段很长很长的文字，请忽略后面的内容。我自己在本地修改代码调试程序时，commit命令用得比较频繁，很多commit都是一些小修改，而且我会在代码中加入一些私货，我不想它们出现在别人的代码仓库中。我希望在pull request的时候只挑选出一些有用的commit，将它们合并成一个commit，再将它推送到上游仓库。" href="https://githubimages.pengfeima.cn/images/202211291216879.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291216879.jpg" alt="这是一段很长很长的文字，请忽略后面的内容。我自己在本地修改代码调试程序时，commit命令用得比较频繁，很多commit都是一些小修改，而且我会在代码中加入一些私货，我不想它们出现在别人的代码仓库中。我希望在pull request的时候只挑选出一些有用的commit，将它们合并成一个commit，再将它推送到上游仓库。" /></a><a data-fancybox="a8atiui4ac" data-caption="3711669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291217546.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217546.jpg" alt="3711669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3701669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291217893.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217893.jpg" alt="3701669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3691669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291217240.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217240.jpg" alt="3691669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3681669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291216884.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291216884.jpg" alt="3681669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3671669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291216894.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291216894.jpg" alt="3671669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3661669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291217904.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217904.jpg" alt="3661669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3651669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291217670.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217670.jpg" alt="3651669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3641669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291216662.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291216662.jpg" alt="3641669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3631669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291216722.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291216722.jpg" alt="3631669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3621669695359_.pic" href="https://githubimages.pengfeima.cn/images/202211291217910.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217910.jpg" alt="3621669695359_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3611669695358_.pic" href="https://githubimages.pengfeima.cn/images/202211291217662.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217662.jpg" alt="3611669695358_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3601669695358_.pic" href="https://githubimages.pengfeima.cn/images/202211291217355.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217355.jpg" alt="3601669695358_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3591669695358_.pic" href="https://githubimages.pengfeima.cn/images/202211291217704.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217704.jpg" alt="3591669695358_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3581669695358_.pic" href="https://githubimages.pengfeima.cn/images/202211291217634.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217634.jpg" alt="3581669695358_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3571669695358_.pic" href="https://githubimages.pengfeima.cn/images/202211291217655.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217655.jpg" alt="3571669695358_.pic" /></a><a data-fancybox="a8atiui4ac" data-caption="3561669695358_.pic" href="https://githubimages.pengfeima.cn/images/202211291217112.jpg"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211291217112.jpg" alt="3561669695358_.pic" /></a></div><p>以下是一些更加混乱的图片，看看它们的排版。</p><div id="2zctsaohozh" class="justified-gallery tile-gallery"><a data-fancybox="2zctsaohozh" data-caption="图层 2" href="https://githubimages.pengfeima.cn/images/202211261944169.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261944169.png" alt="图层 2" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 3" href="https://githubimages.pengfeima.cn/images/202211261943267.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261943267.png" alt="图层 3" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 4" href="https://githubimages.pengfeima.cn/images/202211261943163.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261943163.png" alt="图层 4" /></a><a data-fancybox="2zctsaohozh" data-caption="header" href="https://githubimages.pengfeima.cn/images/202211240113002.webp"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211240113002.webp" alt="header" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 5" href="https://githubimages.pengfeima.cn/images/202211261943168.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261943168.png" alt="图层 5" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 6" href="https://githubimages.pengfeima.cn/images/202211261943142.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261943142.png" alt="图层 6" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 7" href="https://githubimages.pengfeima.cn/images/202211261943130.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261943130.png" alt="图层 7" /></a><a data-fancybox="2zctsaohozh" data-caption="footer" href="https://githubimages.pengfeima.cn/images/202211240113029.webp"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211240113029.webp" alt="footer" /></a><a data-fancybox="2zctsaohozh" data-caption="Bottom" href="https://githubimages.pengfeima.cn/images/202211240113529.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211240113529.png" alt="Bottom" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 8" href="https://githubimages.pengfeima.cn/images/202211261943523.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261943523.png" alt="图层 8" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211261950311.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261950311.png" alt="" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 3" href="https://githubimages.pengfeima.cn/images/202211261950646.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261950646.png" alt="图层 3" /></a><a data-fancybox="2zctsaohozh" data-caption="Top" href="https://githubimages.pengfeima.cn/images/202211240113864.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211240113864.png" alt="Top" /></a><a data-fancybox="2zctsaohozh" data-caption="line" href="https://githubimages.pengfeima.cn/images/202211240113136.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211240113136.png" alt="line" /></a><a data-fancybox="2zctsaohozh" data-caption="line" href="https://githubimages.pengfeima.cn/images/202211240118784.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211240118784.png" alt="line" /></a><a data-fancybox="2zctsaohozh" data-caption="line" href="https://githubimages.pengfeima.cn/images/202211220010636.webp"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220010636.webp" alt="line" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211240113030.webp"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211240113030.webp" alt="" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211240113851.webp"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211240113851.webp" alt="" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211220012549.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220012549.png" alt="" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211220010505.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220010505.png" alt="" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211220012603.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220012603.png" alt="" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211220011487.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220011487.png" alt="" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211220012078.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220012078.png" alt="" /></a><a data-fancybox="2zctsaohozh" data-caption="small_character_art_0000_5" href="https://githubimages.pengfeima.cn/images/202211220012424.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220012424.png" alt="small_character_art_0000_5" /></a><a data-fancybox="2zctsaohozh" data-caption="small_character_art_0002_3" href="https://githubimages.pengfeima.cn/images/202211220011179.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220011179.png" alt="small_character_art_0002_3" /></a><a data-fancybox="2zctsaohozh" data-caption="small_character_art_0003_2" href="https://githubimages.pengfeima.cn/images/202211220012811.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220012811.png" alt="small_character_art_0003_2" /></a><a data-fancybox="2zctsaohozh" data-caption="small_character_art_0004_1" href="https://githubimages.pengfeima.cn/images/202211220012573.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211220012573.png" alt="small_character_art_0004_1" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 2" href="https://githubimages.pengfeima.cn/images/202211261950844.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261950844.png" alt="图层 2" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 4" href="https://githubimages.pengfeima.cn/images/202211261950073.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261950073.png" alt="图层 4" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 2" href="https://githubimages.pengfeima.cn/images/202211261953865.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261953865.png" alt="图层 2" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 3" href="https://githubimages.pengfeima.cn/images/202211261953562.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261953562.png" alt="图层 3" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 4" href="https://githubimages.pengfeima.cn/images/202211261953884.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261953884.png" alt="图层 4" /></a><a data-fancybox="2zctsaohozh" data-caption="图层 5" href="https://githubimages.pengfeima.cn/images/202211261953885.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261953885.png" alt="图层 5" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211261957177.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261957177.png" alt="" /></a><a data-fancybox="2zctsaohozh" data-caption="" href="https://githubimages.pengfeima.cn/images/202211261957784.png"><img no-lazy src="https://githubimages.pengfeima.cn/images/202211261957784.png" alt="" /></a></div>]]></content>
    
    
    <summary type="html">&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;tag-plugin poetry&quot;&gt;&lt;div class=&quot;content&quot;&gt;&lt;div class=&quot;title&quot;&gt;空洞骑士&lt;/div&gt;&lt;div class=&quot;meta&quot;&gt;&lt;span&gt;Team Cherry&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;p&gt;没有可以思考的心智&lt;br /&gt;&lt;strong&gt;没有可以屈从的意志&lt;/strong&gt;&lt;br /&gt;没有为苦难而哭泣的声音&lt;br /&gt;生于神与虚空之手&lt;br /&gt;你必封印在众人梦中散布瘟疫的障目之光&lt;br /&gt;你是容器&lt;br /&gt;你是空洞骑士&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;footer&quot;&gt;诗词节选&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</summary>
    
    
    
    <category term="网站建设" scheme="https://blog.pengfeima.cn/categories/%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE/"/>
    
    
  </entry>
  
  <entry>
    <title>有一天</title>
    <link href="https://blog.pengfeima.cn/posts/18603/"/>
    <id>https://blog.pengfeima.cn/posts/18603/</id>
    <published>2022-08-20T15:40:00.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码错误，请重试！" data-whm="这些解密的内容无法通过验证，但您仍然可以查看。">  <script id="hbeData" type="hbeData" data-hmacdigest="6584c2454984bca43a4329334dddbc650c09fedc0204cbc9c66a0002cffb1487">6031008eaf30dfa9f6cee48a6a69006e4d2307147359263829b2f62a1a2e7030229da9524b92f67ab4045da0cd1b464fab31901e542920f7adbfdf0d21ea725d943a664032e4445e2a2189b547dad5708ce63caf0d996a77b1b28ba5e01f20463f648838b1d649e03e7de05f84a3ae189c12f113a9c161165e4ce7176e9d483b38ed7b7fea7e38ee1dec730c6587c4ab616ab6a2b69bc809e12e87484f1c8ae41ce5bebbe7040529b0b3a1b028df67a7fdd700b46535616a08692e272304ce319036d911c315ee03a6371e68c774d7837e6228edeb26f931682bd90901cc6490eae2c4572ad23a51f703b2248e7b305b27d3ea03a7b525e5d7ec4ac005689f179ba767d9568afe12b11d5aeec3beb359fcd4e1fca89f3dab1fd152b19853146549ef7c6978bf8ff5d7dc41b992a9dee81959ba865bff85101b6dccba52430a532980532b594aff1e2bb9928550d91ae01c50c4e864ed3e626ea6b121133255a5b4e1102a96f703dd24410455494d596d5d6cadcd17b29cdb412e90a0cb6b9efdb66b6b22fe5c1687587fb779605a97a8d83422b7562ca6f00654dd320cb04212495383b4ce7243e98123ca82fdc4af034185f2af2fea65c5504cde69a097a8f34ec8e62e86930ca321a6a7f6a66bffa2d335f1a4adf56b7025662c918ae0843bdc03ab42c84d0a347900b2e3e77891694aac98eced239e1c2b33358a3bb23cb51b897bb4fe30eb51315d00d5413229ee39390a0f0edac59e307a1716c45daad398b5c051610e5e6d541570ef0a754b5d6239d520f25e7898cb009035b5a738022246abed51cdc7e9054e6e340c1b21c0593dcc9416546127b09cbae5af51c5482902f6f1e3f5da8a4758cc8f3f2c88063d4a4f8bde58457c72bca32b89a091a5aa1d7fbad7a0001beafda5aa2a6512d9204da652207e39528f1df28a2647521b70a220512ddc5d728f65f8223e68c9cf4069fa8268349e3ba0f2a7671d28f1375e116e6cc446b2226b186af79e82a75f07538043523421043b13e64a53735f6b12ab45a0d184d91bf537d8e4fad26addd8fe4da6e6c0e409f57abd32f9c2f07d7c5383feeb68c2a3747f345cc84a267b7fda9b582c28385967538543d2befe5e0c6e6b569c8349761de143648b4559273d7f0abf21e9b54324bf876dd55deca4107459585eb76618252e59611799da5b90e3187c42d6d16d51206854ed348a2a9974d0618062d857633fa47f8df6602e283b67df6eb343e91811cb049f18d891e9bfffafbb8dcb1291c70a5b50506f932a6f6da5e1cc40b94af2553a99c85082702a6ab8949a07d2bf22492b4342567e9f1d561a0c88bf0ab5f45604fba7a142d4822190b06d31f4af8de62c19ffaf8ea25c0e735ad47258dd7a585f67580b2e6c9d029e3b4dd65f5604d5ec4d3e83765053c2e204caef6572c97b598ffe3880cf0af720c22cbc7e44d51a7741fe6ea7db4d8b1e986f62d2837ca0f34984b21e497e20c8605cf3a0c4308d3f9ceefa6af5908b34aef283220ea1e3d4fe81badbade420fa7aad7ca7492f7aa9df2e4d4cd143c4df224cee3b45a7347609617158a589ccf4fa91da7e246a679b65d6043c8272cb9f3c1feb2631eb22e51fabdb86e90aa92ef8b512badb77704ac5dca21ae61c5ebe6b13191170952d0497861851be4f22f4a64fd854f4aac33c5a504cd56e7785088b798d63e51b4e65a83c2d7cb057d2fbff18370b26582bea86c2fbd038d4c099dbd4ad717c6519f372ab7afcef68bb972eead1f937bb291d88707e06a2590c47631ad6b4f8e6319694bc53e80e7b7feca20e959e413477a3bbbedd4df78cbbf631e577fbcde0cf830f7b9f7406d9aae6f6e8dd6a6fa70ce7b5fb808a11264d22204d891f3afdffc4bdd45f8649aab6391ae0e0ae1171704f35397322ef575c90a3113ef318ab457a0c9bf858997c366e551be6439278021434680b4e05212cd7ad2b0433c0db9524accc0b9e1ef4be9d97abc1ec3bc70e17e83824940cfc27b91f4d4c425923f1dfeb15ea85af21ce37bbc6d2852b248272ea0cdf0044fcc6f91e79371a498ac59204ee9eb435c390b4ca4e4b64879a347fdb2fbc341a7a8c86c240cc66c815694382fac3eef469ac1e35149f78336d7d00ddd5ba41ad3169c76e7649b1fa593661b18cc5e6b140cfb4413c9be29c9f132e46dbddc65e9e056b68bcd8fb9ec753a05a82c31e4e692d2c35a2d5e95fc8c8b6ffc00a970f4d5c7a54381553b69916c99ff0297e07379daba8d31251ed735bdad33590639213a32379ccc71a8b8f0935fbcef0c71d70d45627cfe4943ef13556dfdceae12cdac9b332382ad6b93e573ba0aac16d231dd8c0ea7996d39e11dbf7814d1c32e49d42b49a4a280b03c9f36067d73f9e8fb281f39697f31ea3d570be7307567d905d144819e206ad6c966d05888402918a8ba60c7d12195ba4548233e158a2fa7213e6ea59299a09546e752d5cfe4ec04c3b18bff927e24525dadc3d8a90b6487ffbbab38d46592c99ba92b98d0f13ad0dd6257952a24d5b7e105620e3a1152c37a6af491797172bee9daa2f37060d4a108a987921ef3b92dd5da267c38c41374acde9db49b2c50d543509f5a095ca9737f8c183ee656f394663d929751d42a73fb202bc2ce05e49120c741cceb84e300199650f8dda7a641a6804a09696e0a006eab9e53cf69b49c2ad945b99f75c7cb5a6bec1dd9947ebf1869db645ba79d599ffe429ac496bc86e2438a0215c74b36b7be2689e27ff9b44c4210256f4e264794702e967d7c75c8d1d53a631e3f045c96abf81e8680da6ef89c361b114d99377c50ac254d8990983b7ba689b9136bae6aa9f491cd9a64e12a4cd93dbfca11209fbdeaa3ce29a4d8bc7acf9d6cc76da4a67ce560bb16b189ebc7951d76173d5c8c7d47b282f2c201df7db182faf756fa538298141763429c0bae8b2a727138e5410a87b07bfe57d4154a34046f4c73de4d03463ccea9c200f17ff935a5e6fb998e2277853212a697b6c50b93e8c14e6aa261f53264892f717d7a3ff16307e3779b6201a56694929c64abe11362c05aca39f8727177d78f9eee38c848e47d3cc8ee4da4b3e8fcc40a2538b66059b6d56bc70eabd93a228389086ed48ae0a6851d3f3970711836c40f9ed7fb895d6378b0c7188ac798a96505d41b6806ed9d02874f52a49b58b816dcef83e058189f10574f543bfcfbce98edee52eaa1dda70d37305195c506ab6ba7ef1886c235701eef139c9160c59a7a101458176a3c6f06f13f46c158ae0131997208403920c9b5087a8c17f77d8608f9f050abf7679c78d1d1fd73bb021a2bf70dedec95b978c2c123ecfbe0a51270897ccdeaa7de89e1d9a5e8a4c809b933258d909486ee857aadf47b930e8017c242c2473c47bf6cceb60f40636fa76e3d49261ccab5f170b910acb41183aa1142111b5d90172035a193fd04c5d5e793508cc5f4ce9b07eaf2885fdd358a919161d6f48b56984fc71b2ec8f985baa63c1759c34ccab32a05254ebf993bd0da7bdbae0e4422ce2919c3f9d635ec5a54926b700e79bcbbacc8cb8d7568d9b3d823205ac95097e3dac3f930b1041e3b7d672f4509a5988aa2586e10833b5ab188755dc898fadbbafdf95770d42699ced9899f240407cb01fb44382c4aef19779a110e81c9ff35014544407fac03296040d857078580b32fa08a8a9c0151d97b7558e3100d26c65def613c84cabaa037b99770b91df9114728da185adde6cf43f3cf09845316dfa12fb197db1b35757ac50c2920275124cf76bcf4e169fde15cda87df022d1f2fd610df1fc4465d090bc1ba890248ec3f99b3ada93278fdf0441504e91b3d36c29f1f88101a8c39571241fa01138553e871732e0f387f0d72dab56c01d2a1e9a5a94fa4a7920dda81ed71109a292609e099e368581d22f879579b42a1ab6866d83abc1340dafcd66986b93736012a7e652b21e9f1dca3037e0806602f70e416f74fa7afd0c03a8fab1a7dd2ffdabca5809abb8a563a21853f66b032269eb1b0523a7a69071df24d5223b54e35dbe03b54df51ebe659aeff3a2592a857b096f0e5bfcd971114d8086b3bda9cb635b11c594fe9a5ccfbb7b7737188fe4bc65d02c5ecade90503c5eee5f5f85514e86cb0d2febd1aa42e8f5c0ffaf2090dc77579abf1da67f96b54deb582a7612e202f312bdc3670844190baaf24be7c51dbd2b18f8aef823d08b5db6a85a7cc49981694a66488287195a412eaf4644c9594f26414d18fb63fcb27b81821f6bcfe55a2aaa0d86bc60221ad0c8b09f528361ea6112bc8a74730d12863cdd5cfbada0308cbbcc6ffedc0860ffe87c60d13ee90350f84fe9f4e0fd9d182226a9d158e27d1ba44f40f6112299019c60b76f856f1db3801315cc97b8604584eaa55d1b0febdb0566690578b0e188eda11ca431c96b48e37586ec96b4332769f1b94142c096bf7082c28ef3a8f00dca532207e3b0fd7daee1306cc17a94b155e6ec84c1266d8685c4586dd237f6d52812bcb8027fb981939ac525830313681d8e673073c8db56f135fc6a20cbf0fa5c43836986f172e2c911b32e7c682027caef0783fb44462ac9a266e37f35d5bd15c7e47bbe8370896fab01f0cc4e333458ebfb44d5d2abac8bf8a805d33af9aa7219e728fe6e983f555b7e36dcaf92adf11800f6438b485b7e19496f9acef917dafb89c3124deb13763b55f5bb0ce14d13523c52b7e22bce17af95bafa609c46b47d70719ed1c73f4f378c75353e57deef8bd734fb72a29f92f650ef466da709cec1d459b5fb14af86badfb90dbbb5c648b112de71418f5e3dfbec0cdf492e0df8336056f2baae50a0ca5135ad4804b43606fa0d936294e34afaf23ae4735c7fc5b7a524f00c776af0150b1208f3dae44387b525afe93cf0728c382fc07575da50ed943b0e0e07b9392e94f979e74134d478daf8862283afbabb8112586d57bb9a11d0ce846d668efbd1d5671fbd7f17b356e4800c827b15a4cf3befbb3f1539d7ce1aa52316176ea475294b5788e5eacf78f2fc552411cffb6c6815598663913c0019a19d972746478187a09daabd4648cbb3abe85077873416ce9be154d90566f98597188b6068abddd377aa5d766cd1269a412ab619bf1a19a251a2d743092880935055c9a997f0b96a954469922beff33216be439d92b9e0c89d5252db283b7ad5e480026a46bee9dc633d693ec4702fed0a1936d2d96b649d5ca2d312d1f85274988f08507de36460930b8b9bf2ab89361a6823adfd66fb6a869809</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">访问需要密码</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">这是加密内容，需要密码才能继续阅读</summary>
    
    
    
    
    <category term="加密" scheme="https://blog.pengfeima.cn/tags/%E5%8A%A0%E5%AF%86/"/>
    
    <category term="公众号" scheme="https://blog.pengfeima.cn/tags/%E5%85%AC%E4%BC%97%E5%8F%B7/"/>
    
  </entry>
  
  <entry>
    <title>2022年12月</title>
    <link href="https://blog.pengfeima.cn/posts/63420/"/>
    <id>https://blog.pengfeima.cn/posts/63420/</id>
    <published>1901-12-02T13:18:12.000Z</published>
    <updated>2023-01-14T04:31:12.269Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="密码错误，请重试！" data-whm="这些解密的内容无法通过验证，但您仍然可以查看。">  <script id="hbeData" type="hbeData" data-hmacdigest="f5e61fb07ecf4b5b0d0e357ce72fbec6e9d3862f238cbd201ae4d4346b68abaf">6031008eaf30dfa9f6cee48a6a69006e4d2307147359263829b2f62a1a2e7030229da9524b92f67ab4045da0cd1b464fab31901e542920f7adbfdf0d21ea725d943a664032e4445e2a2189b547dad5708ce63caf0d996a77b1b28ba5e01f20463f648838b1d649e03e7de05f84a3ae189c12f113a9c161165e4ce7176e9d483b38ed7b7fea7e38ee1dec730c6587c4ab616ab6a2b69bc809e12e87484f1c8ae41ce5bebbe7040529b0b3a1b028df67a7fdd700b46535616a08692e272304ce319036d911c315ee03a6371e68c774d7837e6228edeb26f931682bd90901cc6490eae2c4572ad23a51f703b2248e7b305b27d3ea03a7b525e5d7ec4ac005689f179ba767d9568afe12b11d5aeec3beb359fcd4e1fca89f3dab1fd152b198531465cb00fa05864ac06b01388601421a1e9046fedb76cac36299d60bbd0d1717440f6042040540adb4aac1995a2805f92fa4a1314b4b9241ae696ec5b253448845925d083dcb41ffc9b250864d3ece7e38a6276baf4081c7d92c3e01a5b6ca7d8848ccfdf43fee133db5050e2a9cf18a76b26d07283e51d8b1dbda143f119504f57f98f8425237ceecd1fee252ad8f202128566963515d6f831661266d7098d823af58227731112c1f52c54d3d0a6d99b83556eb8a735d1ad921ddf46a62dac0193e5a37d7cf4997b5beebab3b95d238ba4f764b30e4aeddb90a0cc271ebc95c9380167877e9bc89a65d6009a5113ccb1c02f872a0091fd5e370f0a8c2cbf50b4e51d8ec91ce80fcf991bcfb39a306a959ade82676fc484aaec212541bffcee23cd37c5909021e16dff2e35ec13d6710d5efe8bbf9102c3142ef4fd901a5b202ea40586916e9f70785420207c0c2da4b5d2f5d2467ac31ba03e6a48f1b17358529d825555ffd400ccc9e447d2e0be9d5fabfbebab0d53b7f1b5e28e52c8ab26ad4d213ea1b9f70b3868250cd806368307652056ffd4d8706080a4e8d248fd049974ada4fd46808272eed694739f0a2d7e46d66867ac612079dc92621bc513e7f6dbf9425b9a8df444537f1ec5d45fc50931842ed0a84a49d8fbe8e6b8418b98c820703d29524858b3b63128ec5a2eef0fea176be6b2d468e9afefd752dc7402d29d79ed74b7a29c66f3ff82c00e41cc201621cdece5bb7a18294c64542f8d72ea80a8a0b25f995e4cb46b13a4bdbbbafc0a7f091f57f762fdcdf54ade6cb0aea20c7599a447a5a406c5cbf5c95fa5f4007c9ddd3bcbf3478680d41c5bbdd7d47df8a5d1daa0f78e566ba9cc6b5d040fe62098592d5376fd62ccbdcef3d5bf66d2963409248202fe6e9d3a0e9dadf60ccf3255ca36e7ac903708d89bb7f2aaf60394e71d7db38e639e121ad50bad7680180c7e20225675d0e2ee7a6f885685eb82959eaa4b70a79352844a7e4a7b9fef8f2f9ff1c7e8789b0d7628df7980e80b22a86d51665e92c54e8b079c85f478b6743cc5450e2651595cb21ca36f0260d07391344b920b3cccd1f2a7f8430fcd13e80525e7b5a029d35f4c7113d8b314480cf2818053a04fae64e41a7b39256cdaf08c1387bf098550ff50ffb0fa249808da8b1eb362b2a397a494b4710ecdac76dc9bd7141a1fc72efbc5bc208b5d6c2f5191a6981f38ac0eada2d189636b9c7f282f7ac708817ff71fa712ba343106d09ac35ec6d5ea1c9c0a3db43c0bd41c90caf74cb32015024fbc970b0d5a757679a02cdb2567448eb1b6ec38970b364b2076e1702bb70df1c73146e0ab82d162082034f1f16eee2457112f3b66ae03479777ae7ea9d673545b85810c11e1c9b3904b1eaf531a1ca483879e1666f90ed4296cde8caeef73528c9e434f993ee0cf63c74099aa7b2abbb1c451038c489c836eafc5ec28a8984a9f7df863207d6843f657b9cbc375addd984cc5f270cd2c6d7ed47a6793bbf2387082a5113c2f8af0453d3521bf624a1573b52d7e01cf9d3e9bfdceecde1af68452a2eafb4162466239909243130dbfdc66911ab34b078b9b5dd7b3aec1e1621b5ec38c76c27298ddb53db8909155a73f9a69ae14e407948de720a5cadf19b182030c9972955d76df68d7ccbdc707fb2413201a16b5470c598af97d36d825f3d31bc3e315326bdc489e3cf7800b21ccc1a7fcc40b180da43469726546cbd8fd76b687ec15f693bb1a4ec4b1654ad888a5a104ce0c418b836dc8d6172092850cba9243645bc6905467fbb7540fd0a40774c3bc785dd8be1cc21792eac39c159e241ba4a33757bd5d9590d4abfde91baf6cfb97933a54b6dbdc5013fbe77efef2970569e7df16d65daafbafdbe0e02527b23c671004fe1b322734baba9f00a84dc889ce0432a98d8c84ce29a74a674b809d7c8d2c47ff0aa687d2e278dfadf1b996442e58321ca374944a6a5b9c3a74efe8dc1c61ad1214ea2246e390a75d22aa4b29fd8b761a02aea0d054d4faf840647fc7258bd55ff1d0d898251f6e6aa916dd227512f9fe0bf047f078bf091f979f2af72c14fec7b9fe7b1d1f54d2a62c25239116527c81fa089f654b1d2330897281e95d60f5f3e6360a5b4660c296385bbacaead605490d0966e37519e77193e91d4ef910a2fe8e3f2dcd289495fa5485ceeed8cb9df555ce613f1e95fa3e895d33e94412e523f2e5db0ced732514f30a84c17a3000dea80f03c07e9a59de94d4a503f564fc343c5bed29b15e4f2725ea3b1f941dc1a1d951ba56923a9c7fced6b4bd9ccb86ae1649db0438b1fc01646f7fc7a294ffc434f14a0a51a08446a3b6b910d10f6a9100b87d5a67bd55a05e31b40bff0dfd24e03f028290b271afce78caab0593707ce9bd084ba14891d3aaef16bc2d5d761487c343e94a9e8b8e5f36aeef8ae34f104b780c9bf6f3f957ac7d6006de434f8c3bb08165ea05e23a43670813010c4b1166905d77e2f2e448ac188bdc0133204cb35cdd9e3d0c7c8131edfb93fb0983676fdc86c81f9dee846099b1bfd87f7945bb70e0e9ca6f5c9389698a3cbeab627886153cf3fd180a95a5395c6bfe0fc66c8eeab92d181d260c8997009c3c8e1a9eb723a6a91b520533e970b7ab31c666d19e136a206adb45b4147e4d87857e72b5c0f9dfc8df3f9695d0453a0664c88afb8a29659144137d105b2882049f8c56ec89c6ab28b7ac9c432616ace010528cb61e2ef4498f84578c7e0411e398b0437e70033974be364b54f2832eb396507fd53356a8587d636cb1c6180b9ba1efdeef8bf50ce29cfa427887205a5b0cdd99506afdeb927455c2cb1e1f58c7460ca7f5e3be052dffb8208c3b0e70ae47cce906df9512879fa3d9fd03dcf91167b2f46abc7eca3816e986c5ada9e4455ff5dea7e801cbaf9d28eb64261b51639e503fd467816d33bb79e1679c9fbdba7c792537aa15fd8dfd05f79df0dccfad089ef83b0713cd37fcf1e2cdfb4a32a90a3e1ba592d0c77fa7d9db8b890a96b2c9d08abcdebb65cfbd21e7a975fe90f3453f1669653b191d911ab20ae0729f4a267936492537ba6b2b5bc747d1fc61a9908f6284d28371be872321533c843e93060edbfa9e9a9e101228f2dbabcfd144e560db06d075e7e1dd0f5ff95ed610f523b6ca64061433f0d6490dd59ebca598e674e3023a595994279e25b8a09379f29fc3d5c44c282280e00931ba9ca93552ed5f34d5ea5ef38c727e6ed2a3d71540fe8b4f8e1479db68bae46e3253269e6d9d030ba98b7bf5028d5b9b1f2e6451a7c499dea610e6bd1c2a4e4d0ce6dee1a03a121e0cfe0e266ad85e140d19c589cd71c2fa53d07190eb4f2f7de85d1ff3180a56db43354ac8e1d86ac4a47138507cf1a58cf52034e1df952befdbd05023f0b5c31aec979843ba349f4f0b4b97d0042413bd699705733b090ec703880beb7a97d9d6a43ee475f6dbe3c1b8413825b71dca21826adcbb282efbc390bfbeb23e518b224e5a59095eabf28a81661d6beeba805e0ab3ec05b498e118893fde2a121fda040607c30b40c39318823011ff760986bed1d08231c32c141881a224b1523446db54b65fcc70a7fdb848aa6f373dbc4391ae8de96f446807aa6caf694839b4411cacdc17ddcc6cc2170b080b4c678f27057b5b9cb8dacbca3f45432b666ff2776d68827d1a8993a91c1944483390c4ceed27d1fb4da2c116639553af1e94eabceb41796974bf2ae08ba37a8ba2b8ffc0d3524062fc7ce01eada8292fa813c657b508091df8200f38f1110cff186b4c7dae5c3b0c1809299f9587c7783c324e38b9915bd804d6eac03bbdfeed3f5e1e8a3750d45968d5b60c7976ac144e0175609eff6a3d6d46fa9e9693c42778a5caeeb5e4b40319b0d466f448d07a3b27a19819e0cb72c7c180fea55893d5721465975f12b5868473af28cbf58007b541446fdec57b11fee69049eaebcb22c53ffb90ea26dcfcafd6f2a46df1a845e318ae65bda2937860f2b15ea837a9d15f00903237f8210775411fe61aecbb40642bea552a3e7ac56e5b70fd31c7b6283bb3b4abf3caff1c2088db3f2bf5079de9218b49f3976523e6f8cee0a9235e69ab1e015088f7256e6ac7432bffa6f87f0efcb3235200fa8db5fd6734332fae56507311129dc7ac6d0db4e9e4c900a0bc0e7c2ff50ffbaafe4c2f71a7a8ebe6274b0df85a577f65e3cebb63f57e6c0511ae884df327bc7815490d285b0580516386f9d1fadab4427fdb25644aed1dab97f9cfecffc0651eccbff3d9b97ac8cbf0e6bf76271b834938a319720aaf97f9a910455db7fd18e948bf72c9aac8e546045bdd8498f5f25a50416bb8435991e9329998df891a26c975206358266f66b50f841c0387e96b22827a8401bd6af53e0e5423c70cdc7657c1b75d8dec278e9568a15d6c3ca4287f03a888fe23c51091891489e3c764719651554c9c6dccb5bda6189370bcd9782bb594eb43f7de5cb2138a4bf2d536e55ffae2f04e70a86fd66bf7c2e20ae5f348ed50bef8a76f051f33f8b68ce21a226535ea312db8c6bee3d6c3094289541c091654a92e7e0e2bf5cf2d351ff52c468278d916cb51a5a0e4cf8ef0c966ab24637022a65492acf02a457cfa32b77a3bb252ce49080e80b449b67b00604dae86180160a88296c15494b917a376cd78ea3939b4df40ccc033ab1799791b857482cee2014b605360e140151c3a05d523784d5af2139417afaf2a1008d9c1b919c6baf3ccc8d7bb9f626c7cb9c993f8ce4e2e6c58336acef983e461600298d43efca6342499455e47e02be4761f624f67b0cdddac2a65ce39449ecb80b2a000e6e72874e7114c95d9784ede0a6c960ebf942302a17bb57f5f385d4b623c40a236f1517e5459e91a3691c05b224f9609f2885057ddd10b9023f7c039edbcd2a9f57164d735a29511a08ba8015fe9f95eef3ab55df647247721eb67a1924ce6a60fec871ccd342cdca76c62ebaad9ebb9c769ab82bd783465811aa70a3b1906d13f84ea695fed4a8acb72a89d13bbd5e1c1f9561c96c29213773146f047dd7883cce8af373e426bd2434af185b75e71806b164bbb99ddf2f5dfe10b7b802156f81d859479d91682278965d1c236003e78a8652a4de86effc54a095d8d3062046482b1307868d3705eeb961d712bef5a7c01f668dc8fd7cf87c6f69d6ee5a4e172807d74be2b8e6b60cc0200e73b1366c26b30a02db21063877787fba050adf5de63622acd5e897de1d301a21278af7c733ae5b61302c24391fbdd460a4b271b7930cc1409532012d46706bcf05d45febae6fcd4e1dad22c1bb345518e3dbe8a1ed1431fec98834594427b945c237ffb6d39d6dc8290376cc74c9473b5efb361fae0085e4d5ad5d015eda2c34c0dae91fbc2e30d0010bea2292b1515945b1ea31e8dde41e8e73172362abdab68d6bf06f789154ffc7c1f95cba7250a47d20952b8b680c3e58d83e118d8afea8c46de1136b4bee7f50fa83c46d925349214e61b369710e42866b54a959ae83869a4fe3f7cde11ccbea5a5ce0dfa37f5dfb271de6f05a7084eb6811d95c61c0399b1ae690c06ab6d0d07f8c7afb6557643d8b93eb83868065bb2c0432495fa54ce0bd6653a5e6c9c47bebe3d7aa22a9eba06daf95065de0d6d9b8e54267d03b89c4b75dc25f159551cd84692e4e27cc18e3f01202d93f2f02d9cf212d65677376bdf87acc067a63457cef9bcc3877c2a412208c8ed7daf785873b2b74678adbcce92bd201b55edda7140354249dff5c32e9a0b69f2d5b63ffe108e5d731992d608e770fcaf5a813fd7130714f316f0ce7967e78d2607bc404c9ec8d47330912590edbd113e320b2e77d2718abb1fd480109f017399e81dd0a1dbdb3ac8e68303fca7a9a320056eb9ccfe29f0cae7ac7ce6a0216aa431378c66100a23c579f53ecbf5422f7717483f3ec2dd98ab475dc2a093e43e1a34fd523f22cbe74e87cc873f3b2449391b5cd5cb30ea3b3c31b9a762246da5d1a6035d1ce9ede4566545d27ab00b8546fb2db6ef1a02f32195f01cbf53668ed1c1a32988a94c3c74346cdd623cdeb6d953200e7ae150a24633e10574f761149700215a930c13b49ccf19adaff470d5d916c9faa23d38fa61a99a584f2aa6dd4183ce295ff9733e629f98dfdce2f4f583c8aeb3d60dd458978d293e907055dbb0fc4f072d00ce89a54cb09283ef8f4df032fa47421a6fbe135d977bc8fa31e865bfda079f1b18348cd213ea751914d6a23eccd5850fbc419940941e7da52e44792d26604e915869d7a002064077d72c80200ccfb1b35090a45b619ee29e44a851ff56cbe01d0dda9bd2ba1efdacfd5371e8864bda6be97023e8ebb12ccf11a8cf55cfced975a371616396ed765faac22e5fc6a6b002d5aee154c61c120c8350073284d6da60b9044c0fc1c2ba287f2dc448ba70abf24897bd5b66b82bf9cb14de1a82bca4d1c41aba87ebdc1b8b0a03bf77c0e2eca9979ab02b86eea4213e4dd507543283ca115bde2b1423ae418024bb22a47ea46c226085cdcebc7c0ba7ce0492a61ed128b157e8b641e20db5427226e1828adfc37b12bcb7f356b90a886396c04cee23747aae8f6ff392d01c3e40c727ce3954b26503a6ff72ea35ffbc4d9e2a10e6809575fcd179d61f6b3a8b65569795260e972d48945e210537935dd55c0de66c35c6f925a5787097e65bee3d365fa49b206637af6c4ef223dcb498ffbab77a23074fc198d9c6465893cc49deb07b8f8406c049df8d9e90646975920678dbac922a98ed45960c81e52252f55694ed15d9cac82cb4a273878dae2614141b0f04f7d622d3ad29a9279794d8d80142c1e2f1a0ada56f7d2314bb60e00d6228d78b7c555190494138ef81bfa0ab1d2a4bae4c79260a3ccea59c36b8279f4586ead1698ed89e86b535f5c4f642d01838ff11fef3e4894a0b7fb52ba8eb9a3717fe85b1587b569cf8d9c38b3b42040ec695dc7cd1bb13a32d8d422914946933e5b9893aa94be444ed9f3aca78526b3365bb014a3381d7a48e6abd1f2ec23726c378b8b9e165a08c1c606f373495a3259028bcace17ad95ee5e3d0c27518f879fb7a236dbb0f5be7b4c3c3bc8d85f380aaa8400dda25079000d8332f2158a7121a405cfce6b100a8da60730e4b49044e332687bf3ccff5674851e9e4a8b4f2e9e3a714fa2cfba3edbfa856f2e8ba6f7cdd70cd12916e3320152dff9c2044d930ba1c13c278e21b2599abf83dc5d5f62f614a59ac378885a456b458a35e04e2f9466b722d924261e900a1aa2bbd4eeb55b95c3383f918896786818186c7eb5b6e34791204113197b65d29216e03d04bb95122411466ac51688b339f2068fe60d268a3ec0669922d86bc3b9057e755fec4bfc34e3e29584f206f0e67053d86dc96f8383198eb11c22cf379eec26c9a67a557021a7ac03cb69fced7a40dc59c82dba78af3442730c5ee1117e25fc5a29a7d9b7ac52b3a430599ded283187a70922fb63f65039e61b038ee68ae905881d180d3adb4740d96b724c97a986ec5211e272c9bbebcb1303e256d57c7ffab6ab9bc880515146428feaabadc45571447c4725d1377c8e03ee46adb66089a4b6cb49201538644603f01ff20e099ec2e3d2fe0aa97bda17a71b55b64b30b8a9324d087768d78133288045c7eb4d580c05fd987e114f6ec2afae937eb1ceb7b03d2bd02b076e24f98a325e03c6b904efa5afc6ec531f3b59f2325447bab7d7bd933e5ce7c1edec1f84343e2fba33395d5a20af4974e7d2e9623e4326f7257f54307755f120d802737b34c3e261c872ea7eede88787b7d286335d7409ab4734ce662eab626b186c2085eeab2bc333e74445b6a1f21a94664b210c40d63c1e04817f5f9ef1d626a41c57be9bbe9bfbc8ed5e91d8180426adee14b6ee77cd9b2005a0df80fad13a7836bb18839bd80d16e637d34fa6a854c71bd4ae3270b844a2973e6d0fe2c59656b73b2d6d73c7e95a9d0d9b28b518b81e716e532f8edc66dd7a46c83fed2b9b5afa405f1c49991e86328fa52ca0c7031dd8bf1165b66b1124ad0e9a5be7f6883d46b8b645d96ceb1ee12d8cc27dc7e091711c90afb81a1cf89a1dda300c7f8a7de9eb4b74fac514f51747ef8a6753c9c149d18091e055668410c2a2aa8ab0baaf99e6c52ec90d19b336547e6ebc6121be4dc5b0150fadeac172752626ce9bf467a14f0175e793f9f2de8b24e3acfb5b82067c379d02d7f80ae1c4c2aecddfdc1e265ac02999e3fb309dc1c5cd6c2314f42bc8f1e32185254391451fe012d2593926b49923d31da2fec1e1a62040aaad6aed5b2b3eb543c446a2e593cd88d4eff315b6003a888494b1e014a6f666527ceff254acb276d8a38d6c651dca7ddbd2329c0159224c5c25edf653376c1dee046e404c22c093e467dca14bd2aaa795cbf5f7191af80ac3ed459b7fb6ffa73bbe0c7a5fa3174598f947a5d7b09ff5ed597b4896632f7d9b0590166e112627d8b9e8d88640997ca2072c574b4678c00810b39842e0cdd01d19113b8da1fd661730624baa89ea7313b9345bd9748b1ba92d334cae9b717a555be1e29c54e148c902217261afc9b17abf93c13d904dc82df07828487fc6d8e5b1308a8bd4991ba86e3e27518af624d89c5675c5a5052a67289ae3a1b439edf139de9208a3ceff75304f892506c3f2df72aa9ee9d4340c5a4e4a28a28f87f835095c8b4bd006bed5e6de74c9b164451da0db8cb2a808a962ba0308030c0586cf28216449baa53195eea6fb27ecf0f5faff60197aaa71eb660329305a90dadc68dba978ceb9e85f4c48a25c0ce9da0124854985f44719fbe81deb930b8e069d824ede7650d0db85a001917d768890d9fe4378b00b411bff16661a7cfdaf047917</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">访问需要密码</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">这是加密内容，需要密码才能继续阅读</summary>
    
    
    
    
    <category term="加密" scheme="https://blog.pengfeima.cn/tags/%E5%8A%A0%E5%AF%86/"/>
    
  </entry>
  
</feed>
